<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-08-12 Sat 22:37 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Literate <code>.emacs.d</code></title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Kris Molendyke" />
<style type="text/css">
<!--/*--><![CDATA[/*><!--*/
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,video{display:inline-block}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}a:focus{outline:thin dotted}a:active,a:hover{outline:0}h1{font-size:2em;margin:.67em 0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark{background:#ff0;color:#000}code,kbd,pre,samp{font-family:monospace,serif;font-size:1em}pre{white-space:pre-wrap}q{quotes:"\201C" "\201D" "\2018" "\2019"}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}button,input{line-height:normal}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}

/*

This file contains style to be included in the <head> of all HTML
files exported by org-mode.  The default style can be found in the
constant org-html-style-default provided by ox-html.el.

The following classes are made available by org-mode:

p.author            author information, including email
p.date              publishing date
p.creator           creator info, about org mode version
.title              document title
.todo               TODO keywords, all not-done states
.done               the DONE keywords, all states that count as done
.WAITING            each TODO keyword also uses a class named after itself
.timestamp          timestamp
.timestamp-kwd      keyword associated with a timestamp, like SCHEDULED
.timestamp-wrapper  span around keyword plus timestamp
.tag                tag in a headline
._HOME              each tag uses itself as a class, "@" replaced by "_"
.target             target for links
.linenr             the line number in a code example
.code-highlighted   for highlighting referenced code lines
div.outline-N       div for outline level N (headline plus text))
div.outline-text-N  extra div for text at outline level N
.section-number-N   section number in headlines, different for each level
div.figure          how to format an inlined image
pre.src             formatted source code
pre.example         normal example
p.verse             verse paragraph
div.footnotes       footnote section headline
p.footnote          footnote definition paragraph, containing a footnote
.footref            a footnote reference number (always a <sup>)
.footnum            footnote number in footnote definition (always <sup>)

*/

html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body {
    margin: 0 2em;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    line-height: 20px;
    color: #333333;
    background-color: #ffffff;
}
a {
  color: #0088cc;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #005580;
  text-decoration: underline;
}
}
a:focus {
  outline: thin dotted #333;
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
a:hover,
a:active {
  outline: 0;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 10px 0;
  font-family: inherit;
  font-weight: bold;
  line-height: 20px;
  color: inherit;
  text-rendering: optimizelegibility;
}
h1,
h2,
h3 {
  line-height: 40px;
}
h1 {
  font-size: 38.5px;
}
h2 {
  font-size: 31.5px;
}
h3 {
  font-size: 24.5px;
}
h4 {
  font-size: 17.5px;
}
h5 {
  font-size: 14px;
}
h6 {
  font-size: 11.9px;
}
.title  { text-align: center; }
.tag { float: right; }
.todo, .done, .tag > span, .timestamp-kwd, .timestamp {
  display: inline-block;
  padding: 2px 4px;
  font-size: 11.844px;
  font-weight: bold;
  line-height: 14px;
  color: #ffffff;
  vertical-align: baseline;
  white-space: nowrap;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  background-color: #999999;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}
.todo          { background-color: #953b39; }
.todo.STARTED  { background-color: #f89406; }
.done          { background-color: #356635; }
.done.CANCELED { background-color: #333333; }
.timestamp-kwd { background-color: #5f9ea0; }
.timestamp {
    color: #333333;
    background-color: #eeeeee;
    font-weight: normal;
    text-shadow: 0 -1px 0 rgba(255, 255, 255, 0.25);
}
h1 .todo, h1 .done, h1 .tag > span,
h2 .todo, h2 .done, h2 .tag > span,
h3 .todo, h3 .done, h3 .tag > span,
h4 .todo, h4 .done, h4 .tag > span,
h5 .todo, h5 .done, h5 .tag > span,
h6 .todo, h6 .done, h6 .tag > span {
    font-size: 80%;
    line-height: 100%;
}
ul,
ol {
  padding: 0;
  margin: 0 0 10px 25px;
}
ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0;
}
li {
  line-height: 20px;
}
ul.unstyled,
ol.unstyled {
  margin-left: 0;
  list-style: none;
}
ul.inline,
ol.inline {
  margin-left: 0;
  list-style: none;
}
ul.inline > li,
ol.inline > li {
  display: inline-block;
  *display: inline;
  /* IE7 inline-block hack */

  *zoom: 1;
  padding-left: 5px;
  padding-right: 5px;
}
blockquote {
  padding: 0 0 0 15px;
  margin: 0 0 20px;
  border-left: 5px solid #eeeeee;
}
blockquote p {
  margin-bottom: 0;
  font-size: 17.5px;
  font-weight: 300;
  line-height: 1.25;
}
.timestamp-wrapper { font-size: 85%; }
.right  { margin-left: auto; margin-right: 0px;  text-align: right; }
.left   { margin-left: 0px;  margin-right: auto; text-align: left; }
.center { margin-left: auto; margin-right: auto; text-align: center; }
.underline { text-decoration: underline; }
#postamble, #preamble { margin-top: 2em; }
#postamble p, #preamble p { font-size: 90%; margin: .2em 0; }
p.verse { margin-left: 3%; }
code {
    padding: 2px 4px;
    font-size: 90%;
    color: #c7254e;
    white-space: nowrap;
    background-color: #f9f2f4;
    border-radius: 4px;
}
pre {
    page-break-inside: avoid;
    padding: 8pt;
    font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
    font-size: 12px;
    overflow: auto;
    margin: 1.2em;
}
pre.src {
    color: #c5c8c6;
    background-color: #1d1f21;
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
    white-space: pre;
    white-space: pre-wrap;
}
pre, pre.src:before {
    border: 1px solid #999;
    -webkit-border-radius: 2px;
    -moz-border-radius: 2px;
    border-radius: 2px;
}
pre.src:before {
    display: none;
    color: #1d1f21;
    background-color: #c5c8c6;
    position: absolute;
    top: -10px;
    right: 10px;
    padding: 3px;
}
pre.src:hover:before { display: inline;}
pre.src-sh:before    { content: 'sh'; }
pre.src-bash:before  { content: 'sh'; }
pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
pre.src-R:before     { content: 'R'; }
pre.src-perl:before  { content: 'Perl'; }
pre.src-java:before  { content: 'Java'; }
pre.src-sql:before   { content: 'SQL'; }

table { border-collapse:collapse; }
td, th { vertical-align:top;  }
th.right  { text-align: center;  }
th.left   { text-align: center;   }
th.center { text-align: center; }
td.right  { text-align: right;  }
td.left   { text-align: left;   }
td.center { text-align: center; }
dt { font-weight: bold; }
.footpara:nth-child(2) { display: inline; }
.footpara { display: block; }
.footdef  { margin-bottom: 1em; }
.figure { padding: 1em; }
.figure p { text-align: center; }
.inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
}
#org-div-home-and-up
{ text-align: right; font-size: 70%; white-space: nowrap; }
textarea { overflow-x: auto; }
.linenr { font-size: smaller }
.code-highlighted { background-color: #ffff00; }
.org-info-js_info-navigation { border-style: none; }
#org-info-js_console-label
{ font-size: 10px; font-weight: bold; white-space: nowrap; }
.org-info-js_search-highlight
{ background-color: #ffff00; color: #000000; font-weight: bold; }
h1.title { margin: 2em 0; }
#table-of-contents, .outline-2 { margin: 4em 0; }

/*

All style below has been generated by calling
org-html-htmlize-generate-css and selecting style for elements other
than body or by calling htmlize-buffer and desired style.

*/
.org-builtin {
  color: #70c0b1;
}
.org-comment {
  color: #969896;
  font-style: italic;
}
.org-keyword {
  color: #c397d8;
}
.org-type {
  color: #e7c547;
}
.org-comment {
  /* font-lock-comment-face */
  color: #969896;
  font-style: italic;
}
.org-comment-delimiter {
  /* font-lock-comment-delimiter-face */
  color: #969896;
  font-style: italic;
}
.org-keyword {
  /* font-lock-keyword-face */
  color: #b294bb;
}
.org-constant {
  /* font-lock-constant-face */
  color: #8abeb7;
}
.org-doc {
  /* font-lock-doc-face */
  color: #969896;
}
.org-function-name {
  /* font-lock-function-name-face */
  color: #81a2be;
}
.org-string {
  /* font-lock-string-face */
  color: #b5bd68;
}
.org-variable-name {
  /* font-lock-variable-name-face */
  color: #de935f;
}
.org-border-glyph {
}
.org-c-annotation {
  /* c-annotation-face */
  color: #8abeb7;
}
.org-c-nonbreakable-space {
  /* c-nonbreakable-space-face */
  background-color: #cc6666;
  font-weight: bold;
}
.org-clojure-braces {
  /* clojure-braces */
  color: #b5bd68;
}
.org-clojure-brackets {
  /* clojure-brackets */
  color: #f0c674;
}
.org-clojure-double-quote {
  /* clojure-double-quote */
  color: #8abeb7;
}
.org-clojure-java-call {
  /* clojure-java-call */
  color: #b294bb;
}
.org-clojure-keyword {
  /* clojure-keyword */
  color: #f0c674;
}
.org-clojure-parens {
  /* clojure-parens */
  color: #c5c8c6;
}
.org-clojure-special {
  /* clojure-special */
  color: #81a2be;
}
.org-clojure-test-error {
  /* clojure-test-error-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-failure {
  /* clojure-test-failure-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-success {
  /* clojure-test-success-face */
  text-decoration: underline;
}
.org-compilation-error {
  /* compilation-error */
  color: #cc6666;
}
.org-compilation-info {
  /* compilation-info */
  color: #b5bd68;
}
.org-compilation-warning {
  /* compilation-warning */
  color: #de935f;
}
.org-css-property {
  /* css-property */
  color: #de935f;
}
.org-css-selector {
  /* css-selector */
  color: #81a2be;
}
.org-csv-separator {
  /* csv-separator-face */
  color: #de935f;
}
.org-diff-added {
  /* diff-added */
  color: #b5bd68;
}
.org-diff-changed {
  /* diff-changed */
  color: #f0c674;
}
.org-diff-file-header {
  /* diff-file-header */
  background-color: #373b41;
}
.org-diff-header {
  /* diff-header */
  background-color: #282a2e;
}
.org-diff-hunk-header {
  /* diff-hunk-header */
  color: #b294bb;
  background-color: #282a2e;
}
.org-diff-removed {
  /* diff-removed */
  color: #cc6666;
}
.org-dired-directory {
  /* dired-directory */
  color: #81a2be;
}
.org-dired-flagged {
  /* dired-flagged */
  color: #cc6666;
}
.org-dired-header {
  /* dired-header */
  color: #f0c674;
}
.org-dired-ignored {
  /* dired-ignored */
  color: #969896;
}
.org-dired-mark {
  /* dired-mark */
  color: #8abeb7;
}
.org-dired-marked {
  /* dired-marked */
  color: #de935f;
}
.org-dired-perm-write {
  /* dired-perm-write */
  color: #969896;
  font-style: italic;
}
.org-dired-symlink {
  /* dired-symlink */
  color: #b294bb;
}
.org-dired-warning {
  /* dired-warning */
  color: #cc6666;
  font-weight: bold;
}
.org-diredp-compressed-file-suffix {
  /* diredp-compressed-file-suffix */
  color: #81a2be;
}
.org-diredp-dir-heading {
  /* diredp-dir-heading */
  color: #f0c674;
}
.org-diredp-dir-priv {
  /* diredp-dir-priv */
  color: #8abeb7;
}
.org-diredp-exec-priv {
  /* diredp-exec-priv */
  color: #81a2be;
}
.org-diredp-executable-tag {
  /* diredp-executable-tag */
  color: #cc6666;
}
.org-diredp-file-name {
  /* diredp-file-name */
  color: #f0c674;
}
.org-diredp-file-suffix {
  /* diredp-file-suffix */
  color: #b5bd68;
}
.org-diredp-flag-mark-line {
  /* diredp-flag-mark-line */
  background-color: #b5bd68;
}
.org-diredp-ignored-file-name {
  /* diredp-ignored-file-name */
  color: #969896;
}
.org-diredp-link-priv {
  /* diredp-link-priv */
  color: #b294bb;
}
.org-diredp-mode-line-flagged {
  /* diredp-mode-line-flagged */
  color: #cc6666;
}
.org-diredp-mode-line-marked {
  /* diredp-mode-line-marked */
  color: #b5bd68;
}
.org-diredp-no-priv {
}
.org-diredp-number {
  /* diredp-number */
  color: #f0c674;
}
.org-diredp-other-priv {
  /* diredp-other-priv */
  color: #b294bb;
}
.org-diredp-rare-priv {
  /* diredp-rare-priv */
  color: #cc6666;
}
.org-diredp-read-priv {
  /* diredp-read-priv */
  color: #b5bd68;
}
.org-diredp-symlink {
  /* diredp-symlink */
  color: #b294bb;
}
.org-diredp-write-priv {
  /* diredp-write-priv */
  color: #f0c674;
}
.org-doc-string {
  /* font-lock-doc-string-face */
  color: #f0c674;
}
.org-ediff-even-diff-a {
}
.org-ediff-even-diff-b {
}
.org-ediff-odd-diff-a {
  /* ediff-odd-diff-A */
  color: #969896;
}
.org-ediff-odd-diff-b {
  /* ediff-odd-diff-B */
  color: #969896;
}
.org-eldoc-highlight-function-argument {
  /* eldoc-highlight-function-argument */
  color: #b5bd68;
  font-weight: bold;
}
.org-flycheck-error {
  /* flycheck-error-face */
  color: #cc6666;
}
.org-flycheck-warning {
  /* flycheck-warning-face */
  color: #de935f;
}
.org-flymake-errline {
  /* flymake-errline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flymake-warnline {
  /* flymake-warnline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flyspell-duplicate {
  /* flyspell-duplicate */
  text-decoration: underline;
}
.org-flyspell-incorrect {
  /* flyspell-incorrect */
  text-decoration: underline;
}
.org-font-latex-bold {
  /* font-latex-bold-face */
  color: #b5bd68;
}
.org-font-latex-doctex-documentation {
  /* font-latex-doctex-documentation-face */
  background-color: #282a2e;
}
.org-font-latex-italic {
  /* font-latex-italic-face */
  color: #b5bd68;
}
.org-font-latex-math {
  /* font-latex-math-face */
  color: #de935f;
}
.org-font-latex-sectioning-0 {
  /* font-latex-sectioning-0-face */
  color: #f0c674;
}
.org-font-latex-sectioning-1 {
  /* font-latex-sectioning-1-face */
  color: #f0c674;
}
.org-font-latex-sectioning-2 {
  /* font-latex-sectioning-2-face */
  color: #f0c674;
}
.org-font-latex-sectioning-3 {
  /* font-latex-sectioning-3-face */
  color: #f0c674;
}
.org-font-latex-sectioning-4 {
  /* font-latex-sectioning-4-face */
  color: #f0c674;
}
.org-font-latex-sectioning-5 {
  /* font-latex-sectioning-5-face */
  color: #f0c674;
}
.org-font-latex-sedate {
  /* font-latex-sedate-face */
  color: #8abeb7;
}
.org-font-latex-string {
  /* font-latex-string-face */
  color: #f0c674;
}
.org-font-latex-verbatim {
  /* font-latex-verbatim-face */
  color: #de935f;
}
.org-font-latex-warning {
  /* font-latex-warning-face */
  color: #cc6666;
}
.org-git-commit-branch {
  /* git-commit-branch-face */
  color: #de935f;
}
.org-git-commit-comment-action {
  /* git-commit-comment-action-face */
  color: #de935f;
}
.org-git-commit-comment-file {
  /* git-commit-comment-file-face */
  color: #b5bd68;
}
.org-git-commit-comment-heading {
  /* git-commit-comment-heading-face */
  color: #b294bb;
}
.org-git-commit-known-pseudo-header {
  /* git-commit-known-pseudo-header-face */
  color: #b294bb;
}
.org-git-commit-no-branch {
  /* git-commit-no-branch-face */
  color: #de935f;
}
.org-git-commit-nonempty-second-line {
  /* git-commit-nonempty-second-line-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-note {
  /* git-commit-note-face */
  color: #b5bd68;
}
.org-git-commit-overlong-summary {
  /* git-commit-overlong-summary-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-pseudo-header {
  /* git-commit-pseudo-header-face */
  color: #b5bd68;
}
.org-git-commit-summary {
  /* git-commit-summary-face */
  color: #f0c674;
}
.org-gui-element {
  /* gui-element */
  color: #c5c8c6;
  background-color: #282a2e;
}
.org-hl-line {
  /* hl-line */
  background-color: #282a2e;
}
.org-ido-first-match {
  /* ido-first-match */
  color: #de935f;
  font-weight: bold;
}
.org-ido-incomplete-regexp {
  /* ido-incomplete-regexp */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-indicator {
  /* ido-indicator */
  color: #cc6666;
  background-color: #1d1f21;
}
.org-ido-only-match {
  /* ido-only-match */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-subdir {
  /* ido-subdir */
  color: #969896;
}
.org-ido-virtual {
  /* ido-virtual */
  color: #969896;
}
.org-info-header-node {
  /* info-header-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-header-xref {
  /* info-header-xref */
  text-decoration: underline;
}
.org-info-index-match {
  /* info-index-match */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-info-menu-header {
  /* info-menu-header */
  font-weight: bold;
}
.org-info-menu-star {
  /* info-menu-star */
  color: #ff0000;
}
.org-info-node {
  /* info-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-title-1 {
  /* info-title-1 */
  font-size: 172%;
  font-weight: bold;
}
.org-info-title-2 {
  /* info-title-2 */
  font-size: 144%;
  font-weight: bold;
}
.org-info-title-3 {
  /* info-title-3 */
  font-size: 120%;
  font-weight: bold;
}
.org-info-title-4 {
  /* info-title-4 */
  font-weight: bold;
}
.org-info-xref {
  /* info-xref */
  text-decoration: underline;
}
.org-linum {
  /* linum */
  background-color: #282a2e;
}
.org-magit-branch {
  /* magit-branch */
  color: #b5bd68;
}
.org-makefile-makepp-perl {
  /* makefile-makepp-perl */
  background-color: #00008b;
}
.org-makefile-shell {
}
.org-makefile-space {
  /* makefile-space */
  background-color: #ff69b4;
}
.org-makefile-targets {
  /* makefile-targets */
  color: #81a2be;
}
.org-mcXcursor {
}
.org-mcXregion {
  /* mc/region-face */
  background-color: #5c5c5c;
}
.org-mmm-code-submode {
  /* mmm-code-submode-face */
  background-color: #282a2e;
}
.org-mmm-comment-submode {
  /* mmm-comment-submode-face */
  color: #969896;
  font-style: italic;
}
.org-mmm-output-submode {
  /* mmm-output-submode-face */
  background-color: #282a2e;
}
.org-nrepl-error {
  /* nrepl-error-face */
  color: #b5bd68;
}
.org-nrepl-error-highlight {
  /* nrepl-error-highlight-face */
  color: #cc6666;
  font-weight: bold;
  text-decoration: underline;
}
.org-nrepl-input {
  /* nrepl-input-face */
  font-weight: bold;
}
.org-nrepl-output {
  /* nrepl-output-face */
  color: #b5bd68;
}
.org-nrepl-prompt {
  /* nrepl-prompt-face */
  color: #b294bb;
}
.org-nrepl-result {
}
.org-org-agenda-calendar-event {
  /* org-agenda-calendar-event */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-calendar-sexp {
  /* org-agenda-calendar-sexp */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-clocking {
  /* org-agenda-clocking */
  background-color: #282a2e;
}
.org-org-agenda-column-dateline {
  /* org-agenda-column-dateline */
  background-color: #282a2e;
}
.org-org-agenda-current-time {
  /* org-agenda-current-time */
  color: #eedd82;
}
.org-org-agenda-date-today {
  /* org-agenda-date-today */
  color: #81a2be;
  font-weight: bold;
  font-style: italic;
}
.org-org-agenda-date-weekend {
  /* org-agenda-date-weekend */
  color: #81a2be;
  font-weight: bold;
}
.org-org-agenda-diary {
  /* org-agenda-diary */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-filter-category {
  /* org-agenda-filter-category */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-regexp {
  /* org-agenda-filter-regexp */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-tags {
  /* org-agenda-filter-tags */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-restriction-lock {
  /* org-agenda-restriction-lock */
  background-color: #1C1C1C;
}
.org-org-archived {
  /* org-archived */
  color: #969896;
}
.org-org-block-background {
}
.org-org-block-begin-line {
  /* org-block-begin-line */
  color: #969896;
  font-style: italic;
}
.org-org-block-end-line {
  /* org-block-end-line */
  color: #969896;
  font-style: italic;
}
.org-org-checkbox {
  /* org-checkbox */
  font-weight: bold;
}
.org-org-checkbox-statistics-done {
  /* org-checkbox-statistics-done */
  color: #b5bd68;
}
.org-org-checkbox-statistics-todo {
  /* org-checkbox-statistics-todo */
  color: #cc6666;
}
.org-org-clock-overlay {
  /* org-clock-overlay */
  background-color: #4a708b;
}
.org-org-date-selected {
  /* org-date-selected */
  color: #ffc0cb;
}
.org-org-default {
  /* org-default */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-drawer {
  /* org-drawer */
  color: #87cefa;
}
.org-org-headline-done {
  /* org-headline-done */
  color: #ffa07a;
}
.org-org-latex-and-related {
  /* org-latex-and-related */
  color: #deb887;
}
.org-org-level-1 {
  /* org-level-1 */
  color: #81a2be;
}
.org-org-level-2 {
  /* org-level-2 */
  color: #de935f;
}
.org-org-level-3 {
  /* org-level-3 */
  color: #b294bb;
}
.org-org-level-4 {
  /* org-level-4 */
  color: #969896;
}
.org-org-level-5 {
  /* org-level-5 */
  color: #f0c674;
}
.org-org-level-6 {
  /* org-level-6 */
  color: #8abeb7;
}
.org-org-level-7 {
  /* org-level-7 */
  color: #8abeb7;
}
.org-org-level-8 {
  /* org-level-8 */
  color: #b5bd68;
}
.org-org-list-dt {
  /* org-list-dt */
  font-weight: bold;
}
.org-org-macro {
  /* org-macro */
  color: #deb887;
}
.org-org-meta-line {
  /* org-meta-line */
  color: #969896;
  font-style: italic;
}
.org-org-mode-line-clock {
  /* org-mode-line-clock */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-mode-line-clock-overrun {
  /* org-mode-line-clock-overrun */
  color: #c5c8c6;
  background-color: #ff0000;
}
.org-org-priority {
  /* org-priority */
  color: #b294bb;
}
.org-org-property-value {
}
.org-org-quote {
  /* org-quote */
  color: #de935f;
}
.org-org-sexp-date {
  /* org-sexp-date */
  color: #00ffff;
}
.org-org-tag {
  /* org-tag */
  font-weight: bold;
}
.org-org-tag-group {
  /* org-tag-group */
  font-weight: bold;
}
.org-org-target {
  /* org-target */
  text-decoration: underline;
}
.org-org-time-grid {
  /* org-time-grid */
  color: #eedd82;
}
.org-org-verbatim {
  /* org-verbatim */
  color: #969896;
}
.org-org-verse {
  /* org-verse */
  color: #de935f;
}
.org-outline-1 {
  /* outline-1 */
  color: #81a2be;
}
.org-outline-2 {
  /* outline-2 */
  color: #de935f;
}
.org-outline-3 {
  /* outline-3 */
  color: #b294bb;
}
.org-outline-4 {
  /* outline-4 */
  color: #969896;
}
.org-outline-5 {
  /* outline-5 */
  color: #f0c674;
}
.org-outline-6 {
  /* outline-6 */
  color: #8abeb7;
}
.org-outline-7 {
  /* outline-7 */
  color: #8abeb7;
}
.org-outline-8 {
  /* outline-8 */
  color: #b5bd68;
}
.org-paren {
  /* paren-face */
  color: #969896;
}
.org-paren-face-match {
  /* paren-face-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-paren-face-mismatch {
  /* paren-face-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-paren-face-no-match {
  /* paren-face-no-match */
  color: #282a2e;
  background-color: #de935f;
}
.org-powerline-active1 {
  /* powerline-active1 */
  color: #c5c8c6;
  background-color: #383838;
}
.org-powerline-active2 {
  /* powerline-active2 */
  color: #c5c8c6;
  background-color: #666666;
}
.org-powerline-inactive1 {
  /* powerline-inactive1 */
  color: #c5c8c6;
  background-color: #1c1c1c;
}
.org-powerline-inactive2 {
  /* powerline-inactive2 */
  color: #c5c8c6;
  background-color: #333333;
}
.org-rainbow-delimiters-depth-1 {
  /* rainbow-delimiters-depth-1-face */
  color: #b294bb;
}
.org-rainbow-delimiters-depth-2 {
  /* rainbow-delimiters-depth-2-face */
  color: #81a2be;
}
.org-rainbow-delimiters-depth-3 {
  /* rainbow-delimiters-depth-3-face */
  color: #8abeb7;
}
.org-rainbow-delimiters-depth-4 {
  /* rainbow-delimiters-depth-4-face */
  color: #b5bd68;
}
.org-rainbow-delimiters-depth-5 {
  /* rainbow-delimiters-depth-5-face */
  color: #f0c674;
}
.org-rainbow-delimiters-depth-6 {
  /* rainbow-delimiters-depth-6-face */
  color: #de935f;
}
.org-rainbow-delimiters-depth-7 {
  /* rainbow-delimiters-depth-7-face */
  color: #cc6666;
}
.org-rainbow-delimiters-depth-8 {
  /* rainbow-delimiters-depth-8-face */
  color: #969896;
}
.org-rainbow-delimiters-depth-9 {
  /* rainbow-delimiters-depth-9-face */
  color: #c5c8c6;
}
.org-rainbow-delimiters-unmatched {
  /* rainbow-delimiters-unmatched-face */
  color: #cc6666;
}
.org-sgml-namespace {
  /* sgml-namespace */
  color: #8abeb7;
}
.org-sh-escaped-newline {
  /* sh-escaped-newline */
  color: #b5bd68;
}
.org-sh-heredoc {
  /* sh-heredoc */
  color: #b5bd68;
}
.org-sh-quoted-exec {
  /* sh-quoted-exec */
  color: #b294bb;
}
.org-show-paren-match {
  /* show-paren-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-show-paren-mismatch {
  /* show-paren-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-slime-highlight-edits {
  /* slime-highlight-edits-face */
  font-weight: bold;
}
.org-slime-repl-input {
}
.org-slime-repl-output {
  /* slime-repl-output-face */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-slime-repl-prompt {
  /* slime-repl-prompt-face */
  color: #b294bb;
  font-weight: bold;
}
.org-slime-repl-result {
  /* slime-repl-result-face */
  color: #b5bd68;
}
.org-term {
  /* term */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-term-bold {
  /* term-bold */
  font-weight: bold;
}
.org-term-color-black {
  /* term-color-black */
  color: #000000;
  background-color: #000000;
}
.org-term-color-blue {
  /* term-color-blue */
  color: #0000ee;
  background-color: #0000ee;
}
.org-term-color-cyan {
  /* term-color-cyan */
  color: #00cdcd;
  background-color: #00cdcd;
}
.org-term-color-green {
  /* term-color-green */
  color: #00cd00;
  background-color: #00cd00;
}
.org-term-color-magenta {
  /* term-color-magenta */
  color: #cd00cd;
  background-color: #cd00cd;
}
.org-term-color-red {
  /* term-color-red */
  color: #cd0000;
  background-color: #cd0000;
}
.org-term-color-white {
  /* term-color-white */
  color: #ffffff;
  background-color: #ffffff;
}
.org-term-color-yellow {
  /* term-color-yellow */
  color: #cdcd00;
  background-color: #cdcd00;
}
.org-term-underline {
  /* term-underline */
  text-decoration: underline;
}
.org-undo-tree-visualizer-active-branch {
  /* undo-tree-visualizer-active-branch-face */
  color: #cc6666;
}
.org-undo-tree-visualizer-current {
  /* undo-tree-visualizer-current-face */
  color: #b5bd68;
  font-weight: bold;
}
.org-undo-tree-visualizer-default {
  /* undo-tree-visualizer-default-face */
  color: #c5c8c6;
}
.org-undo-tree-visualizer-register {
  /* undo-tree-visualizer-register-face */
  color: #f0c674;
}
.org-which-func {
  /* which-func */
  color: #81a2be;
  font-weight: bold;
}
.org-whitespace-empty {
  /* whitespace-empty */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-hspace {
  /* whitespace-hspace */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-indentation {
  /* whitespace-indentation */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-line {
  /* whitespace-line */
  color: #b294bb;
  background-color: #282a2e;
}
.org-whitespace-newline {
  /* whitespace-newline */
  color: #969896;
}
.org-whitespace-space {
  /* whitespace-space */
  color: #969896;
  background-color: #282a2e;
}
.org-whitespace-space-after-tab {
  /* whitespace-space-after-tab */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-space-before-tab {
  /* whitespace-space-before-tab */
  color: #cc6666;
  background-color: #de935f;
}
.org-whitespace-tab {
  /* whitespace-tab */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-trailing {
  /* whitespace-trailing */
  color: #f0c674;
  background-color: #cc6666;
}
.org-widget-button-pressed {
  /* widget-button-pressed */
  color: #ff0000;
}
.org-widget-documentation {
  /* widget-documentation */
  color: #32cd32;
}
.org-widget-inactive {
  /* widget-inactive */
  color: #969896;
}
.org-widget-single-line-field {
  /* widget-single-line-field */
  background-color: #696969;
}
.org-yaml-tab {
  /* yaml-tab-face */
  color: #ff0000;
  background-color: #ff0000;
  font-weight: bold;
}
.org-nxml-attribute-local-name {
    /* nxml-attribute-local-name */
    color: #e78c45;
}
.org-nxml-attribute-value {
    /* nxml-attribute-value */
    color: #b9ca4a;
}
.org-nxml-attribute-value-delimiter {
    /* nxml-attribute-value-delimiter */
    color: #b9ca4a;
}
.org-nxml-element-local-name {
    /* nxml-element-local-name */
    color: #7aa6da;
}
.org-nxml-entity-ref-delimiter {
    /* nxml-entity-ref-delimiter */
    color: #70c0b1;
}
.org-nxml-entity-ref-name {
    /* nxml-entity-ref-name */
    color: #70c0b1;
}
.org-nxml-markup-declaration-delimiter {
}
.org-nxml-processing-instruction-content {
    /* nxml-processing-instruction-content */
    color: #969896;
}
.org-nxml-processing-instruction-delimiter {
}
.org-nxml-processing-instruction-target {
    /* nxml-processing-instruction-target */
    color: #c397d8;
}
.org-nxml-prolog-keyword {
    /* nxml-prolog-keyword */
    color: #c397d8;
}
.org-nxml-prolog-literal-content {
    /* nxml-prolog-literal-content */
    color: #969896;
}
.org-nxml-prolog-literal-delimiter {
    /* nxml-prolog-literal-delimiter */
    color: #969896;
}
.org-nxml-tag-delimiter {
}
.org-nxml-tag-slash {
}
.org-nxml-text {
}
/*]]>*/-->
</style>
<link href='http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css' rel='stylesheet'>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Literate <code>.emacs.d</code></h1>
<blockquote>
<p>
<a href="http://www.literateprogramming.com/">Literate programming</a> is a methodology that combines a programming language
with a documentation language, thereby making programs more robust, more
portable, more easily maintained, and arguably more fun to write than programs
that are written only in a high-level language. The main idea is to treat a
program as a piece of literature, addressed to human beings rather than to a
computer. The program is also viewed as a hypertext document, rather like the
World Wide Web. (Indeed, I used the word WEB for this purpose long before CERN
grabbed it!) &#x2013; <a href="http://www-cs-faculty.stanford.edu/~uno/lp.html">Donald Knuth</a>
</p>
</blockquote>

<p>
All configuration described here is performed in an <a href="https://github.com/krismolendyke/.emacs.d/blob/0d5a5434ff79d48ab613fc433d0ae2443c552665/init.el#L88"><code>after-init-hook</code></a>
function.
</p>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#build-emacs">Build Emacs</a>
<ul>
<li><a href="#orgd4579fe">Emacs Source Directory</a></li>
</ul>
</li>
<li><a href="#how-this-works">How this works</a>
<ul>
<li><a href="#orga833dae">HTML Export <code>post-commit</code> Hook</a></li>
</ul>
</li>
<li><a href="#org06a8642">Customization</a></li>
<li><a href="#org68ea1a8">Cask</a>
<ul>
<li><a href="#org6d279b1">Installation</a></li>
</ul>
</li>
<li><a href="#org78ca85e">Pallet</a></li>
<li><a href="#org2fff3e1">Global GNU Emacs Key Bindings</a>
<ul>
<li><a href="#org4f58e83">Unset</a></li>
<li><a href="#orgd5429be">Set</a></li>
</ul>
</li>
<li><a href="#org30da006">k20e Defaults</a>
<ul>
<li><a href="#orgb79a609">Apropos</a></li>
<li><a href="#org67199a6"><code>cycle-spacing</code></a></li>
<li><a href="#orgac97dce">Backup Files</a></li>
<li><a href="#org0d925f2">Enabled Commands</a></li>
<li><a href="#org2070ea1">Inferior Shell</a></li>
<li><a href="#org00d0e59"><span class="todo TODO">TODO</span> Defaults for Review</a></li>
</ul>
</li>
<li><a href="#org05fa004">k20e Custom Functions</a>
<ul>
<li><a href="#orgc7a2c61">Editing</a></li>
<li><a href="#orgc8987f5">Buffers</a></li>
<li><a href="#org53fadc5">Windows</a></li>
<li><a href="#org98b8c16">Networking</a></li>
<li><a href="#org390b0f1">Lunar 🌙</a></li>
</ul>
</li>
<li><a href="#orgf97a153">OS X</a></li>
<li><a href="#org4abfcee">Appearance</a>
<ul>
<li><a href="#orga8a33d4">Theme</a></li>
<li><a href="#orgc503ae6">Cursor</a></li>
<li><a href="#org47643ce">Frame Height</a></li>
<li><a href="#org0f919ab">Fringe</a></li>
<li><a href="#orgec98241"><span class="todo TODO">TODO</span> Disable <code>linum-mode</code> when text scale is not zero</a></li>
</ul>
</li>
<li><a href="#org3f0969c">ag</a></li>
<li><a href="#org2f3af32">arduino-mode</a></li>
<li><a href="#orga16b127">auto-fill</a></li>
<li><a href="#org8fcf78c">auto-save</a></li>
<li><a href="#org134f72b">buffer-move</a></li>
<li><a href="#org9e32edc">cider</a></li>
<li><a href="#orgce8ba0d">clock-face</a></li>
<li><a href="#orgb47b0bf">clojure-mode</a>
<ul>
<li><a href="#org8a3478b">Save buffers before loading or running tests</a></li>
</ul>
</li>
<li><a href="#orgf2b36ac">compilation-mode</a></li>
<li><a href="#orgf62f9aa">Counsel</a></li>
<li><a href="#org5a10af6">dash-at-point</a></li>
<li><a href="#org146e90e">dired</a></li>
<li><a href="#orge91a418">electric-pair-mode</a></li>
<li><a href="#org654be85">emacs-lisp-mode</a></li>
<li><a href="#org010ebab">ert</a></li>
<li><a href="#org26292e9">expand-region</a></li>
<li><a href="#org9bbc297">find-file-in-project</a></li>
<li><a href="#flycheck">flycheck</a></li>
<li><a href="#org592cd3c">flyspell</a>
<ul>
<li><a href="#install-aspell">Install <code>aspell</code></a></li>
</ul>
</li>
<li><a href="#org63f7cc0">Fonts</a>
<ul>
<li><a href="#orge4baa17">Unicode</a></li>
</ul>
</li>
<li><a href="#org933150e">font-awesome</a></li>
<li><a href="#orgf9bed35">geiser</a></li>
<li><a href="#org5b90e90">Geo IP</a></li>
<li><a href="#org7fb9483">git</a>
<ul>
<li><a href="#org33c3c3c">GitHub <code>.gitignore</code></a></li>
</ul>
</li>
<li><a href="#orgcd9bfcc">go-mode</a></li>
<li><a href="#org2c85112">groovy-mode</a></li>
<li><a href="#org2606b73">highlight-parentheses</a></li>
<li><a href="#org56eb178">hyperspec</a></li>
<li><a href="#org9232bc3">ibuffer</a></li>
<li><a href="#org29f7fd7">IELM</a></li>
<li><a href="#orgd635a9c">imenu</a></li>
<li><a href="#org190b7b7">I'm Feeling Lucky</a></li>
<li><a href="#orgd59cd49">Ivy</a></li>
<li><a href="#orgbaab278">js-mode</a></li>
<li><a href="#org22458f0">keyfreq</a></li>
<li><a href="#orgc935d99">LaTeX</a></li>
<li><a href="#org2524814">lockfiles</a></li>
<li><a href="#org49223b6">man</a></li>
<li><a href="#orgf1a3d3a">markdown-mode</a></li>
<li><a href="#org2c77aa3">Minibuffer</a>
<ul>
<li><a href="#org20bcdd5">Eval expression minibuffer</a></li>
</ul>
</li>
<li><a href="#multi-term">multi-term</a>
<ul>
<li><a href="#org6a956ee">Global Key Bindings</a></li>
</ul>
</li>
<li><a href="#org1c1cc4a">multiple-cursors</a></li>
<li><a href="#org8359999">Open Source Licenses</a></li>
<li><a href="#org453f468">org-mode</a>
<ul>
<li><a href="#org7e07173">Inline Images</a></li>
<li><a href="#org5aedca2">Key Bindings</a></li>
<li><a href="#org839d61f">Export</a></li>
<li><a href="#org2ea1f8c">Publish</a></li>
<li><a href="#org016dd04">Babel</a></li>
<li><a href="#orgcafbcbf"><span class="todo TODO">TODO</span> Items</a></li>
<li><a href="#org2dbbef8">Agenda</a></li>
<li><a href="#org4fceda7">Drill</a></li>
<li><a href="#org404f173">Habit</a></li>
<li><a href="#orgab334d3">Logging &amp; Drawers</a></li>
<li><a href="#org3112d00">Clock</a></li>
</ul>
</li>
<li><a href="#org3f93fcc">paredit-mode</a></li>
<li><a href="#orgda141cd">python</a>
<ul>
<li><a href="#org297035f">IPython</a></li>
</ul>
</li>
<li><a href="#org959a490">recentf</a></li>
<li><a href="#org4cd6145">reStructuredText</a></li>
<li><a href="#org784e3a2">rust</a></li>
<li><a href="#org39e5f2e">savehist</a></li>
<li><a href="#org2d5bd57"><code>*scratch*</code></a>
<ul>
<li><a href="#org9e94513">Quickly create new scratch buffers</a></li>
</ul>
</li>
<li><a href="#org91278b2">server</a></li>
<li><a href="#orga701c51">smex</a></li>
<li><a href="#org05e2e70">sql-mode</a></li>
<li><a href="#orge16d193">server</a></li>
<li><a href="#org187fe7c">Swiper</a></li>
<li><a href="#term">term</a>
<ul>
<li><a href="#orga3f8f3b">Key Bindings</a></li>
</ul>
</li>
<li><a href="#org51b4a83">terminal-notifier</a></li>
<li><a href="#orgb06ff4e">text-mode</a></li>
<li><a href="#orgedddceb">tramp</a>
<ul>
<li><a href="#org2d86ba2"><code>ControlPath</code></a></li>
<li><a href="#orga7b0f31">Inline Copying</a></li>
<li><a href="#org908177f">File Backup</a></li>
<li><a href="#org2945d7b">Debugging</a></li>
</ul>
</li>
<li><a href="#org17f92a3">uniquify</a></li>
<li><a href="#org34bc7ac">windmove</a></li>
<li><a href="#orgc29fa27">web-mode</a></li>
<li><a href="#orgeec98e5">winner-mode</a></li>
<li><a href="#orgf6387df">whitespace</a></li>
<li><a href="#orgc4748bd">writeroom-mode</a></li>
<li><a href="#org2544c59">yaml-mode</a></li>
</ul>
</div>
</div>

<div id="outline-container-org59c4df5" class="outline-2">
<h2 id="build-emacs"><a id="org59c4df5"></a>Build Emacs</h2>
<div class="outline-text-2" id="text-build-emacs">
<p>
I primarily use Emacs locally on Apple hardware.  Most, if not all,
of the remote editing that I do is done via <code>tramp</code>.  I keep an eye
on the <a href="http://git.savannah.gnu.org/cgit/emacs.git/log/">log</a> at the official Emacs <a href="http://git-scm.com/">git</a> <a href="http://git.savannah.gnu.org/cgit/emacs.git/">repository</a>.  When something
interesting lands there I will build a fresh Emacs installation via
<a href="http://brew.sh/">Homebrew</a> and try it out.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew info emacs
</pre>
</div>

<p>
I install Emacs with the following options.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">time</span> brew install emacs --with-cocoa --with-gnutls --HEAD
</pre>
</div>

<p>
If there is an existing installation it needs to be removed first.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew uninstall emacs
</pre>
</div>
</div>

<div id="outline-container-orgd4579fe" class="outline-3">
<h3 id="orgd4579fe">Emacs Source Directory</h3>
<div class="outline-text-3" id="text-orgd4579fe">
<p>
<code>source-directory</code> is helpful to have set properly when exploring built-in
<i>C functions</i> via <code>find-function</code>.
</p>

<p>
Finding the source code directory via Homebrew can be done with the
following command:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">echo</span> $(brew --cache)/emacs*
</pre>
</div>

<pre class="example">
/Library/Caches/Homebrew/emacs--git
</pre>

<p>
<i>Note</i>: <code>source-directory</code> must be set during Emacs initialization time to
persist.  See <a href="https://github.com/krismolendyke/.emacs.d/blob/1241a848cee7dadfa0c719643925fa0a7b86f476/init.el#L84-L86"><code>init.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-orga3120b7" class="outline-2">
<h2 id="how-this-works"><a id="orga3120b7"></a>How this works</h2>
<div class="outline-text-2" id="text-how-this-works">
<p>
The <a href="https://github.com/krismolendyke/.emacs.d/blob/master/init.el"><code>init.el</code></a> file bootstraps the entire process.  It is found by
Emacs automatically if it is located in one of several well-defined
locations.
</p>

<blockquote>
<p>
When Emacs is started, it normally tries to load a Lisp program from
an "initialization file", or "init file" for short.  This file, if
it exists, specifies how to initialize Emacs for you.  Emacs looks
for your init file using the filenames `~/.emacs', `~/.emacs.el', or
`~/.emacs.d/init.el'; you can choose to use any one of these three
names (*note Find Init::).  Here, `~/' stands for your home
directory. &#x2013; <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html">The Emacs Initialization File</a>
</p>
</blockquote>

<p>
Once it's found, <code>init.el</code> sets "global" variables and defines
several functions to be executed <i>during</i> initialization and one
that should be executed <i>after</i> initialization has completed.
<code>k20e/after-init-hook</code> is a hook run after initialization.  The most
interesting bit of this function is the call to
<code>org-babel-load-file</code>:
</p>

<blockquote>
<p>
(org-babel-load-file FILE &amp;optional COMPILE)
</p>

<p>
Load Emacs Lisp source code blocks in the Org-mode FILE. This
function exports the source code using `org-babel-tangle' and then
loads the resulting file using `load-file'.  With prefix arg
(noninteractively: 2nd arg) COMPILE the tangled Emacs Lisp file to
byte-code before it is loaded.
</p>
</blockquote>

<p>
This function invocation exports all <a href="http://orgmode.org/manual/Working-With-Source-Code.html#Working-With-Source-Code"><code>org-mode</code> source blocks</a> in any
<code>org-mode</code> files in the <code>.emacs.d</code> directory to a single Emacs Lisp
file and then instructs Emacs to load that file.  <a href="https://github.com/krismolendyke/.emacs.d/blob/master/custom.org"><code>custom.org</code></a> is
the biggest of those <code>org-mode</code> files and … <i>this</i> is that file!
</p>
</div>

<div id="outline-container-orga833dae" class="outline-3">
<h3 id="orga833dae">HTML Export <code>post-commit</code> Hook</h3>
<div class="outline-text-3" id="text-orga833dae">
<p>
This <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git <code>post-commit</code> hook</a> is located at <code>.git/hooks/post-commit</code>
and automatically generates the HTML content of this <a href="https://pages.github.com/">GitHub Pages</a>
site.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/</span><span class="org-keyword">sh</span>

emacs --batch <span class="org-sh-escaped-newline">\</span>
      --directory <span class="org-string">'~/.emacs.d/site-lisp/org-mode/lisp'</span> <span class="org-sh-escaped-newline">\</span>
      --load <span class="org-string">'~/.emacs.d/elisp/k20e-org-html-export.el'</span> <span class="org-sh-escaped-newline">\</span>
      --visit <span class="org-string">'~/.emacs.d/custom.org'</span> <span class="org-sh-escaped-newline">\</span>
      --execute <span class="org-string">'(org-html-export-to-html)'</span> 2&gt;&amp;1
rm -f *~
git checkout gh-pages
mv custom.html index.html
git add index.html
git commit --message <span class="org-string">"post-commit hook regeneration."</span>
git checkout master
</pre>
</div>

<p>
All of the interesting customization of the exported document is
performed in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el"><code>elisp/k20e-org-html-export.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-org06a8642" class="outline-2">
<h2 id="org06a8642">Customization</h2>
<div class="outline-text-2" id="text-org06a8642">
<p>
I don't make much use of the <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Customization.html#Customization">Customization</a> interface.  By default it dumps
its settings into <code>init.el</code> and I don't want to see them there.  A few
packages that I use do rely on customization so I do need it to be loaded.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> custom-file (expand-file-name <span class="org-string">".emacs-custom.el"</span> user-emacs-directory))
(load custom-file)
</pre>
</div>
</div>
</div>

<div id="outline-container-org68ea1a8" class="outline-2">
<h2 id="org68ea1a8">Cask</h2>
<div class="outline-text-2" id="text-org68ea1a8">
<blockquote>
<p>
Cask is a project management tool for Emacs Lisp to automate the
package development cycle; development, dependencies, testing,
building, packaging and more.
</p>

<p>
Cask can also be used to manage dependencies for your local Emacs
configuration. &#x2013; <a href="http://cask.readthedocs.org/en/latest/">Cask documentation</a>
</p>
</blockquote>
</div>

<div id="outline-container-org6d279b1" class="outline-3">
<h3 id="org6d279b1">Installation</h3>
<div class="outline-text-3" id="text-org6d279b1">
<div class="org-src-container">
<pre class="src src-sh">brew install cask
</pre>
</div>

<p>
After building a new Emacs version <code>cask</code> should be used to update
dependencies.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">cd</span> ~/.emacs.d
cask install
</pre>
</div>

<p>
New dependencies will be installed into <code>~/.emacs.d/.cask</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-org78ca85e" class="outline-2">
<h2 id="org78ca85e">Pallet</h2>
<div class="outline-text-2" id="text-org78ca85e">
<blockquote>
<p>
Pallet is a package management helper for Emacs. &#x2013; <a href="https://github.com/rdallasgray/pallet">Pallet README</a>
</p>
</blockquote>

<p>
As packages are installed, updated or removed via <code>list-packages</code>,
Pallet maintains changes to the <code>Cask</code> file automatically.
</p>
</div>
</div>

<div id="outline-container-org2fff3e1" class="outline-2">
<h2 id="org2fff3e1">Global GNU Emacs Key Bindings</h2>
<div class="outline-text-2" id="text-org2fff3e1">
<p>
These global key bindings override <i>built-in</i> functions only.
Package-specific or custom function defunition key bindings are made in
their own dedicated sections where other specific settings are made.
</p>
</div>

<div id="outline-container-org4f58e83" class="outline-3">
<h3 id="org4f58e83">Unset</h3>
<div class="outline-text-3" id="text-org4f58e83">
<p>
OS X annoyance &#x2013; <code>C-M-d</code> is a "hot key" bound to dictionary lookup
and masks the key binding in Emacs.  <a href="http://apple.stackexchange.com/questions/22785/how-do-i-disable-the-command-control-d-word-definition-keyboard-shortcut-in-os-x/114269#114269">Disabling it</a> can currently
only be done by editing a default <i>and restarting</i>.
</p>

<div class="org-src-container">
<pre class="src src-sh">defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys <span class="org-sh-escaped-newline">\</span>
         -dict-add 70 <span class="org-string">'&lt;dict&gt;&lt;key&gt;enabled&lt;/key&gt;&lt;false/&gt;&lt;/dict&gt;'</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-unset-key (kbd <span class="org-string">"&lt;f1&gt; h"</span>))
(global-unset-key (kbd <span class="org-string">"&lt;f11&gt;"</span>))
(global-unset-key (kbd <span class="org-string">"C-h"</span>))
(global-unset-key (kbd <span class="org-string">"C-q"</span>))
(global-unset-key (kbd <span class="org-string">"C-z"</span>))
(global-unset-key (kbd <span class="org-string">"M-`"</span>))
(global-unset-key (kbd <span class="org-string">"M-c"</span>))
(global-unset-key (kbd <span class="org-string">"M-h"</span>))
(global-unset-key (kbd <span class="org-string">"M-u"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5429be" class="outline-3">
<h3 id="orgd5429be">Set</h3>
<div class="outline-text-3" id="text-orgd5429be">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"&lt;f1&gt; F"</span>) 'find-function)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; V"</span>) 'find-variable)
(global-set-key (kbd <span class="org-string">"&lt;f7&gt;"</span>) 'previous-error) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9664;&#9664;</span>
(global-set-key (kbd <span class="org-string">"&lt;f9&gt;"</span>) 'next-error) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9654;&#9654;</span>
(global-set-key (kbd <span class="org-string">"C-S-h"</span>) 'kill-whole-line)
(global-set-key (kbd <span class="org-string">"C-c DEL"</span>) 'join-line)
(global-set-key (kbd <span class="org-string">"C-h"</span>) 'delete-backward-char)
(global-set-key (kbd <span class="org-string">"C-j"</span>) 'join-line)
(global-set-key (kbd <span class="org-string">"C-x C-t"</span>) 'transpose-lines)
(global-set-key (kbd <span class="org-string">"H-h H-f"</span>) 'find-function)
(global-set-key (kbd <span class="org-string">"H-h H-v"</span>) 'find-variable)
(global-set-key (kbd <span class="org-string">"H-t"</span>) 'toggle-frame-fullscreen)
(global-set-key (kbd <span class="org-string">"M-+"</span>) 'text-scale-adjust)
(global-set-key (kbd <span class="org-string">"M-."</span>) 'imenu)
(global-set-key (kbd <span class="org-string">"M-/"</span>) 'hippie-expand)
(global-set-key (kbd <span class="org-string">"M-`"</span>) 'other-window)
(global-set-key (kbd <span class="org-string">"M-h"</span>) 'backward-kill-word)
(global-set-key (kbd <span class="org-string">"M-t"</span>) 'transpose-words)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org30da006" class="outline-2">
<h2 id="org30da006">k20e Defaults</h2>
<div class="outline-text-2" id="text-org30da006">
</div><div id="outline-container-orgb79a609" class="outline-3">
<h3 id="orgb79a609">Apropos</h3>
<div class="outline-text-3" id="text-orgb79a609">
<p>
Sort by relevancy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> apropos-sort-by-scores t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org67199a6" class="outline-3">
<h3 id="org67199a6"><code>cycle-spacing</code></h3>
<div class="outline-text-3" id="text-org67199a6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/cycle-spacing</span> (<span class="org-type">&amp;optional</span> n)
  <span class="org-doc">"Make `</span><span class="org-constant"><span class="org-doc">cycle-spacing</span></span><span class="org-doc">' operate in `</span><span class="org-constant"><span class="org-doc">fast</span></span><span class="org-doc">' mode."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"*p"</span>)
  (cycle-spacing n nil 'fast))

(global-set-key (kbd <span class="org-string">"M-SPC"</span>) 'k20e/cycle-spacing)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac97dce" class="outline-3">
<h3 id="orgac97dce">Backup Files</h3>
<div class="outline-text-3" id="text-orgac97dce">
<p>
Back up files to a single location.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/backup-dir</span> (expand-file-name <span class="org-string">"backup"</span> user-emacs-directory)
  <span class="org-doc">"A single directory for storing backup files within."</span>)

(<span class="org-keyword">unless</span> (file-exists-p k20e/backup-dir) (make-directory k20e/backup-dir))

(<span class="org-keyword">setq</span> backup-by-copying t
      backup-directory-alist `((<span class="org-string">"."</span> . ,k20e/backup-dir))
      delete-old-versions t
      version-control t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d925f2" class="outline-3">
<h3 id="org0d925f2">Enabled Commands</h3>
<div class="outline-text-3" id="text-org0d925f2">
<p>
Commands disabled by default prompt at first use.  Enabling
commands disables the prompt.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/enabled-commands</span>
  '(downcase-region
    upcase-region
    narrow-to-region
    narrow-to-page
    scroll-left
    scroll-right)
  <span class="org-doc">"Normally disabled commands."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/enable-commands</span> ()
  <span class="org-doc">"Enabled normally disabled commands."</span>
  (<span class="org-keyword">dolist</span> (command k20e/enabled-commands)
    (put command 'disabled nil)))

(k20e/enable-commands)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2070ea1" class="outline-3">
<h3 id="org2070ea1">Inferior Shell</h3>
<div class="outline-text-3" id="text-org2070ea1">
<p>
I use <a href="https://github.com/krismolendyke/.zsh">Zsh</a> in <a href="#multi-term"><code>multi-term</code></a> but I've customized it so much that it
often interferes with simple inferior shell tasks.  Defaulting to
<code>sh</code> seems to work well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> shell-file-name <span class="org-string">"/bin/sh"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org00d0e59" class="outline-3">
<h3 id="org00d0e59"><span class="todo TODO">TODO</span> Defaults for Review</h3>
<div class="outline-text-3" id="text-org00d0e59">
<p>
This is a bunch of stuff that I just dumped here and need to go through yet.
</p>

<p>
Show the active region and delete it when selected if a character
is inserted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(transient-mark-mode t)
(delete-selection-mode 1)
</pre>
</div>

<p>
"Electric" indentation is generally what I consider to be sensible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(electric-indent-mode)
</pre>
</div>

<p>
Cycle through the mark ring faster.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> set-mark-command-repeat-pop t)
</pre>
</div>

<p>
Splitting windows horizontally makes more sense on all of the wide
screen monitors I work on.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> split-width-threshold 81)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">What's going on here?</span>
(<span class="org-keyword">setq</span> echo-keystrokes 0.1)


<span class="org-comment-delimiter">;; </span><span class="org-comment">Where am I?</span>
(line-number-mode t)
(global-hl-line-mode t)
(column-number-mode t)
(show-paren-mode t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Do not break lines.  Truncate them.</span>
(<span class="org-keyword">setq-default</span> truncate-lines t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Automatically reload buffers when files change on disk.</span>
(global-auto-revert-mode 1)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Quit all that damn racket!</span>
(<span class="org-keyword">setq</span> ring-bell-function 'ignore)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Make sure syntax highlighting is enabled.</span>
(global-font-lock-mode t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">y is the new yes.  n is the new no.</span>
(<span class="org-keyword">defalias</span> '<span class="org-function-name">yes-or-no-p</span> 'y-or-n-p)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org05fa004" class="outline-2">
<h2 id="org05fa004">k20e Custom Functions</h2>
<div class="outline-text-2" id="text-org05fa004">
<p>
I have found these to be useful enough to keep around permanently.
</p>
</div>

<div id="outline-container-orgc7a2c61" class="outline-3">
<h3 id="orgc7a2c61">Editing</h3>
<div class="outline-text-3" id="text-orgc7a2c61">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-current-line</span> ()
  <span class="org-doc">"Mark the current line.</span>
<span class="org-doc">If the mark is already set simply move the point forward a single</span>
<span class="org-doc">line.  If it is not set, set it at the beginning of the current</span>
<span class="org-doc">line and then move the point forward a single line."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">unless</span> mark-active
    (beginning-of-line)
    (set-mark (point)))
  (forward-line 1))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/open-line-below</span> ()
  <span class="org-doc">"Insert a new line below the current line."</span>
  (<span class="org-keyword">interactive</span>)
  (end-of-line)
  (newline)
  (indent-for-tab-command))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/open-line-above</span> ()
  <span class="org-doc">"Insert a new line above the current line."</span>
  (<span class="org-keyword">interactive</span>)
  (beginning-of-line)
  (newline)
  (forward-line -1)
  (indent-for-tab-command))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Inspired by http://whattheemacsd.com/key-bindings.el-01.html</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/goto-linum</span> ()
  <span class="org-doc">"Show line numbers and prompt for a line number to go to."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((linum-mode-previous-state
         (<span class="org-keyword">if</span> (<span class="org-keyword">and</span> (boundp 'linum-mode) linum-mode) 1 -1)))
    (<span class="org-keyword">unwind-protect</span>
        (<span class="org-keyword">progn</span>
          (linum-mode 1)
          (call-interactively 'goto-line)
          (linum-mode linum-mode-previous-state))
      (linum-mode linum-mode-previous-state))))
</pre>
</div>

<p>
This one is stolen from <a href="https://github.com/magnars/.emacs.d/blob/e56e71ce0f0791c7237192a049f29c2de686409a/defuns/lisp-defuns.el">magnars</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/eval-and-replace</span> ()
  <span class="org-doc">"Replace the preceding sexp with its value."</span>
  (<span class="org-keyword">interactive</span>)
  (backward-kill-sexp)
  (<span class="org-keyword">condition-case</span> nil
      (prin1 (eval (read (current-kill 0)))
             (current-buffer))
    (<span class="org-warning">error</span> (message <span class="org-string">"Invalid expression"</span>)
           (insert (current-kill 0)))))
</pre>
</div>

<p>
Bind editing functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"M-l"</span>) 'k20e/mark-current-line)
(global-set-key (kbd <span class="org-string">"&lt;M-return&gt;"</span>) 'k20e/open-line-below)
(global-set-key (kbd <span class="org-string">"&lt;M-S-return&gt;"</span>) 'k20e/open-line-above)
(global-set-key [remap goto-line] 'k20e/goto-linum)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8987f5" class="outline-3">
<h3 id="orgc8987f5">Buffers</h3>
<div class="outline-text-3" id="text-orgc8987f5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/display-buffer-file-name</span> ()
  <span class="org-doc">"Message the full path to the currently visited file."</span>
  (<span class="org-keyword">interactive</span>)
  (message <span class="org-string">"%s"</span> (buffer-file-name)))
</pre>
</div>
</div>

<div id="outline-container-org925cfce" class="outline-4">
<h4 id="org925cfce">Toggle Source/Test Buffer</h4>
<div class="outline-text-4" id="text-org925cfce">
<p>
If this gets any smarter it should be refactored into its own
package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/test-buffer-p</span> ()
  <span class="org-doc">"Is the current buffer a test buffer?</span>
<span class="org-doc">This function na&#239;vely assumes that the file name suffix '_test'</span>
<span class="org-doc">is indicative of a test file."</span>
  (string-suffix-p
   <span class="org-string">"_test"</span>
   (file-name-sans-extension (buffer-file-name))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/switch-to-test-buffer</span> ()
  <span class="org-doc">"Switch to the test buffer associated with the current source buffer."</span>
  (<span class="org-keyword">let</span> ((d (file-name-directory (buffer-file-name)))
        (f (format <span class="org-string">"%s_test.%s"</span>
                    (file-name-sans-extension (buffer-name))
                    (file-name-extension (buffer-file-name)))))
    (find-file (expand-file-name f d))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/switch-to-source-buffer</span> ()
  <span class="org-doc">"Switch to the source buffer associated with the current test buffer."</span>
  (<span class="org-keyword">let</span> ((e (file-name-extension (buffer-file-name)))
        (f (car (split-string (file-name-sans-extension (buffer-file-name))
                              <span class="org-string">"_"</span>))))
    (find-file (format <span class="org-string">"%s.%s"</span> f e))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/toggle-test-buffer</span> ()
  <span class="org-doc">"Toggle between a source and test buffer.</span>
<span class="org-doc">This function na&#239;vely assumes that the file name suffix '_test'</span>
<span class="org-doc">is indicative of a test file.  Therefore it should only be useful</span>
<span class="org-doc">in major modes where that convention is expected."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (k20e/test-buffer-p)
      (k20e/switch-to-source-buffer)
    (k20e/switch-to-test-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0b999d" class="outline-4">
<h4 id="orgc0b999d">Widescreen</h4>
<div class="outline-text-4" id="text-orgc0b999d">
<p>
When working on a widescreen monitor it can be useful to have
windows arranged a bit differently than they would on smaller
monitors.  In particular, a function like <code>fit-window-to-buffer</code>
which adjusts the window's width is helpful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/get-longest-line-length</span> ()
  <span class="org-doc">"Get the length of the longest line in the selected window."</span>
  (<span class="org-keyword">save-excursion</span>
    (goto-char (point-min))
    (<span class="org-keyword">let</span> ((max-length 0)
          (last-line (count-lines (point-min) (point-max))))
      (<span class="org-keyword">while</span> (&lt;= (line-number-at-pos) last-line)
        (<span class="org-keyword">setq</span> max-length (max max-length (- (point-at-eol) (point-at-bol))))
        (forward-line))
      (1+ max-length))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/fit-window-to-buffer-horizontally</span> ()
  <span class="org-doc">"Fit the selected window to the width of its longest line.</span>
<span class="org-doc">Return the window width delta."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let*</span> ((current-width (window-width))
         (longest-line (k20e/get-longest-line-length))
         (delta (* -1 (- current-width longest-line))))
    (<span class="org-keyword">if</span> (zerop (window-resizable (selected-window) delta t)) nil
      (window-resize (selected-window) delta t))
    delta))

(global-set-key (kbd <span class="org-string">"C-x w"</span>) 'k20e/fit-window-to-buffer-horizontally)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org53fadc5" class="outline-3">
<h3 id="org53fadc5">Windows</h3>
<div class="outline-text-3" id="text-org53fadc5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ivy</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">split-window-right-and-balance-and-go-there-and-switch-buffer</span> (<span class="org-type">&amp;optional</span> arg)
  <span class="org-doc">"Optional argument ARG Prefix argument will switch buffer using ivy."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
  (split-window-right)
  (balance-windows-area)
  (windmove-right)
  (<span class="org-keyword">if</span> arg
      (ivy-switch-buffer)
    (switch-to-buffer nil)))

(<span class="org-keyword">defun</span> <span class="org-function-name">delete-window-and-balance</span> ()
  <span class="org-doc">"Balance windows after deleting."</span>
  (<span class="org-keyword">interactive</span>)
  (delete-window)
  (balance-windows-area))
</pre>
</div>

<p>
Bind window functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"C-x 0"</span>) 'delete-window-and-balance)
(global-set-key (kbd <span class="org-string">"C-x 3"</span>) 'split-window-right-and-balance-and-go-there-and-switch-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org98b8c16" class="outline-3">
<h3 id="org98b8c16">Networking</h3>
<div class="outline-text-3" id="text-org98b8c16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">net-utils</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">tramp</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/known-hosts</span> ()
  <span class="org-doc">"Get a host name from ~./ssh/known_hosts file."</span>
  (completing-read <span class="org-string">"host: "</span>
                   (<span class="org-keyword">let</span> ((value))
                     (<span class="org-keyword">dolist</span> (elt (tramp-parse-shosts <span class="org-string">"~/.ssh/known_hosts"</span>) value)
                       (<span class="org-keyword">if</span> elt (<span class="org-keyword">setq</span> value (cons (cadr elt) value)))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/host-ip</span> ()
  <span class="org-doc">"Insert the current IP of a host using `</span><span class="org-constant"><span class="org-doc">dns-lookup-program</span></span><span class="org-doc">'.</span>
<span class="org-doc">Similar to but simpler than `</span><span class="org-constant"><span class="org-doc">dns-lookup-host</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((host (k20e/known-hosts)))
    (insert (car (last (split-string (shell-command-to-string
                                      (concat dns-lookup-program <span class="org-string">" "</span> host))))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org390b0f1" class="outline-3">
<h3 id="org390b0f1">Lunar 🌙</h3>
<div class="outline-text-3" id="text-org390b0f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">calendar</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">lunar</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/full-moons-info</span> ()
  <span class="org-doc">"Get a list of upcoming full moons info beginning with the current month.</span>
<span class="org-doc">See `</span><span class="org-constant"><span class="org-doc">lunar-phase-list</span></span><span class="org-doc">' and `</span><span class="org-constant"><span class="org-doc">lunar-phase-name</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">let*</span> ((current-date (calendar-current-date))
         (current-month (car current-date))
         (current-year (car (last current-date)))
         (full-moon-phase-index 2)
         (k20e/full-moons-info '()))
    (<span class="org-keyword">dolist</span> (phase (lunar-phase-list current-month current-year))
      (<span class="org-keyword">if</span> (= (car (last phase)) full-moon-phase-index)
          (<span class="org-keyword">setq</span> k20e/full-moons-info (cons phase k20e/full-moons-info))))
    (reverse k20e/full-moons-info)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/full-moons</span> ()
  <span class="org-doc">"Display upcoming full moons beginning with the current month."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">with-output-to-temp-buffer</span> <span class="org-string">"*full-moons*"</span>
    (princ
     (mapconcat
      #'(lambda (x)
          (format <span class="org-string">"%s %s"</span> (calendar-date-string (car x)) (car (cdr x))))
      (k20e/full-moons-info)
      <span class="org-string">"\n"</span>))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf97a153" class="outline-2">
<h2 id="orgf97a153">OS X</h2>
<div class="outline-text-2" id="text-orgf97a153">
<p>
These may be better suited split up to key bindings and/or a maybe
input/mouse section?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">I spend most of my time in OS X.</span>
(<span class="org-keyword">if</span> (equal system-type 'darwin)
    (<span class="org-keyword">progn</span>
      <span class="org-comment-delimiter">;; </span><span class="org-comment">Command as meta.</span>
      (<span class="org-keyword">setq</span> ns-command-modifier 'meta)

      <span class="org-comment-delimiter">;; </span><span class="org-comment">Option as hyper.</span>
      (<span class="org-keyword">setq</span> ns-option-modifier 'hyper)

      <span class="org-comment-delimiter">;; </span><span class="org-comment">fn as super.</span>
      (<span class="org-keyword">setq</span> ns-function-modifier 'super)

      <span class="org-comment-delimiter">;; </span><span class="org-comment">See https://github.com/Homebrew/homebrew/commit/49c85b89753d42cc4ec2fee9607a608b3b14ab33?w=1</span>
      (<span class="org-keyword">setq</span> ns-use-srgb-colorspace t)

      <span class="org-comment-delimiter">;; </span><span class="org-comment">Trackpad taming.</span>
      (<span class="org-keyword">setq</span>
       mouse-wheel-scroll-amount '(0.0001)
       mouse-wheel-progressive-speed nil
       scroll-step 1
       scroll-conservatively 10000
       auto-window-vscroll nil)

      <span class="org-comment-delimiter">;; </span><span class="org-comment">Trash.</span>
      (<span class="org-keyword">setq</span> trash-directory (expand-file-name <span class="org-string">"~/.Trash"</span>)
            delete-by-moving-to-trash t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4abfcee" class="outline-2">
<h2 id="org4abfcee">Appearance</h2>
<div class="outline-text-2" id="text-org4abfcee">
</div><div id="outline-container-orga8a33d4" class="outline-3">
<h3 id="orga8a33d4">Theme</h3>
<div class="outline-text-3" id="text-orga8a33d4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Add themes.</span>
(<span class="org-keyword">dolist</span>
    (theme (directory-files (expand-file-name <span class="org-string">"themes"</span> user-emacs-directory) t <span class="org-string">"\\w+"</span>))
  (<span class="org-keyword">when</span> (file-directory-p theme)
    (add-to-list 'custom-theme-load-path theme)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Tomorrow as a submodule.  It has a bunch of other editor support.</span>
(add-to-list 'custom-theme-load-path
             (expand-file-name
              <span class="org-string">"themes/tomorrow/GNU Emacs"</span> user-emacs-directory))
(add-to-list 'load-path (expand-file-name
                         <span class="org-string">"themes/tomorrow/GNU Emacs"</span> user-emacs-directory))

<span class="org-comment-delimiter">;; </span><span class="org-comment">These ports of Sublime Text 2 themes required a stupid shell script</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">to "install" them which I refuse to use.</span>
(add-to-list 'custom-theme-load-path
             (expand-file-name
              <span class="org-string">"themes/st2/themes"</span> user-emacs-directory))

(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/theme-light</span> 'solarized-light
  <span class="org-doc">"The default lightly colored theme.</span>

<span class="org-doc">Other good light candidates:</span>

<span class="org-doc">  - tomorrow-day</span>
<span class="org-doc">  - whiteboard"</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/theme-dark</span> 'tomorrow-night-eighties
  <span class="org-doc">"The default darkly colored theme.</span>

<span class="org-doc">Other good dark candidates:</span>

<span class="org-doc">  - tomorrow-night-bright</span>
<span class="org-doc">  - tomorrow-night</span>
<span class="org-doc">  - hickey</span>
<span class="org-doc">  - fogus</span>
<span class="org-doc">  - dorsey</span>
<span class="org-doc">  - wilson</span>
<span class="org-doc">  - wombat</span>
<span class="org-doc">  - zenburn"</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/theme-load-light</span> ()
  <span class="org-doc">"Load a lightly colored theme for conditions when ambient light</span>
<span class="org-doc">is bright."</span>
  (<span class="org-keyword">interactive</span>)
  (disable-theme (car custom-enabled-themes))
  (load-theme k20e/theme-light t)
  (set-face-background 'hl-line <span class="org-string">"AntiqueWhite2"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/theme-load-dark</span> ()
  <span class="org-doc">"Load a darkly colored theme for conditions when ambient light</span>
<span class="org-doc">is dark."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">linum</span>)
  (disable-theme (car custom-enabled-themes))
  (load-theme k20e/theme-dark t)
  (set-face-background 'hl-line <span class="org-string">"gray20"</span>)
  (set-face-background 'fringe <span class="org-string">"gray20"</span>)
  (set-face-background 'linum <span class="org-string">"gray20"</span>)
  (set-face-background 'region <span class="org-string">"gray36"</span>)
  (set-face-background 'show-paren-match <span class="org-string">"gray64"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/theme-toggle</span> ()
  <span class="org-doc">"Switch between the light and dark theme."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (member k20e/theme-dark custom-enabled-themes)
      (k20e/theme-load-light)
    (k20e/theme-load-dark)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Load a dark theme by default.</span>
(k20e/theme-load-dark)
</pre>
</div>

<p>
Bind toggle function:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"C-x t"</span>) 'k20e/theme-toggle)
</pre>
</div>
</div>

<div id="outline-container-orgeab72ca" class="outline-4">
<h4 id="orgeab72ca"><span class="todo TODO">TODO</span> Try out <a href="https://github.com/bruce/emacs-spacegray-theme">Spacegray theme</a></h4>
</div>
</div>

<div id="outline-container-orgc503ae6" class="outline-3">
<h3 id="orgc503ae6">Cursor</h3>
<div class="outline-text-3" id="text-orgc503ae6">
<p>
Disable blinking.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(blink-cursor-mode 0)
</pre>
</div>

<p>
If blinking is enabled the rate can be adjusted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> blink-cursor-interval 0.75)
</pre>
</div>
</div>
</div>

<div id="outline-container-org47643ce" class="outline-3">
<h3 id="org47643ce">Frame Height</h3>
<div class="outline-text-3" id="text-org47643ce">
<p>
These functions were more useful before I began using the <a href="http://git.savannah.gnu.org/cgit/emacs.git/tree/lisp/desktop.el"><code>desktop</code></a> package
and its <a href="http://git.savannah.gnu.org/cgit/emacs.git/tree/lisp/desktop.el?id=e78d7f87377e29ee7ed2dd7aaed40244f1edbf13#n397"><code>desktop-restore-frames</code></a> variable.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">get-max-rows</span> (pixel-height)
  <span class="org-doc">"Return the maximum number of rows that will fit with this screen.</span>
<span class="org-doc">Given a screen pixel height at the current frame character height, calculate</span>
<span class="org-doc">the maximum number of rows that will fit with that height."</span>
  (<span class="org-keyword">if</span> (window-system)
      (/ pixel-height (frame-char-height))))

(<span class="org-keyword">defun</span> <span class="org-function-name">set-frame-height-to-max</span> ()
  <span class="org-doc">"Set the selected frame height to the maximum that will fit the current</span>
<span class="org-doc">screen resolution."</span>
  (<span class="org-keyword">if</span> (window-system)
      (set-frame-height (selected-frame)
                        (get-max-rows (- (display-pixel-height) 44)))))

(set-frame-height-to-max)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f919ab" class="outline-3">
<h3 id="org0f919ab">Fringe</h3>
<div class="outline-text-3" id="text-org0f919ab">
<p>
The "fringe" or "gutter" shows indicators for wrapped/extended lines,
<a href="#flycheck">flycheck</a>, etc.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">fringe</span>)
(fringe-mode (cdr (assoc <span class="org-string">"half-width"</span> fringe-styles)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgec98241" class="outline-3">
<h3 id="orgec98241"><span class="todo TODO">TODO</span> Disable <code>linum-mode</code> when text scale is not zero</h3>
<div class="outline-text-3" id="text-orgec98241">
<p>
The fringe text scale is adjusted with the rest of the buffer yet the
fringe width is not adjusted.  If text scale is positive the line numbers
get cut-off and not very useful.  There is <a href="http://stackoverflow.com/questions/9304192/emacs-linum-mode-and-size-of-font-unreadable-line-numbers">a hack that tries to address
this situation</a> but I'd just as soon disable line numbering when the text
scale is large.
</p>
</div>
</div>
</div>

<div id="outline-container-org3f0969c" class="outline-2">
<h2 id="org3f0969c">ag</h2>
<div class="outline-text-2" id="text-org3f0969c">
<p>
<a href="https://github.com/ggreer/the_silver_searcher">The Silver Searcher</a> is similar to <code>ack</code>, which in turn is similar to <code>grep</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ag</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">counsel</span>)

(<span class="org-keyword">setq</span> ag-arguments
      '(<span class="org-string">"--smart-case"</span> <span class="org-string">"--nogroup"</span> <span class="org-string">"--column"</span> <span class="org-string">"--smart-case"</span> <span class="org-string">"--stats"</span> <span class="org-string">"--vimgrep"</span> <span class="org-string">"--"</span>)
      ag-highlight-search t)

(global-set-key (kbd <span class="org-string">"C-x C-a"</span>) 'counsel-ag)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f3af32" class="outline-2">
<h2 id="org2f3af32">arduino-mode</h2>
<div class="outline-text-2" id="text-org2f3af32">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">arduino-mode</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">compile</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/arduino-recompile</span> ()
  <span class="org-doc">"Recompile the project without messing with the windows."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">save-window-excursion</span> (recompile)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/arduino-mode-hook</span> ()
  (define-key arduino-mode-map (kbd <span class="org-string">"C-c C-c"</span>) 'k20e/arduino-recompile))

(add-hook 'arduino-mode-hook 'k20e/arduino-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga16b127" class="outline-2">
<h2 id="orga16b127">auto-fill</h2>
<div class="outline-text-2" id="text-orga16b127">
<p>
When to turn on auto-fill and set fill-column to a reasonable value.  This
would probably be better dealt with by a data structure that maps mode hooks
to fill-column values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/auto-fill-mode-hook</span> ()
  (<span class="org-keyword">setq</span> fill-column 78))

(add-hook 'auto-fill-mode 'k20e/auto-fill-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8fcf78c" class="outline-2">
<h2 id="org8fcf78c">auto-save</h2>
<div class="outline-text-2" id="text-org8fcf78c">
<p>
Disable <code>auto-save</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> auto-save-default nil
      auto-save-timeout 0)
</pre>
</div>
</div>
</div>

<div id="outline-container-org134f72b" class="outline-2">
<h2 id="org134f72b">buffer-move</h2>
<div class="outline-text-2" id="text-org134f72b">
<p>
Move the current buffer up/down/left/right easily.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">buffer-move</span>)

(global-set-key (kbd <span class="org-string">"&lt;H-S-up&gt;"</span>) 'buf-move-up)
(global-set-key (kbd <span class="org-string">"&lt;H-S-down&gt;"</span>) 'buf-move-down)
(global-set-key (kbd <span class="org-string">"&lt;H-S-left&gt;"</span>) 'buf-move-left)
(global-set-key (kbd <span class="org-string">"&lt;H-S-right&gt;"</span>) 'buf-move-right)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e32edc" class="outline-2">
<h2 id="org9e32edc">cider</h2>
<div class="outline-text-2" id="text-org9e32edc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">cider</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">eldoc</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">paredit</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/cider-mode-hook</span> ()
  (eldoc-mode)
  (paredit-mode 1))

(add-hook 'cider-mode-hook 'k20e/cider-mode-hook)

(<span class="org-keyword">setq</span> nrepl-hide-special-buffers t
      cider-show-error-buffer nil
      cider-repl-use-pretty-printing nil
      cider-repl-history-file (expand-file-name <span class="org-string">"nrepl-history"</span> k20e/google-drive-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce8ba0d" class="outline-2">
<h2 id="orgce8ba0d">clock-face</h2>
<div class="outline-text-2" id="text-orgce8ba0d">
<p>
This is a <a href="https://github.com/krismolendyke/clock-face.el">ridiculous package</a> that I wrote to insert a Unicode clock
face character for the nearest current half-hour.  🕙
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">clock-face</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb47b0bf" class="outline-2">
<h2 id="orgb47b0bf">clojure-mode</h2>
<div class="outline-text-2" id="text-orgb47b0bf">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">clojure-mode</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">cider-test</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">paredit</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/clojure-mode-hook</span> ()
  (paredit-mode 1))

(add-hook 'clojure-mode-hook 'k20e/clojure-mode-hook)
</pre>
</div>
</div>

<div id="outline-container-org8a3478b" class="outline-3">
<h3 id="org8a3478b">Save buffers before loading or running tests</h3>
<div class="outline-text-3" id="text-org8a3478b">
<p>
Courtesy of Magnar Sveen's <a href="https://github.com/magnars/.emacs.d/blob/486e631801c84b018d90cf040d2170ef78045676/setup-clojure-mode.el"><code>setup-clojure-mode.el</code></a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">cider-mode</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">cider-test</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">(defadvice clojure-test-run-tests (before save-first activate)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(save-buffer))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">(defadvice cider-load-current-buffer (before save-first activate)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(save-buffer))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf2b36ac" class="outline-2">
<h2 id="orgf2b36ac">compilation-mode</h2>
<div class="outline-text-2" id="text-orgf2b36ac">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/compilation-mode-hook</span> ()
  (set-face-foreground 'compilation-error <span class="org-string">"tomato1"</span>))

(add-hook 'compilation-mode-hook 'k20e/compilation-mode-hook)
</pre>
</div>

<p>
Functions to execute after compilation has finished:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">hl-line</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">subr-x</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/compilation-finish-function-delay-delete</span> (buf result)
  <span class="org-doc">"Delete and bury BUF after short delay.</span>
<span class="org-doc">Do so only if compilation is successful."</span>
  (<span class="org-keyword">if</span> (string= (string-trim result) <span class="org-string">"finished"</span>)
      (run-with-timer
       1.0 nil
       (<span class="org-keyword">lambda</span> (buf)
         (<span class="org-keyword">with-current-buffer</span> buf
           (delete-window)
           (bury-buffer)))
       buf)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/compilation-finish-function-select-window</span> (buf result)
  <span class="org-doc">"Switch to the compilation buffer BUF.</span>
<span class="org-doc">When compilation completes, regardless of result."</span>
  (<span class="org-keyword">let</span> ((win (get-buffer-window buf)))
    (select-window (get-buffer-window buf))
    (goto-char (point-max))
    (forward-line -1)
    (hl-line-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf62f9aa" class="outline-2">
<h2 id="orgf62f9aa">Counsel</h2>
<div class="outline-text-2" id="text-orgf62f9aa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">counsel</span>)

(global-set-key (kbd <span class="org-string">"M-x"</span>) 'counsel-M-x)

(global-set-key (kbd <span class="org-string">"C-x C-f"</span>) 'counsel-find-file)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; f"</span>) 'counsel-describe-function)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; v"</span>) 'counsel-describe-variable)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; l"</span>) 'counsel-find-library)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; s"</span>) 'counsel-info-lookup-symbol)

(global-set-key (kbd <span class="org-string">"C-x 8 RET"</span>) 'counsel-unicode-char)

(define-key read-expression-map (kbd <span class="org-string">"C-r"</span>) 'counsel-expression-history)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a10af6" class="outline-2">
<h2 id="org5a10af6">dash-at-point</h2>
<div class="outline-text-2" id="text-org5a10af6">
<p>
<a href="https://kapeli.com/dash">Dash</a> offline API access.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(autoload 'dash-at-point
  <span class="org-string">"dash-at-point"</span> <span class="org-doc">"Search the word at point with Dash."</span> t nil)

(global-set-key (kbd <span class="org-string">"H-d"</span>) 'dash-at-point)
</pre>
</div>
</div>
</div>

<div id="outline-container-org146e90e" class="outline-2">
<h2 id="org146e90e">dired</h2>
<div class="outline-text-2" id="text-org146e90e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">dired-x</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">autorevert</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/dired-load-hook</span> ()
  (load <span class="org-string">"dired-x"</span>))

(add-hook 'dired-load-hook 'k20e/dired-load-hook)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/dired-mode-hook</span> ()
  (auto-revert-mode 1)
  (<span class="org-keyword">setq</span> auto-revert-verbose nil)
  (set-face-foreground 'dired-flagged <span class="org-string">"tomato1"</span>)
  (set-face-attribute 'dired-flagged nil <span class="org-builtin">:strike-through</span> t))

(add-hook 'dired-mode-hook 'k20e/dired-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge91a418" class="outline-2">
<h2 id="orge91a418">electric-pair-mode</h2>
<div class="outline-text-2" id="text-orge91a418">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">elec-pair</span>)

(electric-pair-mode t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org654be85" class="outline-2">
<h2 id="org654be85">emacs-lisp-mode</h2>
<div class="outline-text-2" id="text-org654be85">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/emacs-lisp-mode-hook</span> ()
  (eldoc-mode))

(add-hook 'emacs-lisp-mode-hook 'k20e/emacs-lisp-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org010ebab" class="outline-2">
<h2 id="org010ebab">ert</h2>
<div class="outline-text-2" id="text-org010ebab">
<p>
Emacs Lisp <a href="http://en.wikipedia.org/wiki/Unit_testing">unit testing</a>!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ert</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/ert</span> ()
  <span class="org-doc">"Run all the tests in the universe!"</span>
  (<span class="org-keyword">interactive</span>)
  (ert t))

(define-key emacs-lisp-mode-map (kbd <span class="org-string">"H-t"</span>) 'k20e/ert)
</pre>
</div>
</div>
</div>

<div id="outline-container-org26292e9" class="outline-2">
<h2 id="org26292e9">expand-region</h2>
<div class="outline-text-2" id="text-org26292e9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">expand-region</span>)

(global-set-key (kbd <span class="org-string">"C-M-SPC"</span>) 'er/expand-region)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9bbc297" class="outline-2">
<h2 id="org9bbc297">find-file-in-project</h2>
<div class="outline-text-2" id="text-org9bbc297">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">find-file-in-project</span>)

(<span class="org-keyword">setq-default</span> ffip-limit 8192
              ffip-find-options <span class="org-string">"-not -regex \".*/build.*\""</span>
              ffip-full-paths t
              ffip-patterns (list <span class="org-string">"*.clj"</span>
                                  <span class="org-string">"*.conf"</span>
                                  <span class="org-string">"*.cron"</span>
                                  <span class="org-string">"*.css"</span>
                                  <span class="org-string">"*.el"</span>
                                  <span class="org-string">"*.html"</span>
                                  <span class="org-string">"*.j2"</span>
                                  <span class="org-string">"*.js"</span>
                                  <span class="org-string">"*.json"</span>
                                  <span class="org-string">"*.mk"</span>
                                  <span class="org-string">"*.md"</span>
                                  <span class="org-string">"*.org"</span>
                                  <span class="org-string">"*.py"</span>
                                  <span class="org-string">"*.rb"</span>
                                  <span class="org-string">"*.rst"</span>
                                  <span class="org-string">"*.sh"</span>
                                  <span class="org-string">"*.soy"</span>
                                  <span class="org-string">"*.txt"</span>
                                  <span class="org-string">"*.yml"</span>
                                  <span class="org-string">"Makefile"</span>)
              ffip-prune-patterns (list <span class="org-string">".git"</span> <span class="org-string">"build"</span>))

(global-set-key (kbd <span class="org-string">"C-x o"</span>) 'find-file-in-project)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef8ace6" class="outline-2">
<h2 id="flycheck"><a id="orgef8ace6"></a>flycheck</h2>
<div class="outline-text-2" id="text-flycheck">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">flycheck</span>)

(<span class="org-keyword">setq-default</span> flycheck-pylintrc <span class="org-string">"pylintrc"</span>
              flycheck-check-syntax-automatically '(mode-enabled save))
</pre>
</div>
</div>
</div>

<div id="outline-container-org592cd3c" class="outline-2">
<h2 id="org592cd3c">flyspell</h2>
<div class="outline-text-2" id="text-org592cd3c">
<p>
Setup <code>ispell</code> to use <a href="#install-aspell"><code>aspell</code></a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> ispell-program-name <span class="org-string">"aspell"</span>
              ispell-extra-args (list <span class="org-string">"--sug-mode=ultra"</span>))
</pre>
</div>

<p>
Then setup <code>flyspell</code> itself.  It requires  <code>ispell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">flyspell</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">When to turn on flyspell-mode.</span>
(<span class="org-keyword">dolist</span> (hook '(text-mode-hook))
  (add-hook hook 'turn-on-flyspell))

<span class="org-comment-delimiter">;; </span><span class="org-comment">When to turn on flyspell-prog-mode for comments and strings in source.</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(dolist (hook '(emacs-lisp-mode-hook</span>
<span class="org-comment-delimiter">;;                 </span><span class="org-comment">lisp-mode-hook))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(add-hook hook #'(lambda () (flyspell-prog-mode))))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Do not emit to *Messages*.</span>
(<span class="org-keyword">setq</span> flyspell-issue-message-flag nil
      flyspell-issue-welcome-flag nil)
</pre>
</div>
</div>

<div id="outline-container-org4f4f73e" class="outline-3">
<h3 id="install-aspell"><a id="org4f4f73e"></a>Install <a href="http://hunspell.sourceforge.net/"><code>aspell</code></a></h3>
<div class="outline-text-3" id="text-install-aspell">
<p>
Install <code>aspell</code> via Homebrew:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install aspell --with-lang-en
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org63f7cc0" class="outline-2">
<h2 id="org63f7cc0">Fonts</h2>
<div class="outline-text-2" id="text-org63f7cc0">
<p>
Managing fonts always seems to be a hassle.  These functions help to
interactively set the font family and a preferred size from a short
list of fonts that I like.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/font-list</span> '((<span class="org-string">"Hack"</span> . 11)
                         (<span class="org-string">"Source-Code-Pro"</span> . 11)
                         (<span class="org-string">"Glass-TTY-VT220"</span> . 20)
                         (<span class="org-string">"Consolas"</span> . 18)
                         (<span class="org-string">"Ubuntu-Mono"</span> . 17)
                         (<span class="org-string">"Inconsolata"</span> . 18)
                         (<span class="org-string">"DejaVu-Sans-Mono"</span> . 18)
                         (<span class="org-string">"PICO-8"</span> . 20))
  <span class="org-doc">"Ordered list of preferred fonts and sizes."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font--set</span> (font-alist)
  <span class="org-doc">"Set the font family and size to the given font alist of the</span>
<span class="org-doc">format (family . point)."</span>
  (<span class="org-keyword">let</span> ((font (replace-regexp-in-string <span class="org-string">"-"</span> <span class="org-string">" "</span> (car font-alist)))
        (height (* 10 (cdr font-alist))))
    (set-frame-font font)
    (set-face-attribute 'default nil <span class="org-builtin">:height</span> height)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font-set-from-list</span> (l)
  <span class="org-doc">"Set the font to first available font alist in the given list."</span>
  (<span class="org-keyword">if</span> (null l) nil
    (k20e/font--set (car l))
    (<span class="org-keyword">if</span> (string= (replace-regexp-in-string <span class="org-string">"-"</span> <span class="org-string">" "</span>(caar l))
                 (face-attribute 'default <span class="org-builtin">:family</span> (selected-frame)))
        (caar l)
      (k20e/font-set-from-list (cdr l)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font-set</span> ()
  <span class="org-doc">"Set a font from the `</span><span class="org-constant"><span class="org-doc">k20e/font-list</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((ignore-case completion-ignore-case))
    (<span class="org-keyword">unwind-protect</span>
        (<span class="org-keyword">progn</span>
          (<span class="org-keyword">setq</span> completion-ignore-case t)
          (<span class="org-keyword">let</span> ((font (completing-read <span class="org-string">"Font: "</span> k20e/font-list)))
            (k20e/font--set (assoc font k20e/font-list))))
      (<span class="org-keyword">setq</span> completion-ignore-case ignore-case))))

(k20e/font-set-from-list k20e/font-list)
</pre>
</div>
</div>

<div id="outline-container-orge4baa17" class="outline-3">
<h3 id="orge4baa17">Unicode</h3>
<div class="outline-text-3" id="text-orge4baa17">
<p>
<a href="http://users.teilar.gr/~g1951d/">Symbola</a> is a nice font for displaying Unicode characters 🍺👍.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">when</span> (member <span class="org-string">"Symbola"</span> (font-family-list))
  (set-fontset-font t 'unicode <span class="org-string">"Symbola"</span> nil 'prepend))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org933150e" class="outline-2">
<h2 id="org933150e">font-awesome</h2>
<div class="outline-text-2" id="text-org933150e">
<p>
This is a <a href="https://github.com/krismolendyke/font-awesome.el">naïve package</a> that I wrote to help insert <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>
icons into buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">font-awesome</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9bed35" class="outline-2">
<h2 id="orgf9bed35">geiser</h2>
<div class="outline-text-2" id="text-orgf9bed35">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> geiser-active-implementations '(racket chicken))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5b90e90" class="outline-2">
<h2 id="org5b90e90">Geo IP</h2>
<div class="outline-text-2" id="text-org5b90e90">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">json</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">solar</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">url</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/get-geo-ip-data</span> ()
  <span class="org-doc">"Get geographic data from current IP address."</span>
  (<span class="org-keyword">let</span> ((data))
    (<span class="org-keyword">with-current-buffer</span> (url-retrieve-synchronously <span class="org-string">"http://freegeoip.net/json/"</span>)
      (goto-char (point-max))
      (forward-line -1)
      (<span class="org-keyword">setq</span> data (json-read))
      (kill-buffer))
    data))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/set-geo-ip-data</span> ()
  <span class="org-doc">"Set geographic data for current IP address."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((data (k20e/get-geo-ip-data)))
    (<span class="org-keyword">setq-default</span> calendar-latitude (cdr (assoc 'latitude data))
                  calendar-longitude (cdr (assoc 'longitude data)))
    data))

(k20e/set-geo-ip-data)
(sunrise-sunset)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7fb9483" class="outline-2">
<h2 id="org7fb9483">git</h2>
<div class="outline-text-2" id="text-org7fb9483">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">counsel</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">gitconfig-mode</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">gitignore-mode</span>)

(autoload 'git-blame-mode <span class="org-string">"git-blame"</span>
  <span class="org-doc">"Minor mode for incremental blame for Git."</span> t)

(global-set-key (kbd <span class="org-string">"C-c g"</span>) 'counsel-git)
(global-set-key (kbd <span class="org-string">"C-c j"</span>) 'counsel-git-grep)
(global-set-key (kbd <span class="org-string">"C-x v b"</span>) 'git-blame-mode)
</pre>
</div>
</div>

<div id="outline-container-org33c3c3c" class="outline-3">
<h3 id="org33c3c3c">GitHub <code>.gitignore</code></h3>
<div class="outline-text-3" id="text-org33c3c3c">
<p>
A simple function to insert starter <code>.gitignore</code> file contents from
the <a href="https://github.com/github/gitignore">github/gitignore</a> repository.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">url</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh--gitignore-url</span> (language)
  <span class="org-doc">"Get GitHub .gitignore URL for LANGUAGE."</span>
  (format <span class="org-string">"https://raw.githubusercontent.com/github/gitignore/master/%s.gitignore"</span>
          (capitalize language)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh--gitignore-get-region</span> (response-buffer)
  <span class="org-doc">"Get GitHub .gitignore response body bounds.</span>
<span class="org-doc">Argument RESPONSE-BUFFER HTTP GET response."</span>
  (<span class="org-keyword">with-current-buffer</span> response-buffer
    (goto-char (point-min))
    (<span class="org-keyword">let</span> ((start (1+ (search-forward-regexp <span class="org-string">"^$"</span>)))
          (end (point-max)))
      (list start end))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh-gitignore-insert</span> (language)
  <span class="org-doc">"Insert Github .gitignore for LANGUAGE."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"sLanguage: "</span>)
  (<span class="org-keyword">let*</span> ((response-buffer (url-retrieve-synchronously
                           (k20e/gh--gitignore-url language) t))
         (gitignore-region (k20e/gh--gitignore-get-region response-buffer)))
    (insert-buffer-substring-no-properties
     response-buffer (car gitignore-region) (cadr gitignore-region))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcd9bfcc" class="outline-2">
<h2 id="orgcd9bfcc">go-mode</h2>
<div class="outline-text-2" id="text-orgcd9bfcc">
<p>
Install <a href="https://github.com/golang/lint">golint</a>:
</p>

<div class="org-src-container">
<pre class="src src-sh">go get -u github.com/golang/lint/golint
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">flycheck</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">go-mode</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/go-mode-hook</span> ()
  (<span class="org-keyword">let</span> ((gopath (getenv <span class="org-string">"GOPATH"</span>))
        (d <span class="org-string">"src/github.com/golang/lint/misc/emacs"</span>)
        (f <span class="org-string">"golint.el"</span>))
    (<span class="org-keyword">require</span> '<span class="org-constant">golint</span> (expand-file-name f (expand-file-name d gopath))))
  (<span class="org-keyword">setq</span> tab-width 4
        indent-tabs-mode t)
  (flycheck-mode 1)
  (add-hook 'before-save-hook 'gofmt-before-save))

(define-key go-mode-map (kbd <span class="org-string">"C-c C-t"</span>) 'k20e/toggle-test-buffer)
(define-key go-mode-map (kbd <span class="org-string">"C-c C-r"</span>) 'go-remove-unused-imports)

(add-hook 'go-mode-hook 'k20e/go-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2c85112" class="outline-2">
<h2 id="org2c85112">groovy-mode</h2>
<div class="outline-text-2" id="text-org2c85112">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">cc-vars</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/groovy-mode-hook</span> ()
  (<span class="org-keyword">setq</span> c-basic-offset 4))

(add-hook 'groovy-mode-hook 'k20e/groovy-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2606b73" class="outline-2">
<h2 id="org2606b73">highlight-parentheses</h2>
<div class="outline-text-2" id="text-org2606b73">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">highlight-parentheses</span>)

(<span class="org-keyword">dolist</span> (hook '(emacs-lisp-mode-hook
                lisp-mode-hook
                cider-repl-mode-hook
                clojure-mode-hook))
  (add-hook hook #'(lambda ()
                     (highlight-parentheses-mode))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org56eb178" class="outline-2">
<h2 id="org56eb178">hyperspec</h2>
<div class="outline-text-2" id="text-org56eb178">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Set HyperSpec root in Google Drive.</span>
(<span class="org-keyword">defvar</span> <span class="org-variable-name">common-lisp-hyperspec-root</span>
  (format <span class="org-string">"file://%s/"</span>
          (expand-file-name <span class="org-string">"Documents/HyperSpec"</span> k20e/google-drive-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9232bc3" class="outline-2">
<h2 id="org9232bc3">ibuffer</h2>
<div class="outline-text-2" id="text-org9232bc3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ibuffer</span>)

(<span class="org-keyword">defalias</span> '<span class="org-function-name">list-buffers</span> 'ibuffer)

(<span class="org-keyword">setq</span> ibuffer-formats
      '((mark <span class="org-string">" "</span>
              (modified)
              <span class="org-string">" "</span>
              (name 40 40 <span class="org-builtin">:right</span> <span class="org-builtin">:elide</span>)
              <span class="org-string">" "</span>
              (filename-and-process))
        (mark <span class="org-string">" "</span>
              (filename-and-process 70 70 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
              <span class="org-string">" "</span>
              name)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org29f7fd7" class="outline-2">
<h2 id="org29f7fd7">IELM</h2>
<div class="outline-text-2" id="text-org29f7fd7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">eldoc</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">paredit</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/ielm-hook</span> ()
  (eldoc-mode)
  (paredit-mode 1))

(add-hook 'ielm-mode-hook 'k20e/ielm-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd635a9c" class="outline-2">
<h2 id="orgd635a9c">imenu</h2>
<div class="outline-text-2" id="text-orgd635a9c">
<p>
Re-scan the buffer for new menu items automatically.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> imenu-auto-rescan t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org190b7b7" class="outline-2">
<h2 id="org190b7b7">I'm Feeling Lucky</h2>
<div class="outline-text-2" id="text-org190b7b7">
<p>
This is <a href="https://github.com/krismolendyke/im-feeling-lucky.el">my Google search</a> module.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">im-feeling-lucky</span>)

(global-set-key (kbd <span class="org-string">"H-l"</span>) 'ifl-region-or-query)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd59cd49" class="outline-2">
<h2 id="orgd59cd49">Ivy</h2>
<div class="outline-text-2" id="text-orgd59cd49">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ivy</span>)

(ivy-mode 1)

(<span class="org-keyword">setq</span> ivy-extra-directories nil
      ivy-use-virtual-buffers t
      ivy-wrap t)

(global-set-key (kbd <span class="org-string">"C-c C-r"</span>) 'ivy-resume)
(global-set-key (kbd <span class="org-string">"C-x b"</span>) 'ivy-switch-buffer)
</pre>
</div>

<blockquote>
<p>
<code>M-j</code> (<code>ivy-yank-word</code>)
</p>

<p>
Inserts the sub-word at point into the minibuffer.
</p>

<p>
This is similar to <code>C-s C-w</code> with <code>isearch</code>. Ivy reserves <code>C-w</code>
for <code>kill-region</code>. &#x2013; <a href="http://oremacs.com/swiper/#minibuffer-key-bindings">Ivy minibuffer key bindings</a>
</p>
</blockquote>

<p>
<code>isearch-forward-word</code> was mapped to <code>w</code> and my muscle memory
requires this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd <span class="org-string">"C-w"</span>) 'ivy-yank-word)
</pre>
</div>

<blockquote>
<p>
<code>C-j</code> (<code>ivy-alt-done</code>)
</p>

<p>
When completing file names, selects the current directory
candidate and starts a new completion session there. Otherwise, it
is the same as <code>ivy-done</code>.
</p>
</blockquote>

<p>
Having to type <code>C-j</code> to go into a directory when finding files is
maddening and I almost never used <code>dired</code>.  Swap <code>RET</code> to go into
directories and <code>C-j</code> to open current directory in <code>dired</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd <span class="org-string">"RET"</span>) 'ivy-alt-done)
(define-key ivy-minibuffer-map (kbd <span class="org-string">"C-j"</span>) 'ivy-done)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbaab278" class="outline-2">
<h2 id="orgbaab278">js-mode</h2>
<div class="outline-text-2" id="text-orgbaab278">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">flycheck</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">json</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/js-mode-hook</span> ()
  (<span class="org-keyword">setq-default</span> flycheck-gjslintrc <span class="org-string">"gjslintrc"</span>)
  (flycheck-mode 1))

(add-hook 'js-mode-hook 'k20e/js-mode-hook)

(add-to-list 'auto-mode-alist '(<span class="org-string">"\\.json"</span> . js-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org22458f0" class="outline-2">
<h2 id="org22458f0">keyfreq</h2>
<div class="outline-text-2" id="text-org22458f0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">keyfreq</span>)

(<span class="org-keyword">setq</span> keyfreq-file (expand-file-name <span class="org-string">".emacs-keyfreq"</span> k20e/google-drive-directory)
      keyfreq-file-lock (expand-file-name <span class="org-string">".emacs-keyfreq-lock"</span> k20e/google-drive-directory))

(keyfreq-mode 1)
(keyfreq-autosave-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc935d99" class="outline-2">
<h2 id="orgc935d99">LaTeX</h2>
<div class="outline-text-2" id="text-orgc935d99">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">tex-mode</span>)

(define-key latex-mode-map (kbd <span class="org-string">"C-j"</span>) 'join-line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2524814" class="outline-2">
<h2 id="org2524814">lockfiles</h2>
<div class="outline-text-2" id="text-org2524814">
<p>
<a href="http://stackoverflow.com/questions/5738170/why-does-emacs-create-temporary-symbolic-links-for-modified-files">Avoid creating temporary symbolic links</a> and disturbing working
directory state at the expense of avoiding editing collisions that I
do not ever anticipate.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> create-lockfiles nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org49223b6" class="outline-2">
<h2 id="org49223b6">man</h2>
<div class="outline-text-2" id="text-org49223b6">
<p>
Setting a width avoids a possibly (likely) poorly chosen automatic
width.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> Man-width 80)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1a3d3a" class="outline-2">
<h2 id="orgf1a3d3a">markdown-mode</h2>
<div class="outline-text-2" id="text-orgf1a3d3a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">markdown-mode</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/markdown-mode-hook</span> ()
  (<span class="org-keyword">setq</span> markdown-open-command <span class="org-string">"open"</span>))

(add-hook 'markdown-mode-hook 'k20e/markdown-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2c77aa3" class="outline-2">
<h2 id="org2c77aa3">Minibuffer</h2>
<div class="outline-text-2" id="text-org2c77aa3">
<p>
Scale up the minibuffer text size and limit how tall it can get.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/minibuffer-setup-hook</span> ()
  <span class="org-doc">"Bump up minibuffer text size and height."</span>
  (text-scale-set 3)
  (<span class="org-keyword">setq</span> max-mini-window-height 20))

(add-hook 'minibuffer-setup-hook 'k20e/minibuffer-setup-hook)
</pre>
</div>

<p>
Set <code>enable-recursive-minibufers</code> to <code>t</code> to allow minibuffers
<i>within</i> minibuffers.  A good use-case of this feature is described
in <a href="http://www.masteringemacs.org/articles/2011/10/19/executing-shell-commands-emacs/">Executing Shell Commands in Emacs</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> enable-recursive-minibuffers t)
</pre>
</div>
</div>

<div id="outline-container-org20bcdd5" class="outline-3">
<h3 id="org20bcdd5">Eval expression minibuffer</h3>
<div class="outline-text-3" id="text-org20bcdd5">
<p>
Enable <code>eldoc</code> in the modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">eldoc</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/eval-expression-minibuffer-setup-hook</span> ()
  (eldoc-mode 1))

(add-hook 'eval-expression-minibuffer-setup-hook
          'k20e/eval-expression-minibuffer-setup-hook)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org04cd98a" class="outline-2">
<h2 id="multi-term"><a id="org04cd98a"></a>multi-term</h2>
<div class="outline-text-2" id="text-multi-term">
<p>
Together with <a href="#term">term</a> this sets up my terminal environment within Emacs.
</p>

<p>
<code>multi-term</code> adds a nice shortcut for flipping between only terminal
buffers.  It also lets me fix a big annoyance by binding <code>M-h</code> to
<code>backward-kill-word</code> easily.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">term</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/term-toggle-mode</span> ()
  <span class="org-doc">"Toggle between `</span><span class="org-constant"><span class="org-doc">term-line-mode</span></span><span class="org-doc">' and `</span><span class="org-constant"><span class="org-doc">term-char-mode</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (term-in-char-mode)
      (term-line-mode)
    (term-char-mode)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">multi-term</span>)

(<span class="org-keyword">defcustom</span> <span class="org-variable-name">term-bind-key-alist</span>
    '((<span class="org-string">"C-c C-c"</span> . term-interrupt-subjob)
      (<span class="org-string">"C-h"</span> . term-send-backspace)
      (<span class="org-string">"C-c C-j"</span> . k20e/term-toggle-mode)
      (<span class="org-string">"C-c C-k"</span> . k20e/term-toggle-mode)
      (<span class="org-string">"C-p"</span> . term-send-up)
      (<span class="org-string">"C-n"</span> . term-send-down)
      (<span class="org-string">"C-r"</span> . term-send-reverse-search-history)
      (<span class="org-string">"C-m"</span> . term-send-raw)
      (<span class="org-string">"C-y"</span> . term-send-raw)
      (<span class="org-string">"C-z"</span> . term-stop-subjob)
      (<span class="org-string">"M-f"</span> . term-send-forward-word)
      (<span class="org-string">"M-b"</span> . term-send-backward-word)
      (<span class="org-string">"M-p"</span> . previous-line)
      (<span class="org-string">"M-n"</span> . next-line)
      (<span class="org-string">"M-d"</span> . term-send-forward-kill-word)
      (<span class="org-string">"M-h"</span> . term-send-backward-kill-word)
      (<span class="org-string">"M-r"</span> . isearch-backward)
      (<span class="org-string">"M-s"</span> . isearch-forward)
      (<span class="org-string">"M-."</span> . completion-at-point)
      (<span class="org-string">"M-]"</span> . multi-term-next)
      (<span class="org-string">"M-["</span> . multi-term-prev))
    <span class="org-doc">"Custom key bindings for `</span><span class="org-constant"><span class="org-doc">multi-term</span></span><span class="org-doc">'."</span>
    <span class="org-builtin">:type</span> 'alist
    <span class="org-builtin">:group</span> 'multi-term)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/multi-term-hook</span> ()
  <span class="org-doc">"Re-evaluate my custom key bindings."</span>
  (custom-reevaluate-setting 'term-bind-key-alist))

(add-hook 'term-mode-hook 'k20e/multi-term-hook)

(<span class="org-keyword">defalias</span> '<span class="org-function-name">zsh</span> 'multi-term
  <span class="org-doc">"Execute `</span><span class="org-constant"><span class="org-doc">multi-term</span></span><span class="org-doc">' when `</span><span class="org-constant"><span class="org-doc">zsh</span></span><span class="org-doc">' is executed.</span>
<span class="org-doc">`</span><span class="org-constant"><span class="org-doc">multi-term</span></span><span class="org-doc">' will look at the environment $SHELL value to</span>
<span class="org-doc">determine the shell to run.  I have it set to zsh."</span>)
</pre>
</div>

<p>
<code>k20e/multi-term-hook</code> is necessary to re-evaluate my custom key bindings
after <code>multi-term</code> is loaded.  Otherwise it overrides my bindings with its
bindings whenever I open a new terminal.
</p>
</div>

<div id="outline-container-org6a956ee" class="outline-3">
<h3 id="org6a956ee">Global Key Bindings</h3>
<div class="outline-text-3" id="text-org6a956ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"&lt;f2&gt;"</span>) 'multi-term)
(global-set-key (kbd <span class="org-string">"&lt;f11&gt;"</span>) 'multi-term-next)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1c1cc4a" class="outline-2">
<h2 id="org1c1cc4a">multiple-cursors</h2>
<div class="outline-text-2" id="text-org1c1cc4a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">multiple-cursors</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-next</span> (extended)
  <span class="org-doc">"Wrap multiple-cursors mark-more/next.</span>
<span class="org-doc">Call `</span><span class="org-constant"><span class="org-doc">mc/mark-next-like-this</span></span><span class="org-doc">' without a prefix argument.</span>
<span class="org-doc">Argument EXTENDED Prefix argument to call function `</span><span class="org-constant"><span class="org-doc">mc/mark-more-like-this-extended</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
  (<span class="org-keyword">if</span> extended
      (call-interactively 'mc/mark-more-like-this-extended)
    (call-interactively 'mc/mark-next-like-this)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-previous</span> (extended)
  <span class="org-doc">"Wrap multiple-cursors mark-more/previous.</span>
<span class="org-doc">Call `</span><span class="org-constant"><span class="org-doc">mc/mark-previous-like-this</span></span><span class="org-doc">' without a prefix argument.</span>
<span class="org-doc">Argument EXTENDED Prefix argument to call function `</span><span class="org-constant"><span class="org-doc">mc/mark-more-like-this-extended</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
  (<span class="org-keyword">if</span> extended
      (call-interactively 'mc/mark-more-like-this-extended)
    (call-interactively 'mc/mark-previous-like-this)))
</pre>
</div>

<p>
Setup key bindings:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"M-L"</span>) 'mc/edit-lines)
(global-set-key (kbd <span class="org-string">"C-M-."</span>) 'k20e/mark-next)
(global-set-key (kbd <span class="org-string">"C-M-,"</span>) 'k20e/mark-previous)
(global-set-key (kbd <span class="org-string">"C-M-&lt;return&gt;"</span>) 'mc/mark-all-like-this)
</pre>
</div>

<p>
Keep preferences sync'd across machines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> mc/list-file (expand-file-name <span class="org-string">".mc-lists.el"</span> k20e/google-drive-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8359999" class="outline-2">
<h2 id="org8359999">Open Source Licenses</h2>
<div class="outline-text-2" id="text-org8359999">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/insert-mit-license</span> ()
  <span class="org-doc">"Insert MIT license file contents.</span>
<span class="org-doc">Populate the current year and user name."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">with-current-buffer</span> (get-buffer-create <span class="org-string">"LICENSE.txt"</span>)
    (insert (format <span class="org-string">"The MIT License (MIT)</span>

<span class="org-string">Copyright (c) %s %s</span>

<span class="org-string">Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="org-string">of this software and associated documentation files (the \"Software\"), to deal</span>
<span class="org-string">in the Software without restriction, including without limitation the rights</span>
<span class="org-string">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="org-string">copies of the Software, and to permit persons to whom the Software is</span>
<span class="org-string">furnished to do so, subject to the following conditions:</span>

<span class="org-string">The above copyright notice and this permission notice shall be included in</span>
<span class="org-string">all copies or substantial portions of the Software.</span>

<span class="org-string">THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="org-string">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="org-string">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="org-string">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="org-string">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="org-string">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="org-string">THE SOFTWARE.</span>
<span class="org-string">"</span> (format-time-string <span class="org-string">"%Y"</span>) (user-full-name)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org453f468" class="outline-2">
<h2 id="org453f468">org-mode</h2>
<div class="outline-text-2" id="text-org453f468">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">org</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/org-return</span> ()
  <span class="org-doc">"Tell `</span><span class="org-constant"><span class="org-doc">org-return</span></span><span class="org-doc">' to indent, please."</span>
  (<span class="org-keyword">interactive</span>)
  (org-return t))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/org-mode-hook</span> ()
  (auto-fill-mode 1)
  (org-toggle-pretty-entities) <span class="org-comment-delimiter">;; </span><span class="org-comment">Display entities as UTF-8 characters.</span>
  (visual-line-mode 0)
  (<span class="org-keyword">setq</span> truncate-lines nil))

(add-hook 'org-mode-hook 'k20e/org-mode-hook)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Set the org directory.</span>
(<span class="org-keyword">setq</span> org-directory (expand-file-name <span class="org-string">"org"</span> k20e/google-drive-directory))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Speeeeeeeeeed!  Move to very beginning of a headline and press "?"</span>
(<span class="org-keyword">setq</span> org-use-speed-commands t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">"Special" `</span><span class="org-constant"><span class="org-comment">C-a</span></span><span class="org-comment">' and `</span><span class="org-constant"><span class="org-comment">C-e</span></span><span class="org-comment">' movement in headlines.</span>
(<span class="org-keyword">setq</span> org-special-ctrl-a/e t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Use completion in the current buffer for movement.</span>
(<span class="org-keyword">setq</span> org-goto-interface 'outline-path-completion)

<span class="org-comment-delimiter">;; </span><span class="org-comment">org-capture.</span>
(<span class="org-keyword">setq</span> org-default-notes-file (expand-file-name <span class="org-string">"notes.org"</span> org-directory))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Global key binding to make storing links to files easier.</span>
(global-set-key (kbd <span class="org-string">"C-c l"</span>) 'org-store-link)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Use Ivy for completion</span>
(<span class="org-keyword">setq</span> org-outline-path-complete-in-steps nil)

(<span class="org-keyword">setq</span> org-ellipsis nil)
</pre>
</div>
</div>

<div id="outline-container-org7e07173" class="outline-3">
<h3 id="org7e07173">Inline Images</h3>
<div class="outline-text-3" id="text-org7e07173">
<p>
Try to get the width of images displayed inline from a <code>#+ATTR.*</code>
keyword, e.g., <code>#+ATTR_HTML: :width 800px</code>, fall back to original
image width if no attribute keyword is found:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-image-actual-width nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5aedca2" class="outline-3">
<h3 id="org5aedca2">Key Bindings</h3>
<div class="outline-text-3" id="text-org5aedca2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ivy</span>)

(global-set-key (kbd <span class="org-string">"C-c a"</span>) 'org-agenda)
(global-set-key (kbd <span class="org-string">"C-x c"</span>) 'org-switchb)
(global-set-key (kbd <span class="org-string">"&lt;f12&gt;"</span>) 'org-agenda-list)

(define-key org-mode-map (kbd <span class="org-string">"&lt;return&gt;"</span>) 'k20e/org-return)
(define-key org-mode-map (kbd <span class="org-string">"C-c C-r"</span>) 'ivy-resume)
(define-key org-mode-map (kbd <span class="org-string">"C-j"</span>) 'join-line)
(define-key org-mode-map (kbd <span class="org-string">"C-m"</span>) 'k20e/org-return)
(define-key org-mode-map (kbd <span class="org-string">"H-&lt;tab&gt;"</span>) 'pcomplete)
(define-key org-mode-map (kbd <span class="org-string">"M-h"</span>) 'backward-kill-word)
</pre>
</div>
</div>
</div>

<div id="outline-container-org839d61f" class="outline-3">
<h3 id="org839d61f">Export</h3>
<div class="outline-text-3" id="text-org839d61f">
<p>
Most non-interactive export settings are defined in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el">a file loaded
during initialization</a>.  Those settings are defined during
initialization time to support a fast batch process for exporting
<i>this</i> document to HTML in a Git <code>post-commit</code> hook.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">k20e-org-html-export</span>)
</pre>
</div>

<p>
Interactive customization can be done here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-publish</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Enable "expert" export interface.</span>
(<span class="org-keyword">setq</span> org-export-dispatch-use-expert-ui t)
</pre>
</div>
</div>

<div id="outline-container-orgf02bfa6" class="outline-4">
<h4 id="orgf02bfa6">Options</h4>
<div class="outline-text-4" id="text-orgf02bfa6">
<p>
A message in <code>*Messages*</code> like:
</p>

<pre class="example">
user-error: Unable to resolve link: nil
</pre>

<p>
indicates that a link somewhere is malformed.  Adding the option:
</p>

<div class="org-src-container">
<pre class="src src-org"><span class="org-org-meta-line">#+OPTIONS: broken-links:mark</span>
</pre>
</div>

<p>
and exporting will insert <code>BROKEN</code> into the HTML document.
Searching for that token makes finding the offending broken link
much easier.  Keeping this option set all the time would let
broken links slip through the export process undetected.
</p>
</div>
</div>

<div id="outline-container-org009f06f" class="outline-4">
<h4 id="org009f06f">Backends</h4>
<div class="outline-text-4" id="text-org009f06f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-md</span>)

(add-to-list 'org-export-backends 'md)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2ea1f8c" class="outline-3">
<h3 id="org2ea1f8c">Publish</h3>
<div class="outline-text-3" id="text-org2ea1f8c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-publish-project-alist
      `((<span class="org-string">"k20e.com-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"source"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:exclude</span> <span class="org-string">"ga.org</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">level-0.org</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">todo.org</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">.DS_Store"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"k20e.com-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"source"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:base-extension</span> <span class="org-string">"jpg</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">png</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">ico"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"k20e.com"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"k20e.com-org-files"</span> <span class="org-string">"k20e.com-static-files"</span>))
        (<span class="org-string">"work-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"work"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"work"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"work-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"work"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"pdf</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">csv</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">sql</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">png"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"work"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"work"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"work-org-files"</span> <span class="org-string">"work-static-files"</span>))
        (<span class="org-string">"house-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"house"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"house"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"house-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"house"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"pdf</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">csv</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">png</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">xls</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">doc"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"house"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"house"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"house-org-files"</span> <span class="org-string">"house-static-files"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org016dd04" class="outline-3">
<h3 id="org016dd04">Babel</h3>
<div class="outline-text-3" id="text-org016dd04">
<p>
Define <a href="http://orgmode.org/worg/org-contrib/babel/languages.html">which languages</a> <code>org-babel</code> should support.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/org-babel-load-languages</span>
  '((ditaa . t)
    (emacs-lisp . t)
    (org . t)
    (python . t)
    (shell . t))
  <span class="org-doc">"Languages to evaluate in `</span><span class="org-constant"><span class="org-doc">org-mode</span></span><span class="org-doc">'."</span>)

(org-babel-do-load-languages 'org-babel-load-languages
                             k20e/org-babel-load-languages)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcafbcbf" class="outline-3">
<h3 id="orgcafbcbf"><span class="todo TODO">TODO</span> Items</h3>
<div class="outline-text-3" id="text-orgcafbcbf">
<p>
Automatically insert a timestamp when a task is marked <code>DONE</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-log-done t)
</pre>
</div>

<p>
Custom keywords and faces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-todo-keywords '((sequence
                           <span class="org-string">"TODO(t)"</span>
                           <span class="org-string">"STARTED(s/!)"</span>
                           <span class="org-string">"|"</span>
                           <span class="org-string">"DONE(d!)"</span>
                           <span class="org-string">"CANCELED(c@)"</span>))
      org-todo-keyword-faces '((<span class="org-string">"TODO"</span> . org-todo)
                               (<span class="org-string">"STARTED"</span> . org-code)
                               (<span class="org-string">"CANCELED"</span> . org-ellipsis)
                               (<span class="org-string">"DONE"</span> . org-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2dbbef8" class="outline-3">
<h3 id="org2dbbef8">Agenda</h3>
<div class="outline-text-3" id="text-org2dbbef8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">face-remap</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">org</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">org-agenda</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">winner</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/org-agenda-mode-hook</span> ()
  (define-key org-agenda-mode-map (kbd <span class="org-string">"q"</span>) 'winner-undo)
  (delete-other-windows)
  (text-scale-set 2))

(add-hook 'org-agenda-mode-hook 'k20e/org-agenda-mode-hook)
</pre>
</div>
</div>

<div id="outline-container-org8a0a8ba" class="outline-4">
<h4 id="org8a0a8ba">Files</h4>
<div class="outline-text-4" id="text-org8a0a8ba">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-files
      (list (expand-file-name <span class="org-string">"personal.org"</span> org-directory)
            (expand-file-name <span class="org-string">"work"</span> org-directory)
            (expand-file-name <span class="org-string">"chores.org"</span> org-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7a2c719" class="outline-4">
<h4 id="org7a2c719">Deadlines</h4>
<div class="outline-text-4" id="text-org7a2c719">
<p>
Non-nil means skip scheduling line if same entry shows because of deadline.
</p>

<p>
In the agenda of today, an entry can show up multiple times because it is
both scheduled and has a nearby deadline, and maybe a plain time stamp as
well.
</p>

<p>
When set to t, then only the deadline is shown and the fact that the entry
is scheduled today or was scheduled previously is not shown.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-skip-scheduled-if-deadline-is-shown nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2edc871" class="outline-4">
<h4 id="org2edc871">List</h4>
<div class="outline-text-4" id="text-org2edc871">
<p>
Default to showing only today in the agenda list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-span 'day)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4fceda7" class="outline-3">
<h3 id="org4fceda7">Drill</h3>
<div class="outline-text-3" id="text-org4fceda7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">org-drill</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org404f173" class="outline-3">
<h3 id="org404f173">Habit</h3>
<div class="outline-text-3" id="text-org404f173">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">org-habit</span>)

(<span class="org-keyword">setq</span> org-habit-completed-glyph ?&#10003;
      org-habit-today-glyph ?|)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab334d3" class="outline-3">
<h3 id="orgab334d3">Logging &amp; Drawers</h3>
<div class="outline-text-3" id="text-orgab334d3">
<p>
Insert state change notes and time stamps into a drawer rather than simply
"loose" after a headline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-log-into-drawer t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3112d00" class="outline-3">
<h3 id="org3112d00">Clock</h3>
<div class="outline-text-3" id="text-org3112d00">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">org-clock-idle-time</span> 5)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3f93fcc" class="outline-2">
<h2 id="org3f93fcc">paredit-mode</h2>
<div class="outline-text-2" id="text-org3f93fcc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(autoload 'paredit-mode <span class="org-string">"paredit"</span> nil t)

<span class="org-comment-delimiter">;; </span><span class="org-comment">When to turn on paredit.</span>
(<span class="org-keyword">dolist</span> (hook '(cider-repl-mode-hook
                emacs-lisp-mode-hook
                geiser-mode-hook
                geiser-repl-mode-hook
                lisp-mode-hook
                scheme-mode-hook))
  (add-hook hook #'(lambda nil (paredit-mode 1))))

(eval-after-load <span class="org-string">"paredit"</span>
  '(<span class="org-keyword">progn</span>
     (define-key paredit-mode-map [?\)] 'paredit-close-parenthesis)
     (define-key paredit-mode-map [(meta ?\))]
       'paredit-close-parenthesis-and-newline)
     (define-key paredit-mode-map (kbd <span class="org-string">"C-h"</span>) 'paredit-backward-delete)
     (define-key paredit-mode-map (kbd <span class="org-string">"C-j"</span>) 'join-line)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda141cd" class="outline-2">
<h2 id="orgda141cd">python</h2>
<div class="outline-text-2" id="text-orgda141cd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">electric</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">flycheck</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">multiple-cursors</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">python</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">yasnippet</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/python-mode-hook</span> ()
  (superword-mode)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Do not drive me crazy with extra-dumb indentation!</span>
  (<span class="org-keyword">setq</span> electric-indent-inhibit t)
  (linum-mode 0)
  (flycheck-mode 1)
  (<span class="org-keyword">setq</span> fill-column 118)
  (yas-minor-mode 1)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Previously:</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-M-f, C-M-b (paredit-forward/back)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-M-n, C-M-p (forward-list/backward-list)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">C-M-a, C-M-e (beginning-of-defun/end-of-defun)</span>
  (define-key python-mode-map (kbd <span class="org-string">"M-a"</span>) 'python-nav-beginning-of-statement)
  (define-key python-mode-map (kbd <span class="org-string">"M-e"</span>) 'python-nav-end-of-statement)
  (define-key python-mode-map (kbd <span class="org-string">"M-n"</span>) 'python-nav-forward-statement)
  (define-key python-mode-map (kbd <span class="org-string">"M-p"</span>) 'python-nav-backward-statement)
  (define-key python-mode-map (kbd <span class="org-string">"C-M-f"</span>) 'python-nav-forward-sexp)
  (define-key python-mode-map (kbd <span class="org-string">"C-M-b"</span>) 'python-nav-backward-sexp)
  (define-key python-mode-map (kbd <span class="org-string">"C-M-n"</span>) 'python-nav-forward-block)
  (define-key python-mode-map (kbd <span class="org-string">"C-M-p"</span>) 'python-nav-backward-block))

(add-hook 'python-mode-hook 'k20e/python-mode-hook)
</pre>
</div>
</div>

<div id="outline-container-org297035f" class="outline-3">
<h3 id="org297035f">IPython</h3>
<div class="outline-text-3" id="text-org297035f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> python-shell-interpreter <span class="org-string">"ipython"</span>
      python-shell-interpreter-args <span class="org-string">"-i --no-banner"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org959a490" class="outline-2">
<h2 id="org959a490">recentf</h2>
<div class="outline-text-2" id="text-org959a490">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ivy</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">recentf</span>)

(<span class="org-keyword">setq</span> recentf-save-file (expand-file-name <span class="org-string">".recentf"</span> k20e/google-drive-directory)
      recentf-max-saved-items 250)

(recentf-mode 1)

(global-set-key (kbd <span class="org-string">"C-x C-r"</span>) 'ivy-recentf)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4cd6145" class="outline-2">
<h2 id="org4cd6145">reStructuredText</h2>
<div class="outline-text-2" id="text-org4cd6145">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">rst</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/rst-mode-hook</span> ()
  (<span class="org-keyword">setq</span> fill-column 78)
  (set-default 'rst-preferred-adornments '((?= simple 0)
                                           (?- simple 0)
                                           (?~ simple 0)
                                           (?* simple 0)
                                           (?+ simple 0)
                                           (?# simple 0)
                                           (?@ simple 0))))

(add-hook 'rst-mode-hook 'k20e/rst-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org784e3a2" class="outline-2">
<h2 id="org784e3a2">rust</h2>
<div class="outline-text-2" id="text-org784e3a2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">rust-mode</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/rust-mode-hook</span> ()
  (<span class="org-keyword">setq</span> rust-format-on-save t))

(add-hook 'rust-mode-hook 'k20e/rust-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org39e5f2e" class="outline-2">
<h2 id="org39e5f2e">savehist</h2>
<div class="outline-text-2" id="text-org39e5f2e">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Save minibuffer history.</span>
(<span class="org-keyword">require</span> '<span class="org-constant">savehist</span>)

(<span class="org-keyword">setq</span> savehist-file (expand-file-name <span class="org-string">".savehist"</span> k20e/google-drive-directory))
(savehist-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d5bd57" class="outline-2">
<h2 id="org2d5bd57"><code>*scratch*</code></h2>
<div class="outline-text-2" id="text-org2d5bd57">
<p>
Begin with an empty <code>*scratch*</code> file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> initial-scratch-message nil)
</pre>
</div>

<p>
Set it to Emacs Lisp mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">with-current-buffer</span> (get-buffer-create <span class="org-string">"*scratch*"</span>)
  (emacs-lisp-mode))
</pre>
</div>
</div>

<div id="outline-container-org9e94513" class="outline-3">
<h3 id="org9e94513">Quickly create new scratch buffers</h3>
<div class="outline-text-3" id="text-org9e94513">
<p>
With a preset list of major modes that I find often need scratch
pads for.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defconst</span> <span class="org-variable-name">k20e/scratch-buffer-modes</span>
  '(fundamental-mode
    emacs-lisp-mode
    python-mode
    javascript-mode
    org-mode
    sql-mode
    text-mode)
  <span class="org-doc">"Common major modes to create scratch buffers for."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/scratch-buffer</span> ()
  <span class="org-doc">"Generate a new scratch buffer.</span>
<span class="org-doc">Choose from `</span><span class="org-constant"><span class="org-doc">k20e/scratch-buffer-modes</span></span><span class="org-doc">' list of major modes to</span>
<span class="org-doc">enable in the newly created scratch buffer and switch to it."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((mode (read (ivy-completing-read <span class="org-string">"New *scratch* buffer with mode: "</span>
                                         (mapcar (<span class="org-keyword">lambda</span> (el) (format <span class="org-string">"%s"</span> el))
                                                 k20e/scratch-buffer-modes)))))
    (switch-to-buffer (generate-new-buffer (format <span class="org-string">"*scratch-%s*"</span> mode)))
    (funcall mode)))
</pre>
</div>

<p>
Bind it globally.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"&lt;f10&gt;"</span>) 'k20e/scratch-buffer)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org91278b2" class="outline-2">
<h2 id="org91278b2">server</h2>
<div class="outline-text-2" id="text-org91278b2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Start the Emacs server.</span>
(<span class="org-keyword">require</span> '<span class="org-constant">server</span>)

(<span class="org-keyword">unless</span> (server-running-p)
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga701c51" class="outline-2">
<h2 id="orga701c51">smex</h2>
<div class="outline-text-2" id="text-orga701c51">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">smex</span>)
(smex-initialize)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Share smex history across my machines.</span>
(<span class="org-keyword">setq</span> smex-save-file (expand-file-name <span class="org-string">".smex-items"</span> k20e/google-drive-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org05e2e70" class="outline-2">
<h2 id="org05e2e70">sql-mode</h2>
<div class="outline-text-2" id="text-org05e2e70">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">sql</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/sql-mode-hook</span> ()
  (<span class="org-keyword">setq</span> sql-product 'mysql
        tab-width 4)
  (sql-highlight-mysql-keywords))

(add-hook 'sql-mode-hook 'k20e/sql-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge16d193" class="outline-2">
<h2 id="orge16d193">server</h2>
<div class="outline-text-2" id="text-orge16d193">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Start the Emacs server.</span>
(<span class="org-keyword">require</span> '<span class="org-constant">server</span>)

(<span class="org-keyword">unless</span> (server-running-p)
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-org187fe7c" class="outline-2">
<h2 id="org187fe7c">Swiper</h2>
<div class="outline-text-2" id="text-org187fe7c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">swiper</span>)

(global-set-key (kbd <span class="org-string">"C-s"</span>) 'swiper)
</pre>
</div>
</div>
</div>

<div id="outline-container-org49a9772" class="outline-2">
<h2 id="term"><a id="org49a9772"></a>term</h2>
<div class="outline-text-2" id="text-term">
<p>
Together with <a href="#multi-term">multi-term</a> this sets up my terminal environment within Emacs.
</p>
</div>

<div id="outline-container-orga3f8f3b" class="outline-3">
<h3 id="orga3f8f3b">Key Bindings</h3>
<div class="outline-text-3" id="text-orga3f8f3b">
<p>
<code>term-raw-map</code> is used in <i>char</i> mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">smex</span>)

(define-key term-raw-map (kbd <span class="org-string">"M-x"</span>) 'smex)
(define-key term-raw-map (kbd <span class="org-string">"M-h"</span>) 'backward-kill-word)
</pre>
</div>

<p>
<code>term-mode-map</code> is used in <i>line</i> mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key term-mode-map (kbd <span class="org-string">"M-x"</span>) 'smex)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org51b4a83" class="outline-2">
<h2 id="org51b4a83">terminal-notifier</h2>
<div class="outline-text-2" id="text-org51b4a83">
<p>
This is a tiny package that I wrote to help with displaying
notifications in OS X.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">terminal-notifier</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb06ff4e" class="outline-2">
<h2 id="orgb06ff4e">text-mode</h2>
<div class="outline-text-2" id="text-orgb06ff4e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/text-mode-hook</span> ()
  (auto-fill-mode 1))

(add-hook 'text-mode-hook 'k20e/text-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgedddceb" class="outline-2">
<h2 id="orgedddceb">tramp</h2>
<div class="outline-text-2" id="text-orgedddceb">
</div><div id="outline-container-org2d86ba2" class="outline-3">
<h3 id="org2d86ba2"><code>ControlPath</code></h3>
<div class="outline-text-3" id="text-org2d86ba2">
<p>
Fix <code>ControlPath too long</code> errors due to OS X pitching a <a href="https://lists.macosforge.org/pipermail/macports-tickets/2011-June/084295.html">long temporary directory</a> to <code>ssh</code>.
</p>

<p>
Unfortunately, setting this is blowing up the <code>server-start</code> which
can no longer find the socket stored in the original <code>TMPDIR</code>
value.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(setenv "TMPDIR" "/tmp")</span>
</pre>
</div>

<p>
Eureka!  It appears that the <code>ControlMaster</code> option for <code>ssh</code>
should be set to <code>yes</code> instead of <code>auto</code> to avoid the <code>ControlPath
   too long</code> error.  Here is the interesting section of <code>man 5
   ssh_config</code>:
</p>

<pre class="example">
ControlMaster
             Enables the sharing of multiple sessions over a single network connection.  When set to
             ``yes'', ssh(1) will listen for connections on a control socket specified using the
             ControlPath argument.  Additional sessions can connect to this socket using the same
             ControlPath with ControlMaster set to ``no'' (the default).  These sessions will try to reuse
             the master instance's network connection rather than initiating new ones, but will fall back
             to connecting normally if the control socket does not exist, or is not listening.

             Setting this to ``ask'' will cause ssh to listen for control connections, but require confir-
             mation using the SSH_ASKPASS program before they are accepted (see ssh-add(1) for details).
             If the ControlPath cannot be opened, ssh will continue without connecting to a master
             instance.

             X11 and ssh-agent(1) forwarding is supported over these multiplexed connections, however the
             display and agent forwarded will be the one belonging to the master connection i.e. it is not
             possible to forward multiple displays or agents.

             Two additional options allow for opportunistic multiplexing: try to use a master connection
             but fall back to creating a new one if one does not already exist.  These options are:
             ``auto'' and ``autoask''.  The latter requires confirmation like the ``ask'' option.
</pre>

<p>
The <code>tramp-ssh-controlmaster-options</code> variable is responsible for
the <code>ControlMaster</code> value as well as a few other options which have
not been changed from their default values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> tramp-ssh-controlmaster-options
      <span class="org-string">"-o ControlPath=%t.%%r@%%h:%%p -o ControlMaster=yes -o ControlPersist=no"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga7b0f31" class="outline-3">
<h3 id="orga7b0f31">Inline Copying</h3>
<div class="outline-text-3" id="text-orga7b0f31">
<p>
Do not inline copy files.  This is to avoid <code>File exists, but
   cannot be read</code> errors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> tramp-copy-size-limit -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org908177f" class="outline-3">
<h3 id="org908177f">File Backup</h3>
<div class="outline-text-3" id="text-org908177f">
<p>
Do not backup files edited by <code>tramp</code> to <a href="http://www.gnu.org/software/emacs/manual/html_node/tramp/Auto_002dsave-and-Backup.html">avoid possibly sharing
copies of privileged files with non-privileged users</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'backup-directory-alist (list tramp-file-name-regexp))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2945d7b" class="outline-3">
<h3 id="org2945d7b">Debugging</h3>
<div class="outline-text-3" id="text-org2945d7b">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq tramp-verbose 6)</span>
</pre>
</div>

<p>
Will create a detailed log buffer.
</p>
</div>
</div>
</div>

<div id="outline-container-org17f92a3" class="outline-2">
<h2 id="org17f92a3">uniquify</h2>
<div class="outline-text-2" id="text-org17f92a3">
<p>
Name multiple identical buffer names in a sensible manner.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">uniquify</span>)

(<span class="org-keyword">setq</span> uniquify-buffer-name-style 'forward)
</pre>
</div>
</div>
</div>

<div id="outline-container-org34bc7ac" class="outline-2">
<h2 id="org34bc7ac">windmove</h2>
<div class="outline-text-2" id="text-org34bc7ac">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">windmove</span>)

(windmove-default-keybindings 'hyper)
(<span class="org-keyword">setq</span> windmove-wrap-around t)

(global-set-key (kbd <span class="org-string">"H-SPC"</span>) 'windmove-right)
(global-set-key (kbd <span class="org-string">"H-S-SPC"</span>) 'windmove-left)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc29fa27" class="outline-2">
<h2 id="orgc29fa27">web-mode</h2>
<div class="outline-text-2" id="text-orgc29fa27">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">web-mode</span>)

(add-to-list 'auto-mode-alist '(<span class="org-string">"\\.html?\\'"</span> . web-mode))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/web-mode-hook</span> ()
  (set-default 'web-mode-engines-alist '((<span class="org-string">"django"</span> . <span class="org-string">"\\.html?\\'"</span>)))
  (<span class="org-keyword">setq</span> web-mode-markup-indent-offset 2
        web-mode-enable-auto-quoting nil))

(add-hook 'web-mode-hook 'k20e/web-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeec98e5" class="outline-2">
<h2 id="orgeec98e5">winner-mode</h2>
<div class="outline-text-2" id="text-orgeec98e5">
<p>
Remember window configurations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">winner</span>)

(winner-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6387df" class="outline-2">
<h2 id="orgf6387df">whitespace</h2>
<div class="outline-text-2" id="text-orgf6387df">
<p>
Take care of some whitespace issues.
</p>

<ul class="org-ul">
<li>Kill trailing whitespace on save</li>
<li>Insert a new line at the end of file on save</li>
<li>Prefer <code>space</code> over <code>tab</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'before-save-hook 'delete-trailing-whitespace)

(set-default 'indent-tabs-mode nil)

(<span class="org-keyword">setq</span> require-final-newline t
      mode-require-final-newline t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4748bd" class="outline-2">
<h2 id="orgc4748bd">writeroom-mode</h2>
<div class="outline-text-2" id="text-orgc4748bd">
<p>
Hack in a scale adjustment and alter width to fit.  There's likely a
much better way to accomplish this.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">face-remap</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">writeroom-mode</span>)

(<span class="org-keyword">setq</span> writeroom-width 126)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/writeroom-text-scale-amount</span> 0
  <span class="org-doc">"Text scale amount for `</span><span class="org-constant"><span class="org-doc">writeroom-mode</span></span><span class="org-doc">'."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/writeroom-text-scale</span> (arg)
  (<span class="org-keyword">require</span> '<span class="org-constant">face-remap</span>)
  (<span class="org-keyword">if</span> arg (<span class="org-keyword">progn</span>
            (set (make-local-variable 'k20e/writeroom-text-scale-amount)
                 text-scale-mode-amount)
            (text-scale-set 3))
    (text-scale-set
     (<span class="org-keyword">if</span> (boundp 'k20e/writeroom-text-scale-amount)
         k20e/writeroom-text-scale-amount 0))))

(add-to-list 'writeroom-global-effects 'k20e/writeroom-text-scale)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2544c59" class="outline-2">
<h2 id="org2544c59">yaml-mode</h2>
<div class="outline-text-2" id="text-org2544c59">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ansible-doc</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">yaml-mode</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">flycheck</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">flycheck-yamllint</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">flyspell</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/yaml-mode-hook</span> ()
  (<span class="org-keyword">setq</span> fill-column 118)
  (ansible-doc-mode)
  (define-key yaml-mode-map (kbd <span class="org-string">"C-m"</span>) 'newline-and-indent)
  (flycheck-mode 1)
  (flycheck-yamllint-setup)
  (flyspell-mode-off))

(add-hook 'yaml-mode-hook 'k20e/yaml-mode-hook)

(add-to-list 'auto-mode-alist '(<span class="org-string">"\\.yml$"</span> . yaml-mode))
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Kris Molendyke</p>
<p class="date">2017-08-12 Sat 22:36</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.0.50 (<a href="http://orgmode.org">Org</a> mode 9.0.5)</p>
</div>
</body>
</html>
