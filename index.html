<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-11-05 Sun 07:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Literate =.emacs.d=</title>
<meta name="author" content="Kris Molendyke" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
<!--/*--><![CDATA[/*><!--*/
/* Tufte CSS tweaks */
section p, section footer, section table {
    width: 55%;
}

/* Sidenote work-around */
sup.numeral {
    display: none;
}

/* inline */
code {
    padding: 1px 2px;
}

pre.src {
    margin-left: 2.5%;
}

code, pre {
    border-radius: 3px;
    font-family: 'Roboto Mono', monospace;
    overflow: scroll;
}

/* Gross !important here because Tufte CSS likes to override font-size for source blocks nested in a bunch of elements, e.g., dl, ol, ul */
.org-src-container {
    font-size: 15px !important;
}

/*

All style below has been generated by calling
org-html-htmlize-generate-css and selecting style for elements other
than body or by calling htmlize-buffer and desired style.

*/
.org-builtin {
  color: #70c0b1;
}
.org-comment {
  color: #969896;
  font-style: italic;
}
.org-keyword {
  color: #c397d8;
}
.org-type {
  color: #e7c547;
}
.org-comment {
  /* font-lock-comment-face */
  color: #969896;
  font-style: italic;
}
.org-comment-delimiter {
  /* font-lock-comment-delimiter-face */
  color: #969896;
  font-style: italic;
}
.org-keyword {
  /* font-lock-keyword-face */
  color: #b294bb;
}
.org-constant {
  /* font-lock-constant-face */
  color: #8abeb7;
}
.org-doc {
  /* font-lock-doc-face */
  color: #969896;
}
.org-function-name {
  /* font-lock-function-name-face */
  color: #81a2be;
}
.org-string {
  /* font-lock-string-face */
  color: #b5bd68;
}
.org-variable-name {
  /* font-lock-variable-name-face */
  color: #de935f;
}
.org-border-glyph {
}
.org-c-annotation {
  /* c-annotation-face */
  color: #8abeb7;
}
.org-c-nonbreakable-space {
  /* c-nonbreakable-space-face */
  background-color: #cc6666;
  font-weight: bold;
}
.org-clojure-braces {
  /* clojure-braces */
  color: #b5bd68;
}
.org-clojure-brackets {
  /* clojure-brackets */
  color: #f0c674;
}
.org-clojure-double-quote {
  /* clojure-double-quote */
  color: #8abeb7;
}
.org-clojure-java-call {
  /* clojure-java-call */
  color: #b294bb;
}
.org-clojure-keyword {
  /* clojure-keyword */
  color: #f0c674;
}
.org-clojure-parens {
  /* clojure-parens */
  color: #c5c8c6;
}
.org-clojure-special {
  /* clojure-special */
  color: #81a2be;
}
.org-clojure-test-error {
  /* clojure-test-error-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-failure {
  /* clojure-test-failure-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-success {
  /* clojure-test-success-face */
  text-decoration: underline;
}
.org-compilation-error {
  /* compilation-error */
  color: #cc6666;
}
.org-compilation-info {
  /* compilation-info */
  color: #b5bd68;
}
.org-compilation-warning {
  /* compilation-warning */
  color: #de935f;
}
.org-css-property {
  /* css-property */
  color: #de935f;
}
.org-css-selector {
  /* css-selector */
  color: #81a2be;
}
.org-csv-separator {
  /* csv-separator-face */
  color: #de935f;
}
.org-diff-added {
  /* diff-added */
  color: #b5bd68;
}
.org-diff-changed {
  /* diff-changed */
  color: #f0c674;
}
.org-diff-file-header {
  /* diff-file-header */
  background-color: #373b41;
}
.org-diff-header {
  /* diff-header */
  background-color: #282a2e;
}
.org-diff-hunk-header {
  /* diff-hunk-header */
  color: #b294bb;
  background-color: #282a2e;
}
.org-diff-removed {
  /* diff-removed */
  color: #cc6666;
}
.org-dired-directory {
  /* dired-directory */
  color: #81a2be;
}
.org-dired-flagged {
  /* dired-flagged */
  color: #cc6666;
}
.org-dired-header {
  /* dired-header */
  color: #f0c674;
}
.org-dired-ignored {
  /* dired-ignored */
  color: #969896;
}
.org-dired-mark {
  /* dired-mark */
  color: #8abeb7;
}
.org-dired-marked {
  /* dired-marked */
  color: #de935f;
}
.org-dired-perm-write {
  /* dired-perm-write */
  color: #969896;
  font-style: italic;
}
.org-dired-symlink {
  /* dired-symlink */
  color: #b294bb;
}
.org-dired-warning {
  /* dired-warning */
  color: #cc6666;
  font-weight: bold;
}
.org-diredp-compressed-file-suffix {
  /* diredp-compressed-file-suffix */
  color: #81a2be;
}
.org-diredp-dir-heading {
  /* diredp-dir-heading */
  color: #f0c674;
}
.org-diredp-dir-priv {
  /* diredp-dir-priv */
  color: #8abeb7;
}
.org-diredp-exec-priv {
  /* diredp-exec-priv */
  color: #81a2be;
}
.org-diredp-executable-tag {
  /* diredp-executable-tag */
  color: #cc6666;
}
.org-diredp-file-name {
  /* diredp-file-name */
  color: #f0c674;
}
.org-diredp-file-suffix {
  /* diredp-file-suffix */
  color: #b5bd68;
}
.org-diredp-flag-mark-line {
  /* diredp-flag-mark-line */
  background-color: #b5bd68;
}
.org-diredp-ignored-file-name {
  /* diredp-ignored-file-name */
  color: #969896;
}
.org-diredp-link-priv {
  /* diredp-link-priv */
  color: #b294bb;
}
.org-diredp-mode-line-flagged {
  /* diredp-mode-line-flagged */
  color: #cc6666;
}
.org-diredp-mode-line-marked {
  /* diredp-mode-line-marked */
  color: #b5bd68;
}
.org-diredp-no-priv {
}
.org-diredp-number {
  /* diredp-number */
  color: #f0c674;
}
.org-diredp-other-priv {
  /* diredp-other-priv */
  color: #b294bb;
}
.org-diredp-rare-priv {
  /* diredp-rare-priv */
  color: #cc6666;
}
.org-diredp-read-priv {
  /* diredp-read-priv */
  color: #b5bd68;
}
.org-diredp-symlink {
  /* diredp-symlink */
  color: #b294bb;
}
.org-diredp-write-priv {
  /* diredp-write-priv */
  color: #f0c674;
}
.org-doc-string {
  /* font-lock-doc-string-face */
  color: #f0c674;
}
.org-ediff-even-diff-a {
}
.org-ediff-even-diff-b {
}
.org-ediff-odd-diff-a {
  /* ediff-odd-diff-A */
  color: #969896;
}
.org-ediff-odd-diff-b {
  /* ediff-odd-diff-B */
  color: #969896;
}
.org-eldoc-highlight-function-argument {
  /* eldoc-highlight-function-argument */
  color: #b5bd68;
  font-weight: bold;
}
.org-flycheck-error {
  /* flycheck-error-face */
  color: #cc6666;
}
.org-flycheck-warning {
  /* flycheck-warning-face */
  color: #de935f;
}
.org-flymake-errline {
  /* flymake-errline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flymake-warnline {
  /* flymake-warnline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flyspell-duplicate {
  /* flyspell-duplicate */
  text-decoration: underline;
}
.org-flyspell-incorrect {
  /* flyspell-incorrect */
  text-decoration: underline;
}
.org-font-latex-bold {
  /* font-latex-bold-face */
  color: #b5bd68;
}
.org-font-latex-doctex-documentation {
  /* font-latex-doctex-documentation-face */
  background-color: #282a2e;
}
.org-font-latex-italic {
  /* font-latex-italic-face */
  color: #b5bd68;
}
.org-font-latex-math {
  /* font-latex-math-face */
  color: #de935f;
}
.org-font-latex-sectioning-0 {
  /* font-latex-sectioning-0-face */
  color: #f0c674;
}
.org-font-latex-sectioning-1 {
  /* font-latex-sectioning-1-face */
  color: #f0c674;
}
.org-font-latex-sectioning-2 {
  /* font-latex-sectioning-2-face */
  color: #f0c674;
}
.org-font-latex-sectioning-3 {
  /* font-latex-sectioning-3-face */
  color: #f0c674;
}
.org-font-latex-sectioning-4 {
  /* font-latex-sectioning-4-face */
  color: #f0c674;
}
.org-font-latex-sectioning-5 {
  /* font-latex-sectioning-5-face */
  color: #f0c674;
}
.org-font-latex-sedate {
  /* font-latex-sedate-face */
  color: #8abeb7;
}
.org-font-latex-string {
  /* font-latex-string-face */
  color: #f0c674;
}
.org-font-latex-verbatim {
  /* font-latex-verbatim-face */
  color: #de935f;
}
.org-font-latex-warning {
  /* font-latex-warning-face */
  color: #cc6666;
}
.org-git-commit-branch {
  /* git-commit-branch-face */
  color: #de935f;
}
.org-git-commit-comment-action {
  /* git-commit-comment-action-face */
  color: #de935f;
}
.org-git-commit-comment-file {
  /* git-commit-comment-file-face */
  color: #b5bd68;
}
.org-git-commit-comment-heading {
  /* git-commit-comment-heading-face */
  color: #b294bb;
}
.org-git-commit-known-pseudo-header {
  /* git-commit-known-pseudo-header-face */
  color: #b294bb;
}
.org-git-commit-no-branch {
  /* git-commit-no-branch-face */
  color: #de935f;
}
.org-git-commit-nonempty-second-line {
  /* git-commit-nonempty-second-line-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-note {
  /* git-commit-note-face */
  color: #b5bd68;
}
.org-git-commit-overlong-summary {
  /* git-commit-overlong-summary-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-pseudo-header {
  /* git-commit-pseudo-header-face */
  color: #b5bd68;
}
.org-git-commit-summary {
  /* git-commit-summary-face */
  color: #f0c674;
}
.org-gui-element {
  /* gui-element */
  color: #c5c8c6;
  background-color: #282a2e;
}
.org-hl-line {
  /* hl-line */
  background-color: #282a2e;
}
.org-ido-first-match {
  /* ido-first-match */
  color: #de935f;
  font-weight: bold;
}
.org-ido-incomplete-regexp {
  /* ido-incomplete-regexp */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-indicator {
  /* ido-indicator */
  color: #cc6666;
  background-color: #1d1f21;
}
.org-ido-only-match {
  /* ido-only-match */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-subdir {
  /* ido-subdir */
  color: #969896;
}
.org-ido-virtual {
  /* ido-virtual */
  color: #969896;
}
.org-info-header-node {
  /* info-header-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-header-xref {
  /* info-header-xref */
  text-decoration: underline;
}
.org-info-index-match {
  /* info-index-match */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-info-menu-header {
  /* info-menu-header */
  font-weight: bold;
}
.org-info-menu-star {
  /* info-menu-star */
  color: #ff0000;
}
.org-info-node {
  /* info-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-title-1 {
  /* info-title-1 */
  font-size: 172%;
  font-weight: bold;
}
.org-info-title-2 {
  /* info-title-2 */
  font-size: 144%;
  font-weight: bold;
}
.org-info-title-3 {
  /* info-title-3 */
  font-size: 120%;
  font-weight: bold;
}
.org-info-title-4 {
  /* info-title-4 */
  font-weight: bold;
}
.org-info-xref {
  /* info-xref */
  text-decoration: underline;
}
.org-linum {
  /* linum */
  background-color: #282a2e;
}
.org-magit-branch {
  /* magit-branch */
  color: #b5bd68;
}
.org-makefile-makepp-perl {
  /* makefile-makepp-perl */
  background-color: #00008b;
}
.org-makefile-shell {
}
.org-makefile-space {
  /* makefile-space */
  background-color: #ff69b4;
}
.org-makefile-targets {
  /* makefile-targets */
  color: #81a2be;
}
.org-mcXcursor {
}
.org-mcXregion {
  /* mc/region-face */
  background-color: #5c5c5c;
}
.org-mmm-code-submode {
  /* mmm-code-submode-face */
  background-color: #282a2e;
}
.org-mmm-comment-submode {
  /* mmm-comment-submode-face */
  color: #969896;
  font-style: italic;
}
.org-mmm-output-submode {
  /* mmm-output-submode-face */
  background-color: #282a2e;
}
.org-nrepl-error {
  /* nrepl-error-face */
  color: #b5bd68;
}
.org-nrepl-error-highlight {
  /* nrepl-error-highlight-face */
  color: #cc6666;
  font-weight: bold;
  text-decoration: underline;
}
.org-nrepl-input {
  /* nrepl-input-face */
  font-weight: bold;
}
.org-nrepl-output {
  /* nrepl-output-face */
  color: #b5bd68;
}
.org-nrepl-prompt {
  /* nrepl-prompt-face */
  color: #b294bb;
}
.org-nrepl-result {
}
.org-org-agenda-calendar-event {
  /* org-agenda-calendar-event */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-calendar-sexp {
  /* org-agenda-calendar-sexp */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-clocking {
  /* org-agenda-clocking */
  background-color: #282a2e;
}
.org-org-agenda-column-dateline {
  /* org-agenda-column-dateline */
  background-color: #282a2e;
}
.org-org-agenda-current-time {
  /* org-agenda-current-time */
  color: #eedd82;
}
.org-org-agenda-date-today {
  /* org-agenda-date-today */
  color: #81a2be;
  font-weight: bold;
  font-style: italic;
}
.org-org-agenda-date-weekend {
  /* org-agenda-date-weekend */
  color: #81a2be;
  font-weight: bold;
}
.org-org-agenda-diary {
  /* org-agenda-diary */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-filter-category {
  /* org-agenda-filter-category */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-regexp {
  /* org-agenda-filter-regexp */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-tags {
  /* org-agenda-filter-tags */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-restriction-lock {
  /* org-agenda-restriction-lock */
  background-color: #1C1C1C;
}
.org-org-archived {
  /* org-archived */
  color: #969896;
}
.org-org-block-background {
}
.org-org-block-begin-line {
  /* org-block-begin-line */
  color: #969896;
  font-style: italic;
}
.org-org-block-end-line {
  /* org-block-end-line */
  color: #969896;
  font-style: italic;
}
.org-org-checkbox {
  /* org-checkbox */
  font-weight: bold;
}
.org-org-checkbox-statistics-done {
  /* org-checkbox-statistics-done */
  color: #b5bd68;
}
.org-org-checkbox-statistics-todo {
  /* org-checkbox-statistics-todo */
  color: #cc6666;
}
.org-org-clock-overlay {
  /* org-clock-overlay */
  background-color: #4a708b;
}
.org-org-date-selected {
  /* org-date-selected */
  color: #ffc0cb;
}
.org-org-default {
  /* org-default */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-drawer {
  /* org-drawer */
  color: #87cefa;
}
.org-org-headline-done {
  /* org-headline-done */
  color: #ffa07a;
}
.org-org-latex-and-related {
  /* org-latex-and-related */
  color: #deb887;
}
.org-org-level-1 {
  /* org-level-1 */
  color: #81a2be;
}
.org-org-level-2 {
  /* org-level-2 */
  color: #de935f;
}
.org-org-level-3 {
  /* org-level-3 */
  color: #b294bb;
}
.org-org-level-4 {
  /* org-level-4 */
  color: #969896;
}
.org-org-level-5 {
  /* org-level-5 */
  color: #f0c674;
}
.org-org-level-6 {
  /* org-level-6 */
  color: #8abeb7;
}
.org-org-level-7 {
  /* org-level-7 */
  color: #8abeb7;
}
.org-org-level-8 {
  /* org-level-8 */
  color: #b5bd68;
}
.org-org-list-dt {
  /* org-list-dt */
  font-weight: bold;
}
.org-org-macro {
  /* org-macro */
  color: #deb887;
}
.org-org-meta-line {
  /* org-meta-line */
  color: #969896;
  font-style: italic;
}
.org-org-mode-line-clock {
  /* org-mode-line-clock */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-mode-line-clock-overrun {
  /* org-mode-line-clock-overrun */
  color: #c5c8c6;
  background-color: #ff0000;
}
.org-org-priority {
  /* org-priority */
  color: #b294bb;
}
.org-org-property-value {
}
.org-org-quote {
  /* org-quote */
  color: #de935f;
}
.org-org-sexp-date {
  /* org-sexp-date */
  color: #00ffff;
}
.org-org-tag {
  /* org-tag */
  font-weight: bold;
}
.org-org-tag-group {
  /* org-tag-group */
  font-weight: bold;
}
.org-org-target {
  /* org-target */
  text-decoration: underline;
}
.org-org-time-grid {
  /* org-time-grid */
  color: #eedd82;
}
.org-org-verbatim {
  /* org-verbatim */
  color: #969896;
}
.org-org-verse {
  /* org-verse */
  color: #de935f;
}
.org-outline-1 {
  /* outline-1 */
  color: #81a2be;
}
.org-outline-2 {
  /* outline-2 */
  color: #de935f;
}
.org-outline-3 {
  /* outline-3 */
  color: #b294bb;
}
.org-outline-4 {
  /* outline-4 */
  color: #969896;
}
.org-outline-5 {
  /* outline-5 */
  color: #f0c674;
}
.org-outline-6 {
  /* outline-6 */
  color: #8abeb7;
}
.org-outline-7 {
  /* outline-7 */
  color: #8abeb7;
}
.org-outline-8 {
  /* outline-8 */
  color: #b5bd68;
}
.org-paren {
  /* paren-face */
  color: #969896;
}
.org-paren-face-match {
  /* paren-face-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-paren-face-mismatch {
  /* paren-face-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-paren-face-no-match {
  /* paren-face-no-match */
  color: #282a2e;
  background-color: #de935f;
}
.org-powerline-active1 {
  /* powerline-active1 */
  color: #c5c8c6;
  background-color: #383838;
}
.org-powerline-active2 {
  /* powerline-active2 */
  color: #c5c8c6;
  background-color: #666666;
}
.org-powerline-inactive1 {
  /* powerline-inactive1 */
  color: #c5c8c6;
  background-color: #1c1c1c;
}
.org-powerline-inactive2 {
  /* powerline-inactive2 */
  color: #c5c8c6;
  background-color: #333333;
}
.org-rainbow-delimiters-depth-1 {
  /* rainbow-delimiters-depth-1-face */
  color: #b294bb;
}
.org-rainbow-delimiters-depth-2 {
  /* rainbow-delimiters-depth-2-face */
  color: #81a2be;
}
.org-rainbow-delimiters-depth-3 {
  /* rainbow-delimiters-depth-3-face */
  color: #8abeb7;
}
.org-rainbow-delimiters-depth-4 {
  /* rainbow-delimiters-depth-4-face */
  color: #b5bd68;
}
.org-rainbow-delimiters-depth-5 {
  /* rainbow-delimiters-depth-5-face */
  color: #f0c674;
}
.org-rainbow-delimiters-depth-6 {
  /* rainbow-delimiters-depth-6-face */
  color: #de935f;
}
.org-rainbow-delimiters-depth-7 {
  /* rainbow-delimiters-depth-7-face */
  color: #cc6666;
}
.org-rainbow-delimiters-depth-8 {
  /* rainbow-delimiters-depth-8-face */
  color: #969896;
}
.org-rainbow-delimiters-depth-9 {
  /* rainbow-delimiters-depth-9-face */
  color: #c5c8c6;
}
.org-rainbow-delimiters-unmatched {
  /* rainbow-delimiters-unmatched-face */
  color: #cc6666;
}
.org-sgml-namespace {
  /* sgml-namespace */
  color: #8abeb7;
}
.org-sh-escaped-newline {
  /* sh-escaped-newline */
  color: #b5bd68;
}
.org-sh-heredoc {
  /* sh-heredoc */
  color: #b5bd68;
}
.org-sh-quoted-exec {
  /* sh-quoted-exec */
  color: #b294bb;
}
.org-show-paren-match {
  /* show-paren-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-show-paren-mismatch {
  /* show-paren-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-slime-highlight-edits {
  /* slime-highlight-edits-face */
  font-weight: bold;
}
.org-slime-repl-input {
}
.org-slime-repl-output {
  /* slime-repl-output-face */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-slime-repl-prompt {
  /* slime-repl-prompt-face */
  color: #b294bb;
  font-weight: bold;
}
.org-slime-repl-result {
  /* slime-repl-result-face */
  color: #b5bd68;
}
.org-term {
  /* term */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-term-bold {
  /* term-bold */
  font-weight: bold;
}
.org-term-color-black {
  /* term-color-black */
  color: #000000;
  background-color: #000000;
}
.org-term-color-blue {
  /* term-color-blue */
  color: #0000ee;
  background-color: #0000ee;
}
.org-term-color-cyan {
  /* term-color-cyan */
  color: #00cdcd;
  background-color: #00cdcd;
}
.org-term-color-green {
  /* term-color-green */
  color: #00cd00;
  background-color: #00cd00;
}
.org-term-color-magenta {
  /* term-color-magenta */
  color: #cd00cd;
  background-color: #cd00cd;
}
.org-term-color-red {
  /* term-color-red */
  color: #cd0000;
  background-color: #cd0000;
}
.org-term-color-white {
  /* term-color-white */
  color: #ffffff;
  background-color: #ffffff;
}
.org-term-color-yellow {
  /* term-color-yellow */
  color: #cdcd00;
  background-color: #cdcd00;
}
.org-term-underline {
  /* term-underline */
  text-decoration: underline;
}
.org-undo-tree-visualizer-active-branch {
  /* undo-tree-visualizer-active-branch-face */
  color: #cc6666;
}
.org-undo-tree-visualizer-current {
  /* undo-tree-visualizer-current-face */
  color: #b5bd68;
  font-weight: bold;
}
.org-undo-tree-visualizer-default {
  /* undo-tree-visualizer-default-face */
  color: #c5c8c6;
}
.org-undo-tree-visualizer-register {
  /* undo-tree-visualizer-register-face */
  color: #f0c674;
}
.org-which-func {
  /* which-func */
  color: #81a2be;
  font-weight: bold;
}
.org-whitespace-empty {
  /* whitespace-empty */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-hspace {
  /* whitespace-hspace */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-indentation {
  /* whitespace-indentation */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-line {
  /* whitespace-line */
  color: #b294bb;
  background-color: #282a2e;
}
.org-whitespace-newline {
  /* whitespace-newline */
  color: #969896;
}
.org-whitespace-space {
  /* whitespace-space */
  color: #969896;
  background-color: #282a2e;
}
.org-whitespace-space-after-tab {
  /* whitespace-space-after-tab */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-space-before-tab {
  /* whitespace-space-before-tab */
  color: #cc6666;
  background-color: #de935f;
}
.org-whitespace-tab {
  /* whitespace-tab */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-trailing {
  /* whitespace-trailing */
  color: #f0c674;
  background-color: #cc6666;
}
.org-widget-button-pressed {
  /* widget-button-pressed */
  color: #ff0000;
}
.org-widget-documentation {
  /* widget-documentation */
  color: #32cd32;
}
.org-widget-inactive {
  /* widget-inactive */
  color: #969896;
}
.org-widget-single-line-field {
  /* widget-single-line-field */
  background-color: #696969;
}
.org-yaml-tab {
  /* yaml-tab-face */
  color: #ff0000;
  background-color: #ff0000;
  font-weight: bold;
}
.org-nxml-attribute-local-name {
    /* nxml-attribute-local-name */
    color: #e78c45;
}
.org-nxml-attribute-value {
    /* nxml-attribute-value */
    color: #b9ca4a;
}
.org-nxml-attribute-value-delimiter {
    /* nxml-attribute-value-delimiter */
    color: #b9ca4a;
}
.org-nxml-element-local-name {
    /* nxml-element-local-name */
    color: #7aa6da;
}
.org-nxml-entity-ref-delimiter {
    /* nxml-entity-ref-delimiter */
    color: #70c0b1;
}
.org-nxml-entity-ref-name {
    /* nxml-entity-ref-name */
    color: #70c0b1;
}
.org-nxml-markup-declaration-delimiter {
}
.org-nxml-processing-instruction-content {
    /* nxml-processing-instruction-content */
    color: #969896;
}
.org-nxml-processing-instruction-delimiter {
}
.org-nxml-processing-instruction-target {
    /* nxml-processing-instruction-target */
    color: #c397d8;
}
.org-nxml-prolog-keyword {
    /* nxml-prolog-keyword */
    color: #c397d8;
}
.org-nxml-prolog-literal-content {
    /* nxml-prolog-literal-content */
    color: #969896;
}
.org-nxml-prolog-literal-delimiter {
    /* nxml-prolog-literal-delimiter */
    color: #969896;
}
.org-nxml-tag-delimiter {
}
.org-nxml-tag-slash {
}
.org-nxml-text {
}
/*]]>*/-->
</style>
<link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono' rel='stylesheet'>
<link href='https://edwardtufte.github.io/tufte-css/tufte.min.css' rel='stylesheet' type='text/css' />
</head>
<body>
<div id="content" class="content">
<h1 class="title">Literate <code>.emacs.d</code></h1>
<p class="subtitle">Kris Molendyke</p>

<div class="epigraph" id="org3fc4e44">
<blockquote>
<p>
<a href="http://www.literateprogramming.com/">Literate programming</a> is a methodology that combines a programming language
with a documentation language, thereby making programs more robust, more
portable, more easily maintained, and arguably more fun to write than programs
that are written only in a high-level language. The main idea is to treat a
program as a piece of literature, addressed to human beings rather than to a
computer. The program is also viewed as a hypertext document, rather like the
World Wide Web. (Indeed, I used the word WEB for this purpose long before CERN
grabbed it!)
</p>
</blockquote>

</div>

<p>
All configuration described here is performed in an <a href="https://github.com/krismolendyke/.emacs.d/blob/0d5a5434ff79d48ab613fc433d0ae2443c552665/init.el#L88"><code>after-init-hook</code></a>
function.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#build-emacs">Build Emacs</a>
<ul>
<li><a href="#org5853be7">Emacs Source Directory</a></li>
</ul>
</li>
<li><a href="#how-this-works">How this works</a>
<ul>
<li><a href="#org5f3db4d">HTML Export <code>post-commit</code> Hook</a></li>
</ul>
</li>
<li><a href="#orgd5d7cff">use-package</a></li>
<li><a href="#orgcb575f7">Performance Tuning</a>
<ul>
<li><a href="#org88d89de">GC</a></li>
<li><a href="#org86523ea">Process Output</a></li>
</ul>
</li>
<li><a href="#orgf202c2e">Global GNU Emacs Key Bindings</a>
<ul>
<li><a href="#orgd618974">Unset</a></li>
<li><a href="#org49a4de8">Set</a></li>
</ul>
</li>
<li><a href="#orgfa40eaf">k20e Defaults</a>
<ul>
<li><a href="#orgec72ff9">Apropos</a></li>
<li><a href="#org8aa6b8a">Backup Files</a></li>
<li><a href="#orgd123ecc">Enabled Commands</a></li>
<li><a href="#org94b9784">Inferior Shell</a></li>
<li><a href="#org9929ce3"><span class="todo TODO">TODO</span> Defaults for Review</a></li>
</ul>
</li>
<li><a href="#orgaf71dc6">k20e Custom Functions</a>
<ul>
<li><a href="#orgcc9e2c2">Editing</a></li>
<li><a href="#org04b50a8">Buffers</a></li>
<li><a href="#org694f4f7">Windows</a></li>
<li><a href="#org0e932fb">Networking</a></li>
<li><a href="#org5792383">Lunar 🌙</a></li>
</ul>
</li>
<li><a href="#org0e4bcb1">auto-fill</a></li>
<li><a href="#org239643d">auto-package-update</a></li>
<li><a href="#orgf0fde3a">auto-save</a></li>
<li><a href="#org874264e">avy</a></li>
<li><a href="#orgd0a0ec5">buffer-move</a></li>
<li><a href="#org868f86c">C</a></li>
<li><a href="#orgd438a2c">clock-face</a></li>
<li><a href="#orgae38365">compilation-mode</a></li>
<li><a href="#counsel">Counsel</a></li>
<li><a href="#org3c5409d">dired</a></li>
<li><a href="#orgb9ea3bb">electric-pair-mode</a></li>
<li><a href="#orgfcaee5c">emacs-lisp-mode</a></li>
<li><a href="#org81747db">expand-region</a></li>
<li><a href="#orgf54fae8">find-file-in-project</a></li>
<li><a href="#flycheck">flycheck</a></li>
<li><a href="#org1d0db00">flyspell</a>
<ul>
<li><a href="#install-aspell">Install <code>aspell</code></a></li>
</ul>
</li>
<li><a href="#orgdefafd2">Fonts</a>
<ul>
<li><a href="#org70364fb">Unicode</a></li>
</ul>
</li>
<li><a href="#org6e30a37">font-awesome</a></li>
<li><a href="#org1beb643">geiser</a></li>
<li><a href="#org69d204b">git</a>
<ul>
<li><a href="#org0706002">GitHub <code>.gitignore</code></a></li>
</ul>
</li>
<li><a href="#orgd392510">go-mode</a>
<ul>
<li><a href="#org563acdc"><code>[0/3]</code> <code>TODO</code></a></li>
</ul>
</li>
<li><a href="#org4f36fa0">highlight-indent-guides</a></li>
<li><a href="#org96eaba5">highlight-parentheses</a></li>
<li><a href="#org93f2519">htmlize</a></li>
<li><a href="#org18dcbb0">hyperspec</a></li>
<li><a href="#ibuffer">ibuffer</a></li>
<li><a href="#org7aa073f">IELM</a></li>
<li><a href="#org55d5108">imenu</a></li>
<li><a href="#org2f7e35c">I'm Feeling Lucky</a></li>
<li><a href="#orgdec1ee8">Ivy</a></li>
<li><a href="#orgb3ec786">js</a></li>
<li><a href="#orgbff8700">LaTeX</a></li>
<li><a href="#org46dd084">ligature-pragmatapro</a></li>
<li><a href="#org947ef5e">lockfiles</a></li>
<li><a href="#org1f8c1c8">lsp-mode</a></li>
<li><a href="#orgabf9cd3">lua-mode</a></li>
<li><a href="#org0dbb7ec">man</a></li>
<li><a href="#org03c035e">markdown-mode</a></li>
<li><a href="#orga98fa85">Minibuffer</a>
<ul>
<li><a href="#orgaf9d697">Eval expression minibuffer</a></li>
</ul>
</li>
<li><a href="#orgc453642">Mouse</a></li>
<li><a href="#org6cd358e">multiple-cursors</a></li>
<li><a href="#org071e6ea">Open Source Licenses</a></li>
<li><a href="#orgc43a383">org-mode</a>
<ul>
<li><a href="#org39df98a">UPGRAYEDD</a></li>
<li><a href="#org871c1f3">Inline Images</a></li>
<li><a href="#org83a94f8">Key Bindings</a></li>
<li><a href="#org3034664">Export</a></li>
<li><a href="#org5b0b3b7">Publish</a></li>
<li><a href="#orgd3e5624">Babel</a></li>
<li><a href="#org392b7d4"><span class="todo TODO">TODO</span> Items</a></li>
<li><a href="#orgc0bd530">Agenda</a></li>
<li><a href="#orgccba3fa">Habit</a></li>
<li><a href="#org954e704">Logging &amp; Drawers</a></li>
<li><a href="#orgc972e48">Clock</a></li>
</ul>
</li>
<li><a href="#org0cd2db7">paredit-mode</a></li>
<li><a href="#orga814efa">prettify-symbols-mode</a></li>
<li><a href="#orge9b90b2">python</a></li>
<li><a href="#org81043da">re-builder</a></li>
<li><a href="#org4326870">recentf</a></li>
<li><a href="#org3a17384">ripgrep</a></li>
<li><a href="#orgeeb9125">rust</a></li>
<li><a href="#org908d995">savehist</a></li>
<li><a href="#orgc628658"><code>*scratch*</code></a>
<ul>
<li><a href="#org72ae708">Quickly create new scratch buffers</a></li>
</ul>
</li>
<li><a href="#org2d14b9b">sh-mode</a></li>
<li><a href="#org8d9b771">server</a></li>
<li><a href="#orga7360c4">smex</a></li>
<li><a href="#orgfae61d9">sql-mode</a></li>
<li><a href="#orgd519ae0">Swiper</a></li>
<li><a href="#org223a357">Theme</a></li>
<li><a href="#org7938fea">terraform-mode</a></li>
<li><a href="#org22b91c0">text-mode</a></li>
<li><a href="#orgdf28db9">toml-mode</a></li>
<li><a href="#org6e11557">tramp</a>
<ul>
<li><a href="#org08ec43e"><code>ControlPath</code></a></li>
<li><a href="#org6fd2ee7">Inline Copying</a></li>
<li><a href="#orgcf4215d">File Backup</a></li>
<li><a href="#orgd382d4b">Debugging</a></li>
</ul>
</li>
<li><a href="#org02a2e50">uniquify</a></li>
<li><a href="#orgf036538">windmove</a></li>
<li><a href="#org719ecbd">web-mode</a></li>
<li><a href="#org98c1212">winner-mode</a></li>
<li><a href="#org44d3fb6">whitespace</a></li>
<li><a href="#orgc904710">yaml-mode</a></li>
<li><a href="#org7ecf9b8">zig-mode</a></li>
</ul>
</div>
</div>

<div id="outline-container-build-emacs" class="outline-2">
<h2 id="build-emacs">Build Emacs</h2>
<div class="outline-text-2" id="text-build-emacs">
<p>
I primarily use Emacs locally on Apple hardware.  Most, if not all,
of the remote editing that I do is done via <code>tramp</code>.  I keep an eye
on the <a href="http://git.savannah.gnu.org/cgit/emacs.git/log/">log</a> at the official Emacs <a href="http://git-scm.com/">git</a> <a href="http://git.savannah.gnu.org/cgit/emacs.git/">repository</a>.  When something
interesting lands there I will build a fresh Emacs installation via
<a href="http://brew.sh/">Homebrew</a> and try it out.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew info emacs
</pre>
</div>

<p>
I install Emacs with the following options.  The standard Homebrew
installation has lost a lot of MacOS customization flags over the
years so I've switched to the <a href="https://github.com/d12frosted/homebrew-emacs-plus">Emacs Plus</a> formula instead.  First,
tap that keg:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew tap d12frosted/emacs-plus
</pre>
</div>

<p>
And then install:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install emacs-plus@29
</pre>
</div>
</div>

<div id="outline-container-org5853be7" class="outline-3">
<h3 id="org5853be7">Emacs Source Directory</h3>
<div class="outline-text-3" id="text-org5853be7">
<p>
<code>source-directory</code> is helpful to have set properly when exploring built-in
<i>C functions</i> via <code>find-function</code>.
</p>

<p>
Finding the source code directory via Homebrew can be done with the
following command:
</p>

<div class="org-src-container">
<pre class="src src-sh">echo $(brew --cache)/emacs*
</pre>
</div>

<pre class="example">
/Library/Caches/Homebrew/emacs--git
</pre>


<p>
<i>Note</i>: <code>source-directory</code> must be set during Emacs initialization time to
persist.  See <a href="https://github.com/krismolendyke/.emacs.d/blob/1241a848cee7dadfa0c719643925fa0a7b86f476/init.el#L84-L86"><code>init.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-how-this-works" class="outline-2">
<h2 id="how-this-works">How this works</h2>
<div class="outline-text-2" id="text-how-this-works">
<p>
The <a href="https://github.com/krismolendyke/.emacs.d/blob/master/init.el"><code>init.el</code></a> file bootstraps the entire process.  It is found by
Emacs automatically if it is located in one of several well-defined
locations.
</p>

<blockquote>
<p>
When Emacs is started, it normally tries to load a Lisp program from
an "initialization file", or "init file" for short.  This file, if
it exists, specifies how to initialize Emacs for you.  Emacs looks
for your init file using the filenames `~/.emacs', `~/.emacs.el', or
`~/.emacs.d/init.el'; you can choose to use any one of these three
names (*note Find Init::).  Here, `~/' stands for your home
directory.
</p>
</blockquote>

<p>
Once it's found, <code>init.el</code> sets "global" variables and defines
several functions to be executed <i>during</i> initialization and one
that should be executed <i>after</i> initialization has completed.
<code>k20e/after-init-hook</code> is a hook run after initialization.  The most
interesting bit of this function is the call to
<code>org-babel-load-file</code>:
</p>

<blockquote>
<p>
(org-babel-load-file FILE &amp;optional COMPILE)
</p>

<p>
Load Emacs Lisp source code blocks in the Org-mode FILE. This
function exports the source code using `org-babel-tangle' and then
loads the resulting file using `load-file'.  With prefix arg
(noninteractively: 2nd arg) COMPILE the tangled Emacs Lisp file to
byte-code before it is loaded.
</p>
</blockquote>

<p>
This function invocation exports all <a href="http://orgmode.org/manual/Working-With-Source-Code.html#Working-With-Source-Code"><code>org-mode</code> source blocks</a> in any
<code>org-mode</code> files in the <code>.emacs.d</code> directory to a single Emacs Lisp
file and then instructs Emacs to load that file.  <a href="https://github.com/krismolendyke/.emacs.d/blob/master/custom.org"><code>custom.org</code></a> is
the biggest of those <code>org-mode</code> files and … <i>this</i> is that file!
</p>
</div>

<div id="outline-container-org5f3db4d" class="outline-3">
<h3 id="org5f3db4d">HTML Export <code>post-commit</code> Hook</h3>
<div class="outline-text-3" id="text-org5f3db4d">
<p>
This <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git <code>post-commit</code> hook</a> is located at <code>.git/hooks/post-commit</code>
and automatically generates the HTML content of this <a href="https://pages.github.com/">GitHub Pages</a>
site.
</p>

<div class="org-src-container">
<pre class="src src-sh">#!/bin/sh

emacs --batch \
      --directory '~/.emacs.d/site-lisp/org-mode/lisp' \
      --load '~/.emacs.d/elisp/k20e-org-html-export.el' \
      --visit '~/.emacs.d/custom.org' \
      --execute '(org-html-export-to-html)' 2&gt;&amp;1
rm -f *~
git checkout gh-pages
mv custom.html index.html
git add index.html
git commit --message "post-commit hook regeneration."
git checkout master
</pre>
</div>

<p>
All of the interesting customization of the exported document is
performed in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el"><code>elisp/k20e-org-html-export.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd5d7cff" class="outline-2">
<h2 id="orgd5d7cff">use-package</h2>
<div class="outline-text-2" id="text-orgd5d7cff">
<p>
Before <code>use-package</code> I had 70 packages installed and
<code>emacs-init-time</code> was <code>"8.678111 seconds"</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval-when-compile (require 'use-package))

(use-package package
  :config
  (add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb575f7" class="outline-2">
<h2 id="orgcb575f7">Performance Tuning</h2>
<div class="outline-text-2" id="text-orgcb575f7">
<p>
Mucking with these solely based on output from <code>lsp-doctor</code> and its
recommendations since I use this all day writing Go programs.
</p>
</div>

<div id="outline-container-org88d89de" class="outline-3">
<h3 id="org88d89de">GC</h3>
<div class="outline-text-3" id="text-org88d89de">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval-when-compile
  (let ((mib (expt 2 20)))
    (setq gc-cons-threshold (* 500 mib))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org86523ea" class="outline-3">
<h3 id="org86523ea">Process Output</h3>
<div class="outline-text-3" id="text-org86523ea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval-when-compile
  (let ((mib (expt 2 20)))
    (setq read-process-output-max (* 1 mib))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf202c2e" class="outline-2">
<h2 id="orgf202c2e">Global GNU Emacs Key Bindings</h2>
<div class="outline-text-2" id="text-orgf202c2e">
<p>
These global key bindings override <i>built-in</i> functions only.
Package-specific or custom function defunition key bindings are made in
their own dedicated sections where other specific settings are made.
</p>
</div>

<div id="outline-container-orgd618974" class="outline-3">
<h3 id="orgd618974">Unset</h3>
<div class="outline-text-3" id="text-orgd618974">
<p>
OS X annoyance &#x2013; <code>C-M-d</code> is a "hot key" bound to dictionary lookup
and masks the key binding in Emacs.  <a href="http://apple.stackexchange.com/questions/22785/how-do-i-disable-the-command-control-d-word-definition-keyboard-shortcut-in-os-x/114269#114269">Disabling it</a> can currently
only be done by editing a default <i>and restarting</i>.
</p>

<div class="org-src-container">
<pre class="src src-sh">defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys \
         -dict-add 70 '&lt;dict&gt;&lt;key&gt;enabled&lt;/key&gt;&lt;false/&gt;&lt;/dict&gt;'
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-unset-key (kbd "&lt;f1&gt; h"))
(global-unset-key (kbd "&lt;f11&gt;"))
(global-unset-key (kbd "C-h"))
(global-unset-key (kbd "C-q"))
(global-unset-key (kbd "M-`"))
(global-unset-key (kbd "M-c"))
(global-unset-key (kbd "M-h"))
(global-unset-key (kbd "M-u"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org49a4de8" class="outline-3">
<h3 id="org49a4de8">Set</h3>
<div class="outline-text-3" id="text-org49a4de8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "&lt;f1&gt; F") 'find-function)
(global-set-key (kbd "&lt;f1&gt; V") 'find-variable)
(global-set-key (kbd "&lt;f6&gt;") 'k20e/font-toggle-proportional)
(global-set-key (kbd "&lt;f7&gt;") 'previous-error) ;; ◀◀
(global-set-key (kbd "&lt;f9&gt;") 'next-error) ;; ▶▶
(global-set-key (kbd "C-M-;") 'comment-line)
(global-set-key (kbd "C-S-h") 'kill-whole-line)
(global-set-key (kbd "C-c DEL") 'join-line)
(global-set-key (kbd "C-h") 'delete-backward-char)
(global-set-key (kbd "C-j") 'join-line)
(global-set-key (kbd "C-x C-t") 'transpose-lines)
(global-set-key (kbd "H-h H-f") 'find-function)
(global-set-key (kbd "H-h H-v") 'find-variable)
(global-set-key (kbd "H-t") 'toggle-frame-fullscreen)
(global-set-key (kbd "M-+") 'text-scale-adjust)
(global-set-key (kbd "M-.") 'imenu)
(global-set-key (kbd "M-/") 'hippie-expand)
(global-set-key (kbd "M-`") 'other-window)
(global-set-key (kbd "M-h") 'backward-kill-word)
(global-set-key (kbd "M-t") 'transpose-words)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfa40eaf" class="outline-2">
<h2 id="orgfa40eaf">k20e Defaults</h2>
<div class="outline-text-2" id="text-orgfa40eaf">
</div>
<div id="outline-container-orgec72ff9" class="outline-3">
<h3 id="orgec72ff9">Apropos</h3>
<div class="outline-text-3" id="text-orgec72ff9">
<p>
Sort by relevancy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default apropos-sort-by-scores t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8aa6b8a" class="outline-3">
<h3 id="org8aa6b8a">Backup Files</h3>
<div class="outline-text-3" id="text-org8aa6b8a">
<p>
Back up files to a single location.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar k20e/backup-dir (expand-file-name "backup" user-emacs-directory)
  "A single directory for storing backup files within.")

(unless (file-exists-p k20e/backup-dir) (make-directory k20e/backup-dir))

(setq backup-by-copying t
      backup-directory-alist `(("." . ,k20e/backup-dir))
      delete-old-versions t
      version-control t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd123ecc" class="outline-3">
<h3 id="orgd123ecc">Enabled Commands</h3>
<div class="outline-text-3" id="text-orgd123ecc">
<p>
Commands disabled by default prompt at first use.  Enabling
commands disables the prompt.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar k20e/enabled-commands
  '(downcase-region
    upcase-region
    narrow-to-region
    narrow-to-page
    scroll-left
    scroll-right)
  "Normally disabled commands.")

(defun k20e/enable-commands ()
  "Enabled normally disabled commands."
  (dolist (command k20e/enabled-commands)
    (put command 'disabled nil)))

(k20e/enable-commands)
</pre>
</div>
</div>
</div>

<div id="outline-container-org94b9784" class="outline-3">
<h3 id="org94b9784">Inferior Shell</h3>
<div class="outline-text-3" id="text-org94b9784">
<p>
Defaulting to <code>sh</code> seems to work well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq shell-file-name "/bin/sh")
</pre>
</div>
</div>
</div>

<div id="outline-container-org9929ce3" class="outline-3">
<h3 id="org9929ce3"><span class="todo TODO">TODO</span> Defaults for Review</h3>
<div class="outline-text-3" id="text-org9929ce3">
<p>
This is a bunch of stuff that I just dumped here and need to go through yet.
</p>

<p>
Show the active region and delete it when selected if a character
is inserted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(transient-mark-mode t)
(delete-selection-mode 1)
</pre>
</div>

<p>
"Electric" indentation is generally what I consider to be sensible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(electric-indent-mode)
</pre>
</div>

<p>
Cycle through the mark ring faster.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq set-mark-command-repeat-pop t)
</pre>
</div>

<p>
Splitting windows horizontally makes more sense on all of the wide
screen monitors I work on.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq split-width-threshold 81)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; What's going on here?
(setq echo-keystrokes 0.1)

;; Automatically reload buffers when files change on disk.
(global-auto-revert-mode 1)

;; y is the new yes.  n is the new no.
(defalias 'yes-or-no-p 'y-or-n-p)
</pre>
</div>

<p>
Stuff in review from <a href="https://www.masteringemacs.org/article/whats-new-in-emacs-28-1">https://www.masteringemacs.org/article/whats-new-in-emacs-28-1</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default
 completions-detailed t
 describe-bindings-outline t
 mode-line-compact t
 next-error-message-highlight t
 frame-title-format '(multiple-frames "%b" ("%b\t%f")))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaf71dc6" class="outline-2">
<h2 id="orgaf71dc6">k20e Custom Functions</h2>
<div class="outline-text-2" id="text-orgaf71dc6">
<p>
I have found these to be useful enough to keep around permanently.
</p>
</div>

<div id="outline-container-orgcc9e2c2" class="outline-3">
<h3 id="orgcc9e2c2">Editing</h3>
<div class="outline-text-3" id="text-orgcc9e2c2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/mark-current-line (arg)
  "Mark the current line.
If the mark is already set simply move the point forward a single
line.  If it is not set, set it at the beginning of the current
line and then move the point forward a single line."
  (interactive "p")
  (unless mark-active
    (beginning-of-line)
    (set-mark (point)))
  (forward-line arg))

(defun k20e/open-line-below (arg)
  "Insert a new line below the current line."
  (interactive "p")
  (end-of-line)
  (newline arg)
  (indent-for-tab-command))

(defun k20e/open-line-above (arg)
  "Insert a new line above the current line."
  (interactive "p")
  (beginning-of-line)
  (newline arg)
  (forward-line (- 0 arg))
  (indent-for-tab-command))

;; Inspired by http://whattheemacsd.com/key-bindings.el-01.html
(use-package display-line-numbers :ensure t)

(defun k20e/goto-line ()
  "Show line numbers and prompt for a line number to go to.
Restore previous state of displaying line numbers."
  (interactive)
  (if display-line-numbers-mode
    (call-interactively 'goto-line)
    (unwind-protect
        (progn
          (setq display-line-numbers t)
          (call-interactively 'goto-line))
      (setq display-line-numbers nil))))

</pre>
</div>

<p>
This one is stolen from <a href="https://github.com/magnars/.emacs.d/blob/e56e71ce0f0791c7237192a049f29c2de686409a/defuns/lisp-defuns.el">magnars</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/eval-and-replace ()
  "Replace the preceding sexp with its value."
  (interactive)
  (backward-kill-sexp)
  (condition-case nil
      (prin1 (eval (read (current-kill 0)))
             (current-buffer))
    (error (message "Invalid expression")
           (insert (current-kill 0)))))
</pre>
</div>

<p>
Bind editing functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "M-l") 'k20e/mark-current-line)
(global-set-key (kbd "&lt;M-return&gt;") 'k20e/open-line-below)
(global-set-key (kbd "&lt;M-S-return&gt;") 'k20e/open-line-above)
(global-set-key [remap goto-line] 'k20e/goto-line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org04b50a8" class="outline-3">
<h3 id="org04b50a8">Buffers</h3>
<div class="outline-text-3" id="text-org04b50a8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/display-buffer-file-name ()
  "Message the full path to the currently visited file."
  (interactive)
  (message "%s" (buffer-file-name)))
</pre>
</div>
</div>

<div id="outline-container-org4eb2404" class="outline-4">
<h4 id="org4eb2404">Toggle Source/Test Buffer</h4>
<div class="outline-text-4" id="text-org4eb2404">
<p>
If this gets any smarter it should be refactored into its own
package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/test-buffer-p ()
  "Is the current buffer a test buffer?
This function naïvely assumes that the file name suffix '_test'
is indicative of a test file."
  (string-suffix-p
   "_test"
   (file-name-sans-extension (buffer-file-name))))

(defun k20e/switch-to-test-buffer ()
  "Switch to the test buffer associated with the current source buffer.
FIX: when &gt;1 buffer w/ same name this is wrong because the buffer
name is prepended w/ dir name or whatever"
  (let ((d (file-name-directory (buffer-file-name)))
        (f (format "%s_test.%s"
                    (file-name-sans-extension (buffer-name))
                    (file-name-extension (buffer-file-name)))))
    (find-file (expand-file-name f d))))

(defun k20e/switch-to-source-buffer ()
  "Switch to the source buffer associated with the current test buffer."
  (let ((e (file-name-extension (buffer-file-name)))
        (f (car (split-string (file-name-sans-extension (buffer-file-name))
                              "_test"))))
    (find-file (format "%s.%s" f e))))

(defun k20e/toggle-test-buffer ()
  "Toggle between a source and test buffer.
This function naïvely assumes that the file name suffix '_test'
is indicative of a test file.  Therefore it should only be useful
in major modes where that convention is expected."
  (interactive)
  (if (k20e/test-buffer-p)
      (k20e/switch-to-source-buffer)
    (k20e/switch-to-test-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad7d832" class="outline-4">
<h4 id="orgad7d832">Widescreen</h4>
<div class="outline-text-4" id="text-orgad7d832">
<p>
When working on a widescreen monitor it can be useful to have
windows arranged a bit differently than they would on smaller
monitors.  In particular, a function like <code>fit-window-to-buffer</code>
which adjusts the window's width is helpful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/get-longest-line-length ()
  "Get the length of the longest line in the selected window."
  (save-excursion
    (goto-char (point-min))
    (let ((max-length 0)
          (last-line (count-lines (point-min) (point-max))))
      (while (&lt;= (line-number-at-pos) last-line)
        (setq max-length (max max-length (- (line-end-position) (line-beginning-position))))
        (forward-line))
      (1+ max-length))))

(defun k20e/fit-window-to-buffer-horizontally ()
  "Fit the selected window to the width of its longest line.
Return the window width delta."
  (interactive)
  (let* ((current-width (window-width))
         (longest-line (k20e/get-longest-line-length))
         (delta (* -1 (- current-width longest-line))))
    (if (zerop (window-resizable (selected-window) delta t)) nil
      (window-resize (selected-window) delta t))
    delta))

(global-set-key (kbd "C-x w") 'k20e/fit-window-to-buffer-horizontally)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org694f4f7" class="outline-3">
<h3 id="org694f4f7">Windows</h3>
<div class="outline-text-3" id="text-org694f4f7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy :ensure t)

(defun split-window-right-and-balance-and-go-there-and-switch-buffer (&amp;optional arg)
  "Optional argument ARG Prefix argument will switch buffer using ivy."
  (interactive "P")
  (split-window-right)
  (balance-windows-area)
  (windmove-right)
  (if arg
      (ivy-switch-buffer)
    (switch-to-buffer nil)))

(defun delete-window-and-balance ()
  "Balance windows after deleting."
  (interactive)
  (delete-window)
  (balance-windows-area))
</pre>
</div>

<p>
Bind window functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "C-x 0") 'delete-window-and-balance)
(global-set-key (kbd "C-x 3") 'split-window-right-and-balance-and-go-there-and-switch-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0e932fb" class="outline-3">
<h3 id="org0e932fb">Networking</h3>
<div class="outline-text-3" id="text-org0e932fb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package net-utils :ensure t)
(use-package tramp
  :ensure t
  :commands tramp-parse-shosts)

(defun k20e/known-hosts ()
  "Get a host name from ~./ssh/known_hosts file."
  (completing-read "host: "
                   (let ((value))
                     (dolist (elt (tramp-parse-shosts "~/.ssh/known_hosts") value)
                       (if elt (setq value (cons (cadr elt) value)))))))

(defun k20e/host-ip ()
  "Insert the current IP of a host using `dns-lookup-program'.
Similar to but simpler than `dns-lookup-host'."
  (interactive)
  (let ((host (k20e/known-hosts)))
    (insert (car (last (split-string (shell-command-to-string
                                      (concat dns-lookup-program " " host))))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5792383" class="outline-3">
<h3 id="org5792383">Lunar 🌙</h3>
<div class="outline-text-3" id="text-org5792383">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'calendar)
(require 'lunar)

(defun k20e/full-moons-info ()
  "Get a list of upcoming full moons info beginning with the current month.
See `lunar-phase-list' and `lunar-phase-name'."
  (let* ((current-date (calendar-current-date))
         (current-month (car current-date))
         (current-year (car (last current-date)))
         (full-moon-phase-index 2)
         (k20e/full-moons-info '()))
    (dolist (phase (lunar-phase-list current-month current-year))
      (if (= (car (last phase)) full-moon-phase-index)
          (setq k20e/full-moons-info (cons phase k20e/full-moons-info))))
    (reverse k20e/full-moons-info)))

(defun k20e/full-moons ()
  "Display upcoming full moons beginning with the current month."
  (interactive)
  (with-output-to-temp-buffer "*full-moons*"
    (princ
     (mapconcat
      #'(lambda (x)
          (format "%s %s" (calendar-date-string (car x)) (car (cdr x))))
      (k20e/full-moons-info)
      "\n"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0e4bcb1" class="outline-2">
<h2 id="org0e4bcb1">auto-fill</h2>
<div class="outline-text-2" id="text-org0e4bcb1">
<p>
When to turn on auto-fill and set fill-column to a reasonable value.  This
would probably be better dealt with by a data structure that maps mode hooks
to fill-column values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacs
  :config
  (setq-default fill-column 118))
</pre>
</div>
</div>
</div>

<div id="outline-container-org239643d" class="outline-2">
<h2 id="org239643d">auto-package-update</h2>
<div class="outline-text-2" id="text-org239643d">
<ul class="org-ul">
<li><a href="https://github.com/rranelli/auto-package-update.el">https://github.com/rranelli/auto-package-update.el</a></li>
<li><a href="https://github.com/jwiegley/use-package#package-installation">https://github.com/jwiegley/use-package#package-installation</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package auto-package-update
  :ensure t
  :config
  (setq-default auto-package-update-delete-old-versions t
                auto-package-update-interval 7
                auto-package-update-prompt-before-update t
                auto-package-update-show-preview t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf0fde3a" class="outline-2">
<h2 id="orgf0fde3a">auto-save</h2>
<div class="outline-text-2" id="text-orgf0fde3a">
<p>
Disable <code>auto-save</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacs
  :config
  (setq auto-save-default nil
        auto-save-timeout 0))
</pre>
</div>
</div>
</div>

<div id="outline-container-org874264e" class="outline-2">
<h2 id="org874264e">avy</h2>
<div class="outline-text-2" id="text-org874264e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package avy
  :ensure t
  :bind (("s-g" . avy-goto-char-timer))
  :config
  (setq-default
   avy-keys '(?a ?o ?e ?u ?i ?d ?h ?t ?n)
   avy-all-windows nil
   avy-style 'at-full))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd0a0ec5" class="outline-2">
<h2 id="orgd0a0ec5">buffer-move</h2>
<div class="outline-text-2" id="text-orgd0a0ec5">
<p>
Move the current buffer up/down/left/right easily.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package buffer-move
  :ensure t
  :bind (("M-S-&lt;up&gt;" . buf-move-up)
     ("M-S-&lt;down&gt;" . buf-move-down)
     ("M-S-&lt;left&gt;" . buf-move-left)
     ("M-S-&lt;right&gt;" . buf-move-right)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org868f86c" class="outline-2">
<h2 id="org868f86c">C</h2>
<div class="outline-text-2" id="text-org868f86c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cc-mode
  :after (flycheck)
  :custom
  (flycheck-gcc-pedantic-errors t)
  :hook ((c-mode . flycheck-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd438a2c" class="outline-2">
<h2 id="orgd438a2c">clock-face</h2>
<div class="outline-text-2" id="text-orgd438a2c">
<p>
This is a <a href="https://github.com/krismolendyke/clock-face.el">ridiculous package</a> that I wrote to insert a Unicode clock
face character for the nearest current half-hour.  🕙
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package clock-face
  :ensure nil
  :load-path "site-lisp/clock-face.el")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae38365" class="outline-2">
<h2 id="orgae38365">compilation-mode</h2>
<div class="outline-text-2" id="text-orgae38365">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package compile
  :custom-face (compilation-error ((t (:foreground "tomato1")))))
</pre>
</div>

<p>
Functions to execute after compilation has finished:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'hl-line)
(require 'subr-x)

(defun k20e/compilation-finish-function-delay-delete (buf result)
  "Delete and bury BUF after short delay.
Do so only if compilation is successful."
  (if (string= (string-trim result) "finished")
      (run-with-timer
       1.0 nil
       (lambda (buf)
         (with-current-buffer buf
           (delete-window)
           (bury-buffer)))
       buf)))

(defun k20e/compilation-finish-function-select-window (buf result)
  "Switch to the compilation buffer BUF.
When compilation completes, regardless of result."
  (let ((win (get-buffer-window buf)))
    (select-window (get-buffer-window buf))
    (goto-char (point-max))
    (forward-line -1)
    (hl-line-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-counsel" class="outline-2">
<h2 id="counsel">Counsel</h2>
<div class="outline-text-2" id="text-counsel">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package counsel
  :ensure t
  :bind (("M-x" . counsel-M-x)
     ("C-x C-f" . counsel-find-file)
     ("&lt;f1&gt; f" . counsel-describe-function)
     ("&lt;f1&gt; v" . counsel-describe-variable)
     ("&lt;f1&gt; l" . counsel-find-library)
     ("&lt;f1&gt; s" . counsel-info-lookup-symbol)
     ("C-x 8 RET" . counsel-unicode-char)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c5409d" class="outline-2">
<h2 id="org3c5409d">dired</h2>
<div class="outline-text-2" id="text-org3c5409d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package dired
  :custom-face (dired-flagged ((t (:foreground "tomato1" :strike-through t))))
  :config
  (use-package autorevert
    :config
    (setq auto-revert-verbose nil))
  (use-package dired-x
    :config
    (load "dired-x.el"))
  :hook ((dired-mode . auto-revert-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb9ea3bb" class="outline-2">
<h2 id="orgb9ea3bb">electric-pair-mode</h2>
<div class="outline-text-2" id="text-orgb9ea3bb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elec-pair
  :hook ((prog-mode . electric-pair-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfcaee5c" class="outline-2">
<h2 id="orgfcaee5c">emacs-lisp-mode</h2>
<div class="outline-text-2" id="text-orgfcaee5c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elisp-mode
  :config
  (defun k20e/ert ()
    "Run all the tests in the universe!"
    (interactive)
    (ert t))
  :bind (:map emacs-lisp-mode-map ("H-t" . k20e/ert))
  :hook ((emacs-lisp-mode . eldoc-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org81747db" class="outline-2">
<h2 id="org81747db">expand-region</h2>
<div class="outline-text-2" id="text-org81747db">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package expand-region
  :ensure t
  :bind (("C-M-SPC" . er/expand-region)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf54fae8" class="outline-2">
<h2 id="orgf54fae8">find-file-in-project</h2>
<div class="outline-text-2" id="text-orgf54fae8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package find-file-in-project
  :ensure t
  :bind (("C-x o" . find-file-in-project))
  :config
  (setq-default ffip-limit 8192
        ffip-find-options "-not -regex \".*/build.*\"" ; TODO ignore .tox
        ffip-full-paths t
        ffip-patterns (list "*.el"
                "*.html"
                "*.js"
                "*.json"
                "*.go"
                "*.md"
                "*.org"
                "*.py"
                "*.sh"
                "*.txt"
                "*.yaml"
                "*.yml"
                "Dockerfile"
                "Makefile")
        ffip-prune-patterns (list ".git" "build")))
</pre>
</div>
</div>
</div>

<div id="outline-container-flycheck" class="outline-2">
<h2 id="flycheck">flycheck</h2>
<div class="outline-text-2" id="text-flycheck">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck
  :ensure t
  :config
  (setq-default flycheck-pylintrc "pylintrc"
                flycheck-check-syntax-automatically '(mode-enabled save)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d0db00" class="outline-2">
<h2 id="org1d0db00">flyspell</h2>
<div class="outline-text-2" id="text-org1d0db00">
<p>
Setup <code>ispell</code> to use <a href="#install-aspell"><code>aspell</code></a>, then setup <code>flyspell</code> itself.  It requires <code>ispell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flyspell
  :ensure t
  :init
  (setq-default ispell-program-name "aspell"
                ispell-extra-args (list "--sug-mode=ultra"))
  :config
  (setq flyspell-issue-message-flag nil
        flyspell-issue-welcome-flag nil)
  :hook ((text-mode . flyspell-mode)))
</pre>
</div>
</div>

<div id="outline-container-install-aspell" class="outline-3">
<h3 id="install-aspell">Install <a href="http://hunspell.sourceforge.net/"><code>aspell</code></a></h3>
<div class="outline-text-3" id="text-install-aspell">
<p>
Install <code>aspell</code> via Homebrew:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install aspell --with-lang-en
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdefafd2" class="outline-2">
<h2 id="orgdefafd2">Fonts</h2>
<div class="outline-text-2" id="text-orgdefafd2">
<ul class="org-ul">
<li><a href="https://protesilaos.com/codelog/2020-09-05-emacs-note-mixed-font-heights/">Setting default, variable &amp; fixed pitch heights</a></li>
<li>Fonts
<ul class="org-ul">
<li><a href="https://www.fsd.it/shop/fonts/pragmatapro/">PragmataPro</a> (<a href="https://github.com/fabrizioschiavi/pragmatapro">GitHub</a>)</li>
<li><a href="https://edwardtufte.github.io/et-book/">ET Book</a> (<a href="https://github.com/edwardtufte/et-book">GitHub</a>, <a href="https://aur.archlinux.org/packages/otf-et-book">AUR</a>)</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-prettify-symbols-mode 1)

(defvar k20e/font-list '(("PragmataPro-Mono-Liga" . 16)
                         ("PragmataPro-Liga" . 16))
  "Ordered list of preferred fonts and sizes.")

(defun k20e/font--set (font-alist)
  "Set the font family and size to the given font alist of the
format (family . point)."
  (let ((font (replace-regexp-in-string "-" " " (car font-alist)))
        (height (* 10 (cdr font-alist))))
    (set-frame-font font)
    (set-face-attribute 'default nil :height height)))

(defun k20e/font-set-from-list (l)
  "Set the font to first available font alist in the given list."
  (if (null l) nil
    (k20e/font--set (car l))
    (if (string= (replace-regexp-in-string "-" " "(caar l))
                 (face-attribute 'default :family (selected-frame)))
        (caar l)
      (k20e/font-set-from-list (cdr l)))))

(defun k20e/font-set ()
  "Set a font from the `k20e/font-list'."
  (interactive)
  (let ((ignore-case completion-ignore-case))
    (unwind-protect
        (progn
          (setq completion-ignore-case t)
          (let ((font (completing-read "Font: " k20e/font-list)))
            (k20e/font--set (assoc font k20e/font-list))))
      (setq completion-ignore-case ignore-case))))

(k20e/font-set-from-list k20e/font-list)
</pre>
</div>
</div>

<div id="outline-container-org70364fb" class="outline-3">
<h3 id="org70364fb">Unicode</h3>
<div class="outline-text-3" id="text-org70364fb">
<p>
<a href="http://users.teilar.gr/~g1951d/">Symbola</a> is a nice font for displaying Unicode characters 🍺👍.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (member "Symbola" (font-family-list))
  (set-fontset-font t 'unicode "Noto Color Emoji" nil 'prepend))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6e30a37" class="outline-2">
<h2 id="org6e30a37">font-awesome</h2>
<div class="outline-text-2" id="text-org6e30a37">
<p>
This is a <a href="https://github.com/krismolendyke/font-awesome.el">naïve package</a> that I wrote to help insert <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>
icons into buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package font-awesome
  :ensure nil
  :load-path "site-lisp/font-awesome.el")
</pre>
</div>
</div>
</div>

<div id="outline-container-org1beb643" class="outline-2">
<h2 id="org1beb643">geiser</h2>
<div class="outline-text-2" id="text-org1beb643">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package geiser
  :ensure t
  :config
  (setq-default geiser-active-implementations '(racket chicken)
                geiser-default-implementation 'racket))
</pre>
</div>
</div>
</div>

<div id="outline-container-org69d204b" class="outline-2">
<h2 id="org69d204b">git</h2>
<div class="outline-text-2" id="text-org69d204b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package counsel
  :ensure t
  :bind (("C-c g" . counsel-git)
         ("C-c j" . counsel-git-grep)))
</pre>
</div>
</div>

<div id="outline-container-org0706002" class="outline-3">
<h3 id="org0706002">GitHub <code>.gitignore</code></h3>
<div class="outline-text-3" id="text-org0706002">
<p>
A simple function to insert starter <code>.gitignore</code> file contents from
the <a href="https://github.com/github/gitignore">github/gitignore</a> repository.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'url)

(defun k20e/gh--gitignore-url (language)
  "Get GitHub .gitignore URL for LANGUAGE."
  (format "https://raw.githubusercontent.com/github/gitignore/master/%s.gitignore"
          (capitalize language)))

(defun k20e/gh--gitignore-get-region (response-buffer)
  "Get GitHub .gitignore response body bounds.
Argument RESPONSE-BUFFER HTTP GET response."
  (with-current-buffer response-buffer
    (goto-char (point-min))
    (let ((start (1+ (search-forward-regexp "^$")))
          (end (point-max)))
      (list start end))))

(defun k20e/gh-gitignore-insert (language)
  "Insert Github .gitignore for LANGUAGE."
  (interactive "sLanguage: ")
  (let* ((response-buffer (url-retrieve-synchronously
                           (k20e/gh--gitignore-url language) t))
         (gitignore-region (k20e/gh--gitignore-get-region response-buffer)))
    (insert-buffer-substring-no-properties
     response-buffer (car gitignore-region) (cadr gitignore-region))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd392510" class="outline-2">
<h2 id="orgd392510">go-mode</h2>
<div class="outline-text-2" id="text-orgd392510">
<p>
Install commands:
</p>

<div class="org-src-container">
<pre class="src src-sh">pushd "${TMPDIR}" &amp;&amp; \
    go install golang.org/x/tools/gopls@latest; \
    go install honnef.co/go/tools/cmd/staticcheck@latest; \
    popd
</pre>
</div>

<p>
Switched from <code>staticcheck</code> to <code>golangci-lint</code> but its install
doesn't recommend <code>go get -u</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  :ensure t
  :bind
  (:map company-active-map
        ("C-n" . 'company-select-next)
        ("C-p" . 'company-select-previous)
        ("C-h" . 'delete-backward-char))
  :config
  (setq company-idle-delay nil
        company-show-quick-access t
        company-tooltip-align-annotations t))

(use-package dash
  :ensure t)

(use-package flycheck
  :ensure t)

(use-package go-mode
  :ensure t
  :bind
  (:map go-mode-map
        ("C-c C-t" . 'k20e/toggle-test-buffer)
        ("C-." . 'company-indent-or-complete-common))
  :custom-face (button ((t (:box nil))))
  :preface
  (defun k20e/go-mode-hook ()
    (message "k20e/go-mode-hook"))
  :hook
  ((before-save . (lambda () (when (eq major-mode 'go-mode)
                          (lsp-format-buffer)
                          (lsp-organize-imports))))
   (go-mode . lsp-deferred)
   (go-mode . k20e/go-mode-hook)
   (go-mode . (lambda ()
                (let ((gopath (string-trim (shell-command-to-string (string-join `(,(executable-find "go") "env" "GOPATH") " "))))
                      (goroot (string-trim (shell-command-to-string (string-join `(,(executable-find "go") "env" "GOROOT") " ")))))
                  (setenv "GOPATH" gopath)
                  (setenv "GOROOT" goroot))
                (setq-local compile-command "go run main.go"))))
  :config
  (setq-default indent-tabs-mode t
                tab-width 4)

  ;; lsp (currently gopls)

  ;; https://github.com/golang/tools/blob/master/gopls/doc/emacs.md#configuring-lsp-mode
  ;; Officially supported settings get first class vars, experimental
  ;; settings are "custom" strings set via
  ;; lsp-register-custom-settings.

  ;; Officially supported settings
  ;; https://github.com/golang/tools/blob/master/gopls/doc/settings.md#officially-supported
  (setq-default lsp-go-directory-filters ["-**/testdata"]
                lsp-go-link-target "pkg.go.dev"
                lsp-go-use-placeholders t)

  ;; Experimental settings
  ;; https://github.com/golang/tools/blob/master/gopls/doc/settings.md
  ;; anything marked as, "This setting is experimental and may be
  ;; deleted."
  (lsp-register-custom-settings '(("gopls.staticcheck" t t)
                                  ("go.inlayHints.assignVariableTypes" t t)
                                  ("go.inlayHints.compositeLiteralFields" t t)
                                  ("go.inlayHints.compositeLiteralTypes" t t )
                                  ("go.inlayHints.constantValues" t t)
                                  ("go.inlayHints.functionTypeParameters" t t)
                                  ("go.inlayHints.parameterNames" t t)
                                  ("go.inlayHints.rangeVariableTypes" t t))))
</pre>
</div>
</div>

<div id="outline-container-org563acdc" class="outline-3">
<h3 id="org563acdc"><code>[0/3]</code> <code>TODO</code></h3>
<div class="outline-text-3" id="text-org563acdc">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Steal some of these <a href="https://github.com/dominikh/yasnippet-go">https://github.com/dominikh/yasnippet-go</a></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://github.com/nlamirault/gotest.el">https://github.com/nlamirault/gotest.el</a></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://github.com/alecthomas/gometalinter">https://github.com/alecthomas/gometalinter</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4f36fa0" class="outline-2">
<h2 id="org4f36fa0">highlight-indent-guides</h2>
<div class="outline-text-2" id="text-org4f36fa0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package highlight-indent-guides
  :ensure t
  :config
  (setq highlight-indent-guides-method 'character
        highlight-indent-guides-responsive 'stack))
</pre>
</div>
</div>
</div>

<div id="outline-container-org96eaba5" class="outline-2">
<h2 id="org96eaba5">highlight-parentheses</h2>
<div class="outline-text-2" id="text-org96eaba5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package highlight-parentheses
  :ensure t
  :hook ((emacs-lisp-mode . highlight-parentheses-mode)
         (lisp-mode-hook . highlight-parentheses-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org93f2519" class="outline-2">
<h2 id="org93f2519">htmlize</h2>
<div class="outline-text-2" id="text-org93f2519">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package htmlize
  :ensure t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org18dcbb0" class="outline-2">
<h2 id="org18dcbb0">hyperspec</h2>
<div class="outline-text-2" id="text-org18dcbb0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Set HyperSpec root in Google Drive.
(defvar common-lisp-hyperspec-root
  (format "file://%s/"
          (expand-file-name "Documents/HyperSpec" k20e/google-drive-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-ibuffer" class="outline-2">
<h2 id="ibuffer">ibuffer</h2>
<div class="outline-text-2" id="text-ibuffer">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'face-remap)

(defalias 'list-buffers 'ibuffer)

(use-package ibuffer
  :custom
  (ibuffer-formats '((mark " "
                           (modified)
                           " "
                           (name 40 40 :right :elide)
                           " "
                           (filename-and-process))
                     (mark " "
                           (filename-and-process 70 70 :left :elide)
                           " "
                           name))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7aa073f" class="outline-2">
<h2 id="org7aa073f">IELM</h2>
<div class="outline-text-2" id="text-org7aa073f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ielm
  :hook ((ielm-mode . eldoc-mode)
         (ielm-mode . paredit-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org55d5108" class="outline-2">
<h2 id="org55d5108">imenu</h2>
<div class="outline-text-2" id="text-org55d5108">
<p>
Re-scan the buffer for new menu items automatically.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package imenu
  :config
  (setq-default imenu-auto-rescan t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f7e35c" class="outline-2">
<h2 id="org2f7e35c">I'm Feeling Lucky</h2>
<div class="outline-text-2" id="text-org2f7e35c">
<p>
This is <a href="https://github.com/krismolendyke/im-feeling-lucky.el">my Google search</a> module.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package im-feeling-lucky
  :ensure nil
  :load-path "site-lisp/im-feeling-lucky.el"
  :bind (("H-l" . ifl-region-or-query)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdec1ee8" class="outline-2">
<h2 id="orgdec1ee8">Ivy</h2>
<div class="outline-text-2" id="text-orgdec1ee8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy
  :ensure t
  :config
  (setq ivy-extra-directories nil
        ivy-use-virtual-buffers t
        ivy-wrap t)
  :bind (("C-c C-r" . ivy-resume)
         ("C-x b" . ivy-switch-buffer)))

(ivy-mode 1)
</pre>
</div>

<blockquote>
<p>
<code>M-j</code> (<code>ivy-yank-word</code>)
</p>

<p>
Inserts the sub-word at point into the minibuffer.
</p>

<p>
This is similar to <code>C-s C-w</code> with <code>isearch</code>. Ivy reserves <code>C-w</code>
for <code>kill-region</code>. &#x2013; <a href="http://oremacs.com/swiper/#minibuffer-key-bindings">Ivy minibuffer key bindings</a>
</p>
</blockquote>

<p>
<code>isearch-forward-word</code> was mapped to <code>w</code> and my muscle memory
requires this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd "C-w") 'ivy-yank-word)
</pre>
</div>

<blockquote>
<p>
<code>C-j</code> (<code>ivy-alt-done</code>)
</p>

<p>
When completing file names, selects the current directory
candidate and starts a new completion session there. Otherwise, it
is the same as <code>ivy-done</code>.
</p>
</blockquote>

<p>
Having to type <code>C-j</code> to go into a directory when finding files is
maddening and I almost never used <code>dired</code>.  Swap <code>RET</code> to go into
directories and <code>C-j</code> to open current directory in <code>dired</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd "RET") 'ivy-alt-done)
(define-key ivy-minibuffer-map (kbd "C-j") 'ivy-done)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb3ec786" class="outline-2">
<h2 id="orgb3ec786">js</h2>
<div class="outline-text-2" id="text-orgb3ec786">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package js
  :mode ("\\.json\\'" . js-mode)
  :hook ((js-mode . flycheck-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbff8700" class="outline-2">
<h2 id="orgbff8700">LaTeX</h2>
<div class="outline-text-2" id="text-orgbff8700">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tex-mode
  :ensure t
  :bind (:map latex-mode-map ("C-j" . join-line)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org46dd084" class="outline-2">
<h2 id="org46dd084">ligature-pragmatapro</h2>
<div class="outline-text-2" id="text-org46dd084">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ligature-pragmatapro
  :ensure t
  :config
  (ligature-pragmatapro-setup)
  (global-ligature-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org947ef5e" class="outline-2">
<h2 id="org947ef5e">lockfiles</h2>
<div class="outline-text-2" id="text-org947ef5e">
<p>
<a href="http://stackoverflow.com/questions/5738170/why-does-emacs-create-temporary-symbolic-links-for-modified-files">Avoid creating temporary symbolic links</a> and disturbing working
directory state at the expense of avoiding editing collisions that I
do not ever anticipate.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq create-lockfiles nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f8c1c8" class="outline-2">
<h2 id="org1f8c1c8">lsp-mode</h2>
<div class="outline-text-2" id="text-org1f8c1c8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  :ensure t
  :config
  (setq-default
   lsp-eldoc-render-all nil
   lsp-enable-snippet nil
   lsp-signature-doc-lines 20           ; limit lines shown in docs
   lsp-enable-links nil                 ; disable clickable links in files
   )
  (set-face-attribute 'lsp-face-highlight-textual nil :underline t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabf9cd3" class="outline-2">
<h2 id="orgabf9cd3">lua-mode</h2>
<div class="outline-text-2" id="text-orgabf9cd3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lua-mode
  :ensure t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0dbb7ec" class="outline-2">
<h2 id="org0dbb7ec">man</h2>
<div class="outline-text-2" id="text-org0dbb7ec">
<p>
Setting a width avoids a possibly (likely) poorly chosen automatic
width.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default Man-width 80)
</pre>
</div>
</div>
</div>

<div id="outline-container-org03c035e" class="outline-2">
<h2 id="org03c035e">markdown-mode</h2>
<div class="outline-text-2" id="text-org03c035e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'markdown-mode)

(defun k20e/markdown-mode-hook ()
  (prettify-symbols-mode 1)
  (setq markdown-open-command "open"))

(add-hook 'markdown-mode-hook 'k20e/markdown-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga98fa85" class="outline-2">
<h2 id="orga98fa85">Minibuffer</h2>
<div class="outline-text-2" id="text-orga98fa85">
<p>
Scale up the minibuffer text size and limit how tall it can get.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/minibuffer-setup-hook ()
  "Bump up minibuffer text size and height."
  (text-scale-set 3)
  (setq max-mini-window-height 20))

(add-hook 'minibuffer-setup-hook 'k20e/minibuffer-setup-hook)
</pre>
</div>

<p>
Set <code>enable-recursive-minibufers</code> to <code>t</code> to allow minibuffers
<i>within</i> minibuffers.  A good use-case of this feature is described
in <a href="http://www.masteringemacs.org/articles/2011/10/19/executing-shell-commands-emacs/">Executing Shell Commands in Emacs</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq enable-recursive-minibuffers t)
</pre>
</div>
</div>

<div id="outline-container-orgaf9d697" class="outline-3">
<h3 id="orgaf9d697">Eval expression minibuffer</h3>
<div class="outline-text-3" id="text-orgaf9d697">
<p>
Enable <code>eldoc</code> in the modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'eldoc)

(defun k20e/eval-expression-minibuffer-setup-hook ()
  (eldoc-mode 1))

(add-hook 'eval-expression-minibuffer-setup-hook
          'k20e/eval-expression-minibuffer-setup-hook)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc453642" class="outline-2">
<h2 id="orgc453642">Mouse</h2>
<div class="outline-text-2" id="text-orgc453642">
<p>
Scroll one line at a time in the "natural" direction:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default mouse-wheel-scroll-amount '(-1 ((shift) . 1) ((meta)) ((control) . text-scale)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6cd358e" class="outline-2">
<h2 id="org6cd358e">multiple-cursors</h2>
<div class="outline-text-2" id="text-org6cd358e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package multiple-cursors
  :ensure t
  :bind (("M-L" . mc/edit-lines)
         ("C-M-." . k20e/mark-next)
         ("C-M-," . k20e/mark-previous)
         ("C-M-&lt;return&gt;" . mc/mark-all-like-this))
  :config
  (defun k20e/mark-next (extended)
    "Wrap multiple-cursors mark-more/next.
Call `mc/mark-next-like-this' without a prefix argument.
Argument EXTENDED Prefix argument to call function
`mc/mark-more-like-this-extended'."
    (interactive "P")
    (if extended
        (call-interactively 'mc/mark-more-like-this-extended)
      (call-interactively 'mc/mark-next-like-this)))

  (defun k20e/mark-previous (extended)
    "Wrap multiple-cursors mark-more/previous.
Call `mc/mark-previous-like-this' without a prefix argument.
Argument EXTENDED Prefix argument to call function
`mc/mark-more-like-this-extended'."
    (interactive "P")
    (if extended
        (call-interactively 'mc/mark-more-like-this-extended)
      (call-interactively 'mc/mark-previous-like-this))))
</pre>
</div>

<p>
Keep preferences sync'd across machines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq mc/list-file (expand-file-name ".mc-lists.el" k20e/google-drive-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-org071e6ea" class="outline-2">
<h2 id="org071e6ea">Open Source Licenses</h2>
<div class="outline-text-2" id="text-org071e6ea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun k20e/insert-mit-license ()
  "Insert MIT license file contents.
Populate the current year and user name."
  (interactive)
  (with-current-buffer (get-buffer-create "LICENSE.txt")
    (insert (format "The MIT License (MIT)

Copyright (c) %s %s

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the \"Software\"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
" (format-time-string "%Y") (user-full-name)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc43a383" class="outline-2">
<h2 id="orgc43a383">org-mode</h2>
<div class="outline-text-2" id="text-orgc43a383">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org
  :custom-face
  (variable-pitch ((t (:family "ETBembo" :height 1.3))))
  (fixed-pitch ((t (:family "PragmataPro Mono Liga" :height 0.9))))
  (org-block ((t (:inherit fixed-pitch))))
  (org-block-begin-line ((t (:inherit fixed-pitch))))
  (org-block-end-line ((t (:inherit fixed-pitch))))
  (org-code ((t (:inherit (shadow fixed-pitch)))))
  (org-date ((t (:inherit (shadow fixed-pitch)))))
  (org-document-info-keyword ((t (:inherit (shadow fixed-pitch)))))
  (org-done ((t (:inherit (shadow fixed-pitch)))))
  (org-drawer ((t (:inherit (shadow fixed-pitch)))))
  (org-ellipsis ((t (:inherit (shadow fixed-pitch))))) ; "CANCELED" for some reason is this
  (org-indent ((t (:inherit (org-hide fixed-pitch)))))
  (org-meta-line ((t (:inherit (font-lock-comment-face fixed-pitch)))))
  (org-property-value ((t (:inherit fixed-pitch))))
  (org-quote ((t (:inherit (shadow)))))
  (org-special-keyword ((t (:inherit (font-lock-comment-face fixed-pitch)))))
  (org-table ((t (:inherit fixed-pitch))))
  (org-tag ((t (:inherit (shadow fixed-pitch)))))
  (org-todo ((t (:inherit (shadow fixed-pitch)))))
  (org-verbatim ((t (:inherit (shadow fixed-pitch)))))
  :hook
  ((org-mode . auto-fill-mode)
   (org-mode . prettify-symbols-mode)
   (org-mode . variable-pitch-mode)
   (org-mode . (lambda ()
                 (visual-line-mode 0)   ; TODO how to do this w/ :hook?

                 ;; Replace '-' w/ fancy dot for bulleted lists
                 (font-lock-add-keywords
                  'org-mode
                  '(("^ *\\([-]\\) "
                     (0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "•"))))))

                 )))
  :config
  (setq org-default-notes-file (expand-file-name "notes.org" org-directory)
        org-directory (expand-file-name "org" k20e/google-drive-directory)
        org-ellipsis "…"
        org-fontify-quote-and-verse-blocks t
        org-fontify-whole-heading-line t
        org-hide-emphasis-markers t
        org-log-redeadline 'time
        org-log-reschedule 'time
        org-outline-path-complete-in-steps nil
        org-pretty-entities t
        org-special-ctrl-a/e t
        org-use-speed-commands t
        truncate-lines nil)
  (setq-default org-adapt-indentation t
                org-goto-interface 'outline-path-completion
                org-startup-folded t)
  (setq-local global-hl-line-mode nil)
  :functions
  company-indent-or-complete-common
  company-select-next
  company-select-previous
  lsp-format-buffer
  lsp-organize-imports
  lsp-register-custom-settings)
</pre>
</div>
</div>

<div id="outline-container-org39df98a" class="outline-3">
<h3 id="org39df98a">UPGRAYEDD</h3>
<div class="outline-text-3" id="text-org39df98a">
<div class="org-src-container">
<pre class="src src-sh">cd ~/.emacs.d/site-lisp/org-mode
g fetch origin --tags
g co -b release_9.1.2 release_9.1.2
make clean
make
cd ~/.emacs.d
g add site-lisp/org-mode
g commit -m "UPGRAYEDD org-mode"
</pre>
</div>

<p>
<a href="https://list.orgmode.org/87wnzfy60h.fsf@bzg.fr/"><code>contrib/</code></a> was split out into a separate repo so that needs to be updated separately.
</p>
</div>
</div>

<div id="outline-container-org871c1f3" class="outline-3">
<h3 id="org871c1f3">Inline Images</h3>
<div class="outline-text-3" id="text-org871c1f3">
<p>
Try to get the width of images displayed inline from a <code>#+ATTR.*</code>
keyword, e.g., <code>#+ATTR_HTML: :width 800px</code>, fall back to original
image width if no attribute keyword is found:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-image-actual-width nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org83a94f8" class="outline-3">
<h3 id="org83a94f8">Key Bindings</h3>
<div class="outline-text-3" id="text-org83a94f8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'ivy)

(global-set-key (kbd "&lt;f12&gt;") 'org-agenda-list)
(global-set-key (kbd "C-c a") 'org-agenda)
(global-set-key (kbd "C-c l") 'org-store-link)
(global-set-key (kbd "C-x c") 'org-switchb)

(define-key org-mode-map (kbd "&lt;return&gt;") 'org-return-indent)
(define-key org-mode-map (kbd "M-&lt;return&gt;") 'org-meta-return)
(define-key org-mode-map (kbd "C-c C-r") 'ivy-resume)
(define-key org-mode-map (kbd "C-j") 'join-line)
(define-key org-mode-map (kbd "C-m") 'org-return-indent)
(define-key org-mode-map (kbd "H-&lt;tab&gt;") 'pcomplete)
(define-key org-mode-map (kbd "M-h") 'backward-kill-word)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3034664" class="outline-3">
<h3 id="org3034664">Export</h3>
<div class="outline-text-3" id="text-org3034664">
<ul class="org-ul">
<li><a href="https://github.com/Zilong-Li/org-tufte">https://github.com/Zilong-Li/org-tufte</a></li>
<li><a href="https://github.com/dakrone/ox-tufte">https://github.com/dakrone/ox-tufte</a></li>
</ul>

<p>
Most non-interactive export settings are defined in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el">a file loaded
during initialization</a>.  Those settings are defined during
initialization time to support a fast batch process for exporting
<i>this</i> document to HTML in a Git <code>post-commit</code> hook.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'k20e-org-html-export)
</pre>
</div>

<p>
Interactive customization can be done here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'ox-publish)

(setq
 ;; Enable "expert" export interface.
 org-export-dispatch-use-expert-ui t

 ;; Continue export when links are broken, but mark them
 org-export-with-broken-links `mark)
</pre>
</div>
</div>

<div id="outline-container-org3fbcbf2" class="outline-4">
<h4 id="org3fbcbf2">Options</h4>
<div class="outline-text-4" id="text-org3fbcbf2">
<p>
A message in <code>*Messages*</code> like:
</p>

<pre class="example" id="org1864469">
user-error: Unable to resolve link: nil
</pre>

<p>
indicates that a link somewhere is malformed.  Adding the option:
</p>

<div class="org-src-container">
<pre class="src src-org">#+OPTIONS: broken-links:mark
</pre>
</div>

<p>
and exporting will insert <code>BROKEN LINK</code> into the HTML document.  Searching for that token makes finding the
offending broken link much easier.  Keeping this option set all the time would let broken links slip through the
export process undetected.
</p>
</div>
</div>

<div id="outline-container-org00faf1b" class="outline-4">
<h4 id="org00faf1b">Backends</h4>
<div class="outline-text-4" id="text-org00faf1b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'ox-md)

(add-to-list 'org-export-backends 'md)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ox-tufte :ensure t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5b0b3b7" class="outline-3">
<h3 id="org5b0b3b7">Publish</h3>
<div class="outline-text-3" id="text-org5b0b3b7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-publish-project-alist
      `(("k20e.com-org-files"
         :base-directory ,(expand-file-name "source" (expand-file-name "k20e.com" k20e/google-drive-directory))
         :base-extension "org"
         :recursive t
         :exclude "ga.org\\|level-0.org\\|todo.org\\|.DS_Store"
         :publishing-directory ,(expand-file-name "published" (expand-file-name "k20e.com" k20e/google-drive-directory))
         :publishing-function org-html-publish-to-html
         :with-planning t)
        ("k20e.com-static-files"
         :base-directory ,(expand-file-name "source" (expand-file-name "k20e.com" k20e/google-drive-directory))
         :base-extension "jpg\\|png\\|ico"
         :recursive t
         :publishing-directory ,(expand-file-name "published" (expand-file-name "k20e.com" k20e/google-drive-directory))
         :publishing-function org-publish-attachment)
        ("k20e.com"
         :components ("k20e.com-org-files" "k20e.com-static-files"))
        ("work-org-files"
         :base-directory ,(expand-file-name "work" org-directory)
         :base-extension "org"
         :publishing-directory ,(expand-file-name "published" (expand-file-name "work" org-directory))
         :publishing-function org-html-publish-to-html
         :with-planning t)
        ("work-static-files"
         :base-directory ,(expand-file-name "work" org-directory)
         :base-extension "pdf\\|csv\\|sql\\|png"
         :publishing-directory ,(expand-file-name "published" (expand-file-name "work" org-directory))
         :publishing-function org-publish-attachment)
        ("work"
         :components ("work-org-files" "work-static-files"))
        ("house-org-files"
         :base-directory ,(expand-file-name "house" org-directory)
         :base-extension "org"
         :recursive t
         :publishing-directory ,(expand-file-name "published" (expand-file-name "house" org-directory))
         :publishing-function org-html-publish-to-html
         :with-planning t)
        ("house-static-files"
         :base-directory ,(expand-file-name "house" org-directory)
         :base-extension "pdf\\|csv\\|png\\|xls\\|doc"
         :recursive t
         :publishing-directory ,(expand-file-name "published" (expand-file-name "house" org-directory))
         :publishing-function org-publish-attachment)
        ("house"
         :components ("house-org-files" "house-static-files"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3e5624" class="outline-3">
<h3 id="orgd3e5624">Babel</h3>
<div class="outline-text-3" id="text-orgd3e5624">
<p>
Define <a href="https://orgmode.org/worg/org-contrib/babel/languages/index.html">which languages</a> <code>org-babel</code> should support.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar k20e/org-babel-load-languages
  '((ditaa . t)
    (emacs-lisp . t)
    (js . t)
    (org . t)
    (python . t)
    (scheme . t)
    (shell . t)
    (sql . t))
  "Languages to evaluate in `org-mode'.")

(org-babel-do-load-languages 'org-babel-load-languages
                             k20e/org-babel-load-languages)
</pre>
</div>

<p>
Disable interactive prompt for executing code blocks.  This is
dangerous but I never execute any org files that I didn't author.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-confirm-babel-evaluate nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org392b7d4" class="outline-3">
<h3 id="org392b7d4"><span class="todo TODO">TODO</span> Items</h3>
<div class="outline-text-3" id="text-org392b7d4">
<p>
Automatically insert a timestamp when a task is marked <code>DONE</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-log-done t)
</pre>
</div>

<p>
Custom keywords and faces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-todo-keywords '((sequence
                           "TODO(t)"
                           "STARTED(s!)"
                           "|"
                           "DONE(d!)"
                           "CANCELED(c@)"))
      org-todo-keyword-faces '(("TODO" . org-todo)
                               ("STARTED" . org-code)
                               ("CANCELED" . org-ellipsis)
                               ("DONE" . org-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0bd530" class="outline-3">
<h3 id="orgc0bd530">Agenda</h3>
<div class="outline-text-3" id="text-orgc0bd530">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'face-remap)
(require 'org)
(require 'org-agenda)
(require 'winner)

(defun k20e/org-agenda-mode-hook ()
  (define-key org-agenda-mode-map (kbd "q")
    (lambda (x)
      (interactive "p")
      (winner-undo)
      (kill-buffer "*Org Agenda*")))
  (delete-other-windows)
  (text-scale-set 2))

(add-hook 'org-agenda-mode-hook 'k20e/org-agenda-mode-hook)
</pre>
</div>
</div>

<div id="outline-container-org4adeb5e" class="outline-4">
<h4 id="org4adeb5e">Files</h4>
<div class="outline-text-4" id="text-org4adeb5e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-agenda-files (list (expand-file-name "work" org-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org992d1a3" class="outline-4">
<h4 id="org992d1a3">Deadlines</h4>
<div class="outline-text-4" id="text-org992d1a3">
<p>
Non-nil means skip scheduling line if same entry shows because of deadline.
</p>

<p>
In the agenda of today, an entry can show up multiple times because it is
both scheduled and has a nearby deadline, and maybe a plain time stamp as
well.
</p>

<p>
When set to t, then only the deadline is shown and the fact that the entry
is scheduled today or was scheduled previously is not shown.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-agenda-skip-scheduled-if-deadline-is-shown nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6544641" class="outline-4">
<h4 id="org6544641">List</h4>
<div class="outline-text-4" id="text-org6544641">
<p>
Default to showing only today in the agenda list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-agenda-span 'day)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgccba3fa" class="outline-3">
<h3 id="orgccba3fa">Habit</h3>
<div class="outline-text-3" id="text-orgccba3fa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'org-habit)

(setq org-habit-completed-glyph ?✓
      org-habit-today-glyph ?|)
</pre>
</div>
</div>
</div>

<div id="outline-container-org954e704" class="outline-3">
<h3 id="org954e704">Logging &amp; Drawers</h3>
<div class="outline-text-3" id="text-org954e704">
<p>
Insert state change notes and time stamps into a drawer rather than simply
"loose" after a headline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-log-into-drawer t)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc972e48" class="outline-3">
<h3 id="orgc972e48">Clock</h3>
<div class="outline-text-3" id="text-orgc972e48">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar org-clock-idle-time 5)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0cd2db7" class="outline-2">
<h2 id="org0cd2db7">paredit-mode</h2>
<div class="outline-text-2" id="text-org0cd2db7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package paredit
  :ensure t
  :bind (:map paredit-mode-map
              ([?\)] . paredit-close-parenthesis)
              ([(meta ?\))] . paredit-close-parenthesis-and-newline)
              ("C-h" . paredit-backward-delete)
              ("C-j" . join-line))
  :hook ((emacs-lisp-mode . paredit-mode)
         (geiser-mode . paredit-mode)
         (geiser-repl-mode . paredit-mode)
         (lisp-mode . paredit-mode)
         (scheme-mode . paredit-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga814efa" class="outline-2">
<h2 id="orga814efa">prettify-symbols-mode</h2>
<div class="outline-text-2" id="text-orga814efa">
<p>
Specific configuration for <a href="https://fsd.it/shop/fonts/pragmatapro/">PragmataPro</a> from
<a href="https://github.com/fabrizioschiavi/pragmatapro/tree/master/emacs_snippets">https://github.com/fabrizioschiavi/pragmatapro/tree/master/emacs_snippets</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package prog-mode
  :config
  (load (expand-file-name "pragmatapro-prettify-symbols-v0.829.el" k20e/elisp-directory))
  :hook ((prog-mode . prettify-hook)))
</pre>
</div>

<ul class="org-ul">
<li><a href="https://blog.jft.rocks/emacs/unicode-for-orgmode-checkboxes.html">https://blog.jft.rocks/emacs/unicode-for-orgmode-checkboxes.html</a></li>
<li><a href="http://www.modernemacs.com/post/prettify-mode/">http://www.modernemacs.com/post/prettify-mode/</a></li>
<li><a href="https://www.emacswiki.org/emacs/DontReadItsName">https://www.emacswiki.org/emacs/DontReadItsName</a></li>
<li><a href="http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html">http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html</a></li>
<li><a href="https://pixelambacht.nl/2015/sans-bullshit-sans/">https://pixelambacht.nl/2015/sans-bullshit-sans/</a></li>
<li><a href="https://github.com/ekaschalk/.spacemacs.d/blob/master/layers/display/local/pretty-fonts/pretty-fonts.el">https://github.com/ekaschalk/.spacemacs.d/blob/master/layers/display/local/pretty-fonts/pretty-fonts.el</a></li>
<li><a href="https://unix.stackexchange.com/questions/247108/how-to-find-out-which-unicode-codepoints-are-defined-in-a-ttf-file">https://unix.stackexchange.com/questions/247108/how-to-find-out-which-unicode-codepoints-are-defined-in-a-ttf-file</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge9b90b2" class="outline-2">
<h2 id="orge9b90b2">python</h2>
<div class="outline-text-2" id="text-orge9b90b2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package blacken :ensure t)

(use-package python
  :ensure t
  :after (flycheck lsp-mode)
  :config
  (setq-default
   lsp-pylsp-plugins-black-enabled t)
  :bind (:map python-mode-map
              ("M-a" . python-nav-beginning-of-statement)
              ("M-e" . python-nav-end-of-statement)
              ("M-n" . python-nav-forward-statement)
              ("M-p" . python-nav-backward-statement)
              ("M-q" . blacken-buffer)
              ("C-M-f" . python-nav-forward-sexp)
              ("C-M-b" . python-nav-backward-sexp)
              ("C-M-n" . python-nav-forward-block)
              ("C-M-p" . python-nav-backward-block))
  :hook ((before-save . (lambda ()
                          (when (eq major-mode 'python-mode)
                            (lsp-organize-imports)
                            (lsp-format-buffer))))
         (python-mode . blacken-mode)
         (python-mode . electric-pair-mode)
         (python-mode . flycheck-mode)
         (python-mode . lsp-deferred)
         (python-mode . prettify-symbols-mode)
         (python-mode . superword-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org81043da" class="outline-2">
<h2 id="org81043da">re-builder</h2>
<div class="outline-text-2" id="text-org81043da">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package re-builder
  :config
  (setq reb-re-syntax 'string))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4326870" class="outline-2">
<h2 id="org4326870">recentf</h2>
<div class="outline-text-2" id="text-org4326870">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'counsel)
(require 'recentf)

(setq recentf-save-file (expand-file-name ".recentf" k20e/google-drive-directory)
      recentf-max-saved-items 250)

(recentf-mode 1)

(global-set-key (kbd "C-x C-r") 'counsel-recentf)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3a17384" class="outline-2">
<h2 id="org3a17384">ripgrep</h2>
<div class="outline-text-2" id="text-org3a17384">
<p>
<a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> via <a href="#counsel">Counsel</a>, defaulting to the thing at point in the nearest
<code>git</code> repository ancestor.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'counsel)

(defun k20e/counsel-rg-project (initial-input)
  "Search using `counsel-rg' from the project root for INITIAL-INPUT."
  (interactive (list (thing-at-point 'symbol)))
  (counsel-rg initial-input (condition-case err
                                (vc-root-dir)
                              (error default-directory))))

(global-set-key (kbd "C-x C-a") 'k20e/counsel-rg-project)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeeb9125" class="outline-2">
<h2 id="orgeeb9125">rust</h2>
<div class="outline-text-2" id="text-orgeeb9125">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck :ensure t)
(use-package flycheck-rust :ensure t)
(use-package rust-mode
  :ensure t
  :config
  (defun k20e/rust-mode-hook ()
    (setq flycheck-checker 'rust
          rust-format-on-save t)
    (flycheck-mode 1)
    (flycheck-rust-setup))
  :hook ((rust-mode . k20e/rust-mode-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org908d995" class="outline-2">
<h2 id="org908d995">savehist</h2>
<div class="outline-text-2" id="text-org908d995">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package savehist
  :config
  (setq savehist-file (expand-file-name ".savehist" k20e/google-drive-directory)))

(savehist-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc628658" class="outline-2">
<h2 id="orgc628658"><code>*scratch*</code></h2>
<div class="outline-text-2" id="text-orgc628658">
<p>
Begin with an empty <code>*scratch*</code> file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq initial-scratch-message nil)
</pre>
</div>

<p>
Set it to Emacs Lisp mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-current-buffer (get-buffer-create "*scratch*")
  (emacs-lisp-mode))
</pre>
</div>
</div>

<div id="outline-container-org72ae708" class="outline-3">
<h3 id="org72ae708">Quickly create new scratch buffers</h3>
<div class="outline-text-3" id="text-org72ae708">
<p>
With a preset list of major modes that I find often need scratch
pads for.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defconst k20e/scratch-buffer-modes
  '(fundamental-mode
    emacs-lisp-mode
    python-mode
    javascript-mode
    org-mode
    sql-mode
    text-mode
    yaml-mode)
  "Common major modes to create scratch buffers for.")

(defun k20e/scratch-buffer ()
  "Generate a new scratch buffer.
Choose from `k20e/scratch-buffer-modes' list of major modes to
enable in the newly created scratch buffer and switch to it."
  (interactive)
  (let ((mode (read (ivy-completing-read "New *scratch* buffer with mode: "
                                         (mapcar (lambda (el) (format "%s" el))
                                                 k20e/scratch-buffer-modes)))))
    (switch-to-buffer (generate-new-buffer (format "*scratch-%s*" mode)))
    (funcall mode)))
</pre>
</div>

<p>
Bind it globally.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "&lt;f10&gt;") 'k20e/scratch-buffer)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2d14b9b" class="outline-2">
<h2 id="org2d14b9b">sh-mode</h2>
<div class="outline-text-2" id="text-org2d14b9b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package sh-script
  :after (flycheck)
  :functions flycheck-select-checker
  :config
  (defun k20e/sh-script-hook ()
    (flycheck-select-checker 'sh-shellcheck))
  :hook ((sh-mode . k20e/sh-script-hook)
         (sh-mode . flycheck-mode)
         (sh-mode . prettify-symbols-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8d9b771" class="outline-2">
<h2 id="org8d9b771">server</h2>
<div class="outline-text-2" id="text-org8d9b771">
<p>
Start the Emacs server if it not already running.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'server)

(unless (server-running-p)
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga7360c4" class="outline-2">
<h2 id="orga7360c4">smex</h2>
<div class="outline-text-2" id="text-orga7360c4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package smex
  :ensure t
  :config
  (smex-initialize)
  (setq-default smex-save-file (expand-file-name ".smex-items" k20e/google-drive-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfae61d9" class="outline-2">
<h2 id="orgfae61d9">sql-mode</h2>
<div class="outline-text-2" id="text-orgfae61d9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package sql
  :config
  (setq sql-product 'mysql
        tab-width 4))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd519ae0" class="outline-2">
<h2 id="orgd519ae0">Swiper</h2>
<div class="outline-text-2" id="text-orgd519ae0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package swiper
  :ensure t
  :bind (("C-s" . swiper)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org223a357" class="outline-2">
<h2 id="org223a357">Theme</h2>
<div class="outline-text-2" id="text-org223a357">
<p>
Always highlight the current line:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package hl-line)
(use-package emacs
  :config
  (global-hl-line-mode t))
</pre>
</div>

<p>
Simple stuff:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package simple)
(use-package emacs
  :config
  (line-number-mode)
  (column-number-mode)
  (size-indication-mode))

</pre>
</div>

<p>
Highlight matching parentheses:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package paren)
(use-package emacs
  :config
  (show-paren-mode))
</pre>
</div>

<p>
Blink the cursor:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package frame)
(use-package emacs
  :config
  (setq-default blink-cursor-mode t))
</pre>
</div>

<p>
Truncate lines and enable fringes to indicate truncated lines:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package fringe)
(use-package emacs
  :config
  (setq-default
   truncate-lines t
   truncate-partial-width-windows nil)
  (fringe-mode))


</pre>
</div>

<p>
No bell:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacs
  :config
  (setq-default ring-bell-function 'ignore))
</pre>
</div>

<p>
Make sure syntax highlighting is enabled:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package font-core)
(use-package emacs
  :config
  (global-font-lock-mode))
</pre>
</div>

<p>
Set theme automatically on MacOS thanks to
<a href="https://github.com/d12frosted/homebrew-emacs-plus#system-appearance-change">https://github.com/d12frosted/homebrew-emacs-plus#system-appearance-change</a>.  Just set it to dark on Linux for now.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package color-theme-sanityinc-tomorrow
  :ensure t
  :config
  (cond ((eq system-type 'darwin)
         (defun k20e/load-theme (mode)
           "Load light or dark theme depending on which mode the system is currently in."
           (pcase mode
             ('light (load-theme 'sanityinc-tomorrow-day t))
             ('dark (load-theme 'sanityinc-tomorrow-bright t))))
         (add-hook 'ns-system-appearance-change-functions 'k20e/load-theme))
        ((string-equal system-type "gnu/linux")
         (load-theme 'sanityinc-tomorrow-bright t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7938fea" class="outline-2">
<h2 id="org7938fea">terraform-mode</h2>
<div class="outline-text-2" id="text-org7938fea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package terraform-mode
  :ensure t
  :hook ((terraform-mode . terraform-format-on-save-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org22b91c0" class="outline-2">
<h2 id="org22b91c0">text-mode</h2>
<div class="outline-text-2" id="text-org22b91c0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package simple
  :hook ((text-mode . auto-fill-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf28db9" class="outline-2">
<h2 id="orgdf28db9">toml-mode</h2>
<div class="outline-text-2" id="text-orgdf28db9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package toml-mode
  :ensure t
  :mode ("Pipfile\\'" . toml-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e11557" class="outline-2">
<h2 id="org6e11557">tramp</h2>
<div class="outline-text-2" id="text-org6e11557">
</div>
<div id="outline-container-org08ec43e" class="outline-3">
<h3 id="org08ec43e"><code>ControlPath</code></h3>
<div class="outline-text-3" id="text-org08ec43e">
<p>
Fix <code>ControlPath too long</code> errors due to OS X pitching a <a href="https://lists.macosforge.org/pipermail/macports-tickets/2011-June/084295.html">long temporary directory</a> to <code>ssh</code>.
</p>

<p>
Unfortunately, setting this is blowing up the <code>server-start</code> which
can no longer find the socket stored in the original <code>TMPDIR</code>
value.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (setenv "TMPDIR" "/tmp")
</pre>
</div>

<p>
Eureka!  It appears that the <code>ControlMaster</code> option for <code>ssh</code>
should be set to <code>yes</code> instead of <code>auto</code> to avoid the <code>ControlPath
   too long</code> error.  Here is the interesting section of <code>man 5
   ssh_config</code>:
</p>

<pre class="example" id="org1fd99bf">
ControlMaster
             Enables the sharing of multiple sessions over a single network connection.  When set to
             ``yes'', ssh(1) will listen for connections on a control socket specified using the
             ControlPath argument.  Additional sessions can connect to this socket using the same
             ControlPath with ControlMaster set to ``no'' (the default).  These sessions will try to reuse
             the master instance's network connection rather than initiating new ones, but will fall back
             to connecting normally if the control socket does not exist, or is not listening.

             Setting this to ``ask'' will cause ssh to listen for control connections, but require confir-
             mation using the SSH_ASKPASS program before they are accepted (see ssh-add(1) for details).
             If the ControlPath cannot be opened, ssh will continue without connecting to a master
             instance.

             X11 and ssh-agent(1) forwarding is supported over these multiplexed connections, however the
             display and agent forwarded will be the one belonging to the master connection i.e. it is not
             possible to forward multiple displays or agents.

             Two additional options allow for opportunistic multiplexing: try to use a master connection
             but fall back to creating a new one if one does not already exist.  These options are:
             ``auto'' and ``autoask''.  The latter requires confirmation like the ``ask'' option.
</pre>

<p>
The <code>tramp-ssh-controlmaster-options</code> variable is responsible for
the <code>ControlMaster</code> value as well as a few other options which have
not been changed from their default values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tramp
  :defines tramp-ssh-controlmaster-options
  :config
  (setq tramp-ssh-controlmaster-options "-o ControlPath=%t.%%r@%%h:%%p -o ControlMaster=yes -o ControlPersist=no"))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6fd2ee7" class="outline-3">
<h3 id="org6fd2ee7">Inline Copying</h3>
<div class="outline-text-3" id="text-org6fd2ee7">
<p>
Do not inline copy files.  This is to avoid <code>File exists, but
   cannot be read</code> errors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default tramp-copy-size-limit -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf4215d" class="outline-3">
<h3 id="orgcf4215d">File Backup</h3>
<div class="outline-text-3" id="text-orgcf4215d">
<p>
Do not backup files edited by <code>tramp</code> to <a href="http://www.gnu.org/software/emacs/manual/html_node/tramp/Auto_002dsave-and-Backup.html">avoid possibly sharing
copies of privileged files with non-privileged users</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'backup-directory-alist (list tramp-file-name-regexp))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd382d4b" class="outline-3">
<h3 id="orgd382d4b">Debugging</h3>
<div class="outline-text-3" id="text-orgd382d4b">
<p>
Level <code>3</code> by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (setq tramp-verbose 6)
</pre>
</div>

<p>
Will create a detailed log buffer.
</p>
</div>
</div>
</div>

<div id="outline-container-org02a2e50" class="outline-2">
<h2 id="org02a2e50">uniquify</h2>
<div class="outline-text-2" id="text-org02a2e50">
<p>
Name multiple identical buffer names in a sensible manner.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package uniquify
  :config
  (setq uniquify-buffer-name-style 'forward))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf036538" class="outline-2">
<h2 id="orgf036538">windmove</h2>
<div class="outline-text-2" id="text-orgf036538">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package windmove
  :config
  (windmove-default-keybindings 'super)
  (setq windmove-wrap-around t)
  :bind (("M-SPC" . windmove-right)
         ("M-S-SPC" . windmove-left)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org719ecbd" class="outline-2">
<h2 id="org719ecbd">web-mode</h2>
<div class="outline-text-2" id="text-org719ecbd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elec-pair
  :functions electric-pair-default-inhibit)

(use-package web-mode
  :ensure t
  :functions flycheck-add-mode
  :after (elec-pair flycheck)
  :mode
  ("\\.html?\\'" . web-mode)
  ("\\.jsx?\\'" . web-mode)
  ("\\.tsx?\\'" . web-mode)
  :config
  (defun k20e/web-mode-hook ()
    (set-default 'web-mode-engines-alist '(("django" . "\\.html?\\'")))
    (setq web-mode-markup-indent-offset 2
          web-mode-enable-auto-quoting nil)

    (flycheck-add-mode 'typescript-tslint 'web-mode)

    ;; Disable pairing { to avoid {{ }}}} from web-mode block templates
    (setq-local electric-pair-inhibit-predicate
                (lambda (c)
                  (if (char-equal c ?{) t (electric-pair-default-inhibit c)))))
  :hook ((web-mode . k20e/web-mode-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org98c1212" class="outline-2">
<h2 id="org98c1212">winner-mode</h2>
<div class="outline-text-2" id="text-org98c1212">
<p>
Remember window configurations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package winner
  :config
  (winner-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org44d3fb6" class="outline-2">
<h2 id="org44d3fb6">whitespace</h2>
<div class="outline-text-2" id="text-org44d3fb6">
<p>
Take care of some whitespace issues.
</p>

<ul class="org-ul">
<li>Kill trailing whitespace on save</li>
<li>Insert a new line at the end of file on save</li>
<li>Prefer <code>space</code> over <code>tab</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package whitespace
  :ensure t
  :config
  (setq-default require-final-newline t
                mode-require-final-newline t
                indent-tabs-mode nil)
  (defun k20e/before-save-hook ()
    (whitespace-cleanup)
    (delete-trailing-whitespace 0 nil))
  :hook ((before-save . k20e/before-save-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc904710" class="outline-2">
<h2 id="orgc904710">yaml-mode</h2>
<div class="outline-text-2" id="text-orgc904710">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck-yamllint
  :ensure t
  :after (flycheck))

(use-package highlight-indent-guides
  :ensure t)

(use-package yaml-mode
  :ensure t
  :after (flycheck-yamllint flyspell highlight-indent-guides)
  :bind (:map yaml-mode-map ("C-m" . newline-and-indent))
  :config
  (defun k20e/yaml-mode-hook ()
    (flycheck-select-checker 'yaml-yamllint)
    (flycheck-yamllint-setup)
    (flyspell-mode-off))
  :hook ((yaml-mode . k20e/yaml-mode-hook)
         (yaml-mode . flycheck-mode)
         (yaml-mode . highlight-indent-guides-mode)
         (yaml-mode . prettify-symbols-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ecf9b8" class="outline-2">
<h2 id="org7ecf9b8">zig-mode</h2>
<div class="outline-text-2" id="text-org7ecf9b8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package zig-mode
  :ensure t
  :bind
  (:map zig-mode-map ("C-." . 'company-indent-or-complete-common))
  :functions
  lsp-register-client
  make-lsp-client
  :hook
  ((before-save . (lambda () (when (eq major-mode 'zig-mode)
                          (lsp-format-buffer))))
   (zig-mode . company-mode)
   (zig-mode . lsp-deferred))
  :custom (zig-format-on-save nil)
  :config
  (lsp-register-client
   (make-lsp-client
    :major-modes '(zig-mode)
    :server-id 'zls)))
</pre>
</div>

<p>
<code>zig config</code> then modified a bit to arrive at:
</p>

<div class="org-src-container">
<pre class="src src-js">{
  "enable_semantic_tokens": true,
  "enable_snippets": true,
  "include_at_in_builtins": false,
  "include_at_in_builtins": true,
  "max_detail_length": 1048576,
  "operator_completions": true,
  "warn_style": true,
  "zig_exe_path": "/bin/zig",
  "zig_lib_path": "/usr/lib/zig"
}
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Kris Molendyke</p>
<p class="date">2023-11-05 Sun 07:43</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.1 (<a href="https://orgmode.org">Org</a> mode 9.6.11)</p>
</div>
</body>
</html>
