<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-11-05 Sun 07:52 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Literate =.emacs.d=</title>
<meta name="author" content="Kris Molendyke" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
<!--/*--><![CDATA[/*><!--*/
/* Tufte CSS tweaks */
section p, section footer, section table {
    width: 55%;
}

/* Sidenote work-around */
sup.numeral {
    display: none;
}

/* inline */
code {
    padding: 1px 2px;
}

pre.src {
    margin-left: 2.5%;
}

code, pre {
    border-radius: 3px;
    font-family: 'Roboto Mono', monospace;
    overflow: scroll;
}

/* Gross !important here because Tufte CSS likes to override font-size for source blocks nested in a bunch of elements, e.g., dl, ol, ul */
.org-src-container {
    font-size: 15px !important;
}

/*

All style below has been generated by calling
org-html-htmlize-generate-css and selecting style for elements other
than body or by calling htmlize-buffer and desired style.

*/
.org-builtin {
  color: #70c0b1;
}
.org-comment {
  color: #969896;
  font-style: italic;
}
.org-keyword {
  color: #c397d8;
}
.org-type {
  color: #e7c547;
}
.org-comment {
  /* font-lock-comment-face */
  color: #969896;
  font-style: italic;
}
.org-comment-delimiter {
  /* font-lock-comment-delimiter-face */
  color: #969896;
  font-style: italic;
}
.org-keyword {
  /* font-lock-keyword-face */
  color: #b294bb;
}
.org-constant {
  /* font-lock-constant-face */
  color: #8abeb7;
}
.org-doc {
  /* font-lock-doc-face */
  color: #969896;
}
.org-function-name {
  /* font-lock-function-name-face */
  color: #81a2be;
}
.org-string {
  /* font-lock-string-face */
  color: #b5bd68;
}
.org-variable-name {
  /* font-lock-variable-name-face */
  color: #de935f;
}
.org-border-glyph {
}
.org-c-annotation {
  /* c-annotation-face */
  color: #8abeb7;
}
.org-c-nonbreakable-space {
  /* c-nonbreakable-space-face */
  background-color: #cc6666;
  font-weight: bold;
}
.org-clojure-braces {
  /* clojure-braces */
  color: #b5bd68;
}
.org-clojure-brackets {
  /* clojure-brackets */
  color: #f0c674;
}
.org-clojure-double-quote {
  /* clojure-double-quote */
  color: #8abeb7;
}
.org-clojure-java-call {
  /* clojure-java-call */
  color: #b294bb;
}
.org-clojure-keyword {
  /* clojure-keyword */
  color: #f0c674;
}
.org-clojure-parens {
  /* clojure-parens */
  color: #c5c8c6;
}
.org-clojure-special {
  /* clojure-special */
  color: #81a2be;
}
.org-clojure-test-error {
  /* clojure-test-error-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-failure {
  /* clojure-test-failure-face */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-clojure-test-success {
  /* clojure-test-success-face */
  text-decoration: underline;
}
.org-compilation-error {
  /* compilation-error */
  color: #cc6666;
}
.org-compilation-info {
  /* compilation-info */
  color: #b5bd68;
}
.org-compilation-warning {
  /* compilation-warning */
  color: #de935f;
}
.org-css-property {
  /* css-property */
  color: #de935f;
}
.org-css-selector {
  /* css-selector */
  color: #81a2be;
}
.org-csv-separator {
  /* csv-separator-face */
  color: #de935f;
}
.org-diff-added {
  /* diff-added */
  color: #b5bd68;
}
.org-diff-changed {
  /* diff-changed */
  color: #f0c674;
}
.org-diff-file-header {
  /* diff-file-header */
  background-color: #373b41;
}
.org-diff-header {
  /* diff-header */
  background-color: #282a2e;
}
.org-diff-hunk-header {
  /* diff-hunk-header */
  color: #b294bb;
  background-color: #282a2e;
}
.org-diff-removed {
  /* diff-removed */
  color: #cc6666;
}
.org-dired-directory {
  /* dired-directory */
  color: #81a2be;
}
.org-dired-flagged {
  /* dired-flagged */
  color: #cc6666;
}
.org-dired-header {
  /* dired-header */
  color: #f0c674;
}
.org-dired-ignored {
  /* dired-ignored */
  color: #969896;
}
.org-dired-mark {
  /* dired-mark */
  color: #8abeb7;
}
.org-dired-marked {
  /* dired-marked */
  color: #de935f;
}
.org-dired-perm-write {
  /* dired-perm-write */
  color: #969896;
  font-style: italic;
}
.org-dired-symlink {
  /* dired-symlink */
  color: #b294bb;
}
.org-dired-warning {
  /* dired-warning */
  color: #cc6666;
  font-weight: bold;
}
.org-diredp-compressed-file-suffix {
  /* diredp-compressed-file-suffix */
  color: #81a2be;
}
.org-diredp-dir-heading {
  /* diredp-dir-heading */
  color: #f0c674;
}
.org-diredp-dir-priv {
  /* diredp-dir-priv */
  color: #8abeb7;
}
.org-diredp-exec-priv {
  /* diredp-exec-priv */
  color: #81a2be;
}
.org-diredp-executable-tag {
  /* diredp-executable-tag */
  color: #cc6666;
}
.org-diredp-file-name {
  /* diredp-file-name */
  color: #f0c674;
}
.org-diredp-file-suffix {
  /* diredp-file-suffix */
  color: #b5bd68;
}
.org-diredp-flag-mark-line {
  /* diredp-flag-mark-line */
  background-color: #b5bd68;
}
.org-diredp-ignored-file-name {
  /* diredp-ignored-file-name */
  color: #969896;
}
.org-diredp-link-priv {
  /* diredp-link-priv */
  color: #b294bb;
}
.org-diredp-mode-line-flagged {
  /* diredp-mode-line-flagged */
  color: #cc6666;
}
.org-diredp-mode-line-marked {
  /* diredp-mode-line-marked */
  color: #b5bd68;
}
.org-diredp-no-priv {
}
.org-diredp-number {
  /* diredp-number */
  color: #f0c674;
}
.org-diredp-other-priv {
  /* diredp-other-priv */
  color: #b294bb;
}
.org-diredp-rare-priv {
  /* diredp-rare-priv */
  color: #cc6666;
}
.org-diredp-read-priv {
  /* diredp-read-priv */
  color: #b5bd68;
}
.org-diredp-symlink {
  /* diredp-symlink */
  color: #b294bb;
}
.org-diredp-write-priv {
  /* diredp-write-priv */
  color: #f0c674;
}
.org-doc-string {
  /* font-lock-doc-string-face */
  color: #f0c674;
}
.org-ediff-even-diff-a {
}
.org-ediff-even-diff-b {
}
.org-ediff-odd-diff-a {
  /* ediff-odd-diff-A */
  color: #969896;
}
.org-ediff-odd-diff-b {
  /* ediff-odd-diff-B */
  color: #969896;
}
.org-eldoc-highlight-function-argument {
  /* eldoc-highlight-function-argument */
  color: #b5bd68;
  font-weight: bold;
}
.org-flycheck-error {
  /* flycheck-error-face */
  color: #cc6666;
}
.org-flycheck-warning {
  /* flycheck-warning-face */
  color: #de935f;
}
.org-flymake-errline {
  /* flymake-errline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flymake-warnline {
  /* flymake-warnline */
  background-color: #1d1f21;
  text-decoration: underline;
}
.org-flyspell-duplicate {
  /* flyspell-duplicate */
  text-decoration: underline;
}
.org-flyspell-incorrect {
  /* flyspell-incorrect */
  text-decoration: underline;
}
.org-font-latex-bold {
  /* font-latex-bold-face */
  color: #b5bd68;
}
.org-font-latex-doctex-documentation {
  /* font-latex-doctex-documentation-face */
  background-color: #282a2e;
}
.org-font-latex-italic {
  /* font-latex-italic-face */
  color: #b5bd68;
}
.org-font-latex-math {
  /* font-latex-math-face */
  color: #de935f;
}
.org-font-latex-sectioning-0 {
  /* font-latex-sectioning-0-face */
  color: #f0c674;
}
.org-font-latex-sectioning-1 {
  /* font-latex-sectioning-1-face */
  color: #f0c674;
}
.org-font-latex-sectioning-2 {
  /* font-latex-sectioning-2-face */
  color: #f0c674;
}
.org-font-latex-sectioning-3 {
  /* font-latex-sectioning-3-face */
  color: #f0c674;
}
.org-font-latex-sectioning-4 {
  /* font-latex-sectioning-4-face */
  color: #f0c674;
}
.org-font-latex-sectioning-5 {
  /* font-latex-sectioning-5-face */
  color: #f0c674;
}
.org-font-latex-sedate {
  /* font-latex-sedate-face */
  color: #8abeb7;
}
.org-font-latex-string {
  /* font-latex-string-face */
  color: #f0c674;
}
.org-font-latex-verbatim {
  /* font-latex-verbatim-face */
  color: #de935f;
}
.org-font-latex-warning {
  /* font-latex-warning-face */
  color: #cc6666;
}
.org-git-commit-branch {
  /* git-commit-branch-face */
  color: #de935f;
}
.org-git-commit-comment-action {
  /* git-commit-comment-action-face */
  color: #de935f;
}
.org-git-commit-comment-file {
  /* git-commit-comment-file-face */
  color: #b5bd68;
}
.org-git-commit-comment-heading {
  /* git-commit-comment-heading-face */
  color: #b294bb;
}
.org-git-commit-known-pseudo-header {
  /* git-commit-known-pseudo-header-face */
  color: #b294bb;
}
.org-git-commit-no-branch {
  /* git-commit-no-branch-face */
  color: #de935f;
}
.org-git-commit-nonempty-second-line {
  /* git-commit-nonempty-second-line-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-note {
  /* git-commit-note-face */
  color: #b5bd68;
}
.org-git-commit-overlong-summary {
  /* git-commit-overlong-summary-face */
  color: #cc6666;
  font-weight: bold;
}
.org-git-commit-pseudo-header {
  /* git-commit-pseudo-header-face */
  color: #b5bd68;
}
.org-git-commit-summary {
  /* git-commit-summary-face */
  color: #f0c674;
}
.org-gui-element {
  /* gui-element */
  color: #c5c8c6;
  background-color: #282a2e;
}
.org-hl-line {
  /* hl-line */
  background-color: #282a2e;
}
.org-ido-first-match {
  /* ido-first-match */
  color: #de935f;
  font-weight: bold;
}
.org-ido-incomplete-regexp {
  /* ido-incomplete-regexp */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-indicator {
  /* ido-indicator */
  color: #cc6666;
  background-color: #1d1f21;
}
.org-ido-only-match {
  /* ido-only-match */
  color: #cc6666;
  font-weight: bold;
}
.org-ido-subdir {
  /* ido-subdir */
  color: #969896;
}
.org-ido-virtual {
  /* ido-virtual */
  color: #969896;
}
.org-info-header-node {
  /* info-header-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-header-xref {
  /* info-header-xref */
  text-decoration: underline;
}
.org-info-index-match {
  /* info-index-match */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-info-menu-header {
  /* info-menu-header */
  font-weight: bold;
}
.org-info-menu-star {
  /* info-menu-star */
  color: #ff0000;
}
.org-info-node {
  /* info-node */
  color: #ffffff;
  font-weight: bold;
  font-style: italic;
}
.org-info-title-1 {
  /* info-title-1 */
  font-size: 172%;
  font-weight: bold;
}
.org-info-title-2 {
  /* info-title-2 */
  font-size: 144%;
  font-weight: bold;
}
.org-info-title-3 {
  /* info-title-3 */
  font-size: 120%;
  font-weight: bold;
}
.org-info-title-4 {
  /* info-title-4 */
  font-weight: bold;
}
.org-info-xref {
  /* info-xref */
  text-decoration: underline;
}
.org-linum {
  /* linum */
  background-color: #282a2e;
}
.org-magit-branch {
  /* magit-branch */
  color: #b5bd68;
}
.org-makefile-makepp-perl {
  /* makefile-makepp-perl */
  background-color: #00008b;
}
.org-makefile-shell {
}
.org-makefile-space {
  /* makefile-space */
  background-color: #ff69b4;
}
.org-makefile-targets {
  /* makefile-targets */
  color: #81a2be;
}
.org-mcXcursor {
}
.org-mcXregion {
  /* mc/region-face */
  background-color: #5c5c5c;
}
.org-mmm-code-submode {
  /* mmm-code-submode-face */
  background-color: #282a2e;
}
.org-mmm-comment-submode {
  /* mmm-comment-submode-face */
  color: #969896;
  font-style: italic;
}
.org-mmm-output-submode {
  /* mmm-output-submode-face */
  background-color: #282a2e;
}
.org-nrepl-error {
  /* nrepl-error-face */
  color: #b5bd68;
}
.org-nrepl-error-highlight {
  /* nrepl-error-highlight-face */
  color: #cc6666;
  font-weight: bold;
  text-decoration: underline;
}
.org-nrepl-input {
  /* nrepl-input-face */
  font-weight: bold;
}
.org-nrepl-output {
  /* nrepl-output-face */
  color: #b5bd68;
}
.org-nrepl-prompt {
  /* nrepl-prompt-face */
  color: #b294bb;
}
.org-nrepl-result {
}
.org-org-agenda-calendar-event {
  /* org-agenda-calendar-event */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-calendar-sexp {
  /* org-agenda-calendar-sexp */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-clocking {
  /* org-agenda-clocking */
  background-color: #282a2e;
}
.org-org-agenda-column-dateline {
  /* org-agenda-column-dateline */
  background-color: #282a2e;
}
.org-org-agenda-current-time {
  /* org-agenda-current-time */
  color: #eedd82;
}
.org-org-agenda-date-today {
  /* org-agenda-date-today */
  color: #81a2be;
  font-weight: bold;
  font-style: italic;
}
.org-org-agenda-date-weekend {
  /* org-agenda-date-weekend */
  color: #81a2be;
  font-weight: bold;
}
.org-org-agenda-diary {
  /* org-agenda-diary */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-agenda-filter-category {
  /* org-agenda-filter-category */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-regexp {
  /* org-agenda-filter-regexp */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-filter-tags {
  /* org-agenda-filter-tags */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-agenda-restriction-lock {
  /* org-agenda-restriction-lock */
  background-color: #1C1C1C;
}
.org-org-archived {
  /* org-archived */
  color: #969896;
}
.org-org-block-background {
}
.org-org-block-begin-line {
  /* org-block-begin-line */
  color: #969896;
  font-style: italic;
}
.org-org-block-end-line {
  /* org-block-end-line */
  color: #969896;
  font-style: italic;
}
.org-org-checkbox {
  /* org-checkbox */
  font-weight: bold;
}
.org-org-checkbox-statistics-done {
  /* org-checkbox-statistics-done */
  color: #b5bd68;
}
.org-org-checkbox-statistics-todo {
  /* org-checkbox-statistics-todo */
  color: #cc6666;
}
.org-org-clock-overlay {
  /* org-clock-overlay */
  background-color: #4a708b;
}
.org-org-date-selected {
  /* org-date-selected */
  color: #ffc0cb;
}
.org-org-default {
  /* org-default */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-org-drawer {
  /* org-drawer */
  color: #87cefa;
}
.org-org-headline-done {
  /* org-headline-done */
  color: #ffa07a;
}
.org-org-latex-and-related {
  /* org-latex-and-related */
  color: #deb887;
}
.org-org-level-1 {
  /* org-level-1 */
  color: #81a2be;
}
.org-org-level-2 {
  /* org-level-2 */
  color: #de935f;
}
.org-org-level-3 {
  /* org-level-3 */
  color: #b294bb;
}
.org-org-level-4 {
  /* org-level-4 */
  color: #969896;
}
.org-org-level-5 {
  /* org-level-5 */
  color: #f0c674;
}
.org-org-level-6 {
  /* org-level-6 */
  color: #8abeb7;
}
.org-org-level-7 {
  /* org-level-7 */
  color: #8abeb7;
}
.org-org-level-8 {
  /* org-level-8 */
  color: #b5bd68;
}
.org-org-list-dt {
  /* org-list-dt */
  font-weight: bold;
}
.org-org-macro {
  /* org-macro */
  color: #deb887;
}
.org-org-meta-line {
  /* org-meta-line */
  color: #969896;
  font-style: italic;
}
.org-org-mode-line-clock {
  /* org-mode-line-clock */
  color: #c5c8c6;
  background-color: #373b41;
}
.org-org-mode-line-clock-overrun {
  /* org-mode-line-clock-overrun */
  color: #c5c8c6;
  background-color: #ff0000;
}
.org-org-priority {
  /* org-priority */
  color: #b294bb;
}
.org-org-property-value {
}
.org-org-quote {
  /* org-quote */
  color: #de935f;
}
.org-org-sexp-date {
  /* org-sexp-date */
  color: #00ffff;
}
.org-org-tag {
  /* org-tag */
  font-weight: bold;
}
.org-org-tag-group {
  /* org-tag-group */
  font-weight: bold;
}
.org-org-target {
  /* org-target */
  text-decoration: underline;
}
.org-org-time-grid {
  /* org-time-grid */
  color: #eedd82;
}
.org-org-verbatim {
  /* org-verbatim */
  color: #969896;
}
.org-org-verse {
  /* org-verse */
  color: #de935f;
}
.org-outline-1 {
  /* outline-1 */
  color: #81a2be;
}
.org-outline-2 {
  /* outline-2 */
  color: #de935f;
}
.org-outline-3 {
  /* outline-3 */
  color: #b294bb;
}
.org-outline-4 {
  /* outline-4 */
  color: #969896;
}
.org-outline-5 {
  /* outline-5 */
  color: #f0c674;
}
.org-outline-6 {
  /* outline-6 */
  color: #8abeb7;
}
.org-outline-7 {
  /* outline-7 */
  color: #8abeb7;
}
.org-outline-8 {
  /* outline-8 */
  color: #b5bd68;
}
.org-paren {
  /* paren-face */
  color: #969896;
}
.org-paren-face-match {
  /* paren-face-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-paren-face-mismatch {
  /* paren-face-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-paren-face-no-match {
  /* paren-face-no-match */
  color: #282a2e;
  background-color: #de935f;
}
.org-powerline-active1 {
  /* powerline-active1 */
  color: #c5c8c6;
  background-color: #383838;
}
.org-powerline-active2 {
  /* powerline-active2 */
  color: #c5c8c6;
  background-color: #666666;
}
.org-powerline-inactive1 {
  /* powerline-inactive1 */
  color: #c5c8c6;
  background-color: #1c1c1c;
}
.org-powerline-inactive2 {
  /* powerline-inactive2 */
  color: #c5c8c6;
  background-color: #333333;
}
.org-rainbow-delimiters-depth-1 {
  /* rainbow-delimiters-depth-1-face */
  color: #b294bb;
}
.org-rainbow-delimiters-depth-2 {
  /* rainbow-delimiters-depth-2-face */
  color: #81a2be;
}
.org-rainbow-delimiters-depth-3 {
  /* rainbow-delimiters-depth-3-face */
  color: #8abeb7;
}
.org-rainbow-delimiters-depth-4 {
  /* rainbow-delimiters-depth-4-face */
  color: #b5bd68;
}
.org-rainbow-delimiters-depth-5 {
  /* rainbow-delimiters-depth-5-face */
  color: #f0c674;
}
.org-rainbow-delimiters-depth-6 {
  /* rainbow-delimiters-depth-6-face */
  color: #de935f;
}
.org-rainbow-delimiters-depth-7 {
  /* rainbow-delimiters-depth-7-face */
  color: #cc6666;
}
.org-rainbow-delimiters-depth-8 {
  /* rainbow-delimiters-depth-8-face */
  color: #969896;
}
.org-rainbow-delimiters-depth-9 {
  /* rainbow-delimiters-depth-9-face */
  color: #c5c8c6;
}
.org-rainbow-delimiters-unmatched {
  /* rainbow-delimiters-unmatched-face */
  color: #cc6666;
}
.org-sgml-namespace {
  /* sgml-namespace */
  color: #8abeb7;
}
.org-sh-escaped-newline {
  /* sh-escaped-newline */
  color: #b5bd68;
}
.org-sh-heredoc {
  /* sh-heredoc */
  color: #b5bd68;
}
.org-sh-quoted-exec {
  /* sh-quoted-exec */
  color: #b294bb;
}
.org-show-paren-match {
  /* show-paren-match */
  color: #282a2e;
  background-color: #81a2be;
}
.org-show-paren-mismatch {
  /* show-paren-mismatch */
  color: #282a2e;
  background-color: #de935f;
}
.org-slime-highlight-edits {
  /* slime-highlight-edits-face */
  font-weight: bold;
}
.org-slime-repl-input {
}
.org-slime-repl-output {
  /* slime-repl-output-face */
  color: #81a2be;
  background-color: #1d1f21;
}
.org-slime-repl-prompt {
  /* slime-repl-prompt-face */
  color: #b294bb;
  font-weight: bold;
}
.org-slime-repl-result {
  /* slime-repl-result-face */
  color: #b5bd68;
}
.org-term {
  /* term */
  color: #c5c8c6;
  background-color: #1d1f21;
}
.org-term-bold {
  /* term-bold */
  font-weight: bold;
}
.org-term-color-black {
  /* term-color-black */
  color: #000000;
  background-color: #000000;
}
.org-term-color-blue {
  /* term-color-blue */
  color: #0000ee;
  background-color: #0000ee;
}
.org-term-color-cyan {
  /* term-color-cyan */
  color: #00cdcd;
  background-color: #00cdcd;
}
.org-term-color-green {
  /* term-color-green */
  color: #00cd00;
  background-color: #00cd00;
}
.org-term-color-magenta {
  /* term-color-magenta */
  color: #cd00cd;
  background-color: #cd00cd;
}
.org-term-color-red {
  /* term-color-red */
  color: #cd0000;
  background-color: #cd0000;
}
.org-term-color-white {
  /* term-color-white */
  color: #ffffff;
  background-color: #ffffff;
}
.org-term-color-yellow {
  /* term-color-yellow */
  color: #cdcd00;
  background-color: #cdcd00;
}
.org-term-underline {
  /* term-underline */
  text-decoration: underline;
}
.org-undo-tree-visualizer-active-branch {
  /* undo-tree-visualizer-active-branch-face */
  color: #cc6666;
}
.org-undo-tree-visualizer-current {
  /* undo-tree-visualizer-current-face */
  color: #b5bd68;
  font-weight: bold;
}
.org-undo-tree-visualizer-default {
  /* undo-tree-visualizer-default-face */
  color: #c5c8c6;
}
.org-undo-tree-visualizer-register {
  /* undo-tree-visualizer-register-face */
  color: #f0c674;
}
.org-which-func {
  /* which-func */
  color: #81a2be;
  font-weight: bold;
}
.org-whitespace-empty {
  /* whitespace-empty */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-hspace {
  /* whitespace-hspace */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-indentation {
  /* whitespace-indentation */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-line {
  /* whitespace-line */
  color: #b294bb;
  background-color: #282a2e;
}
.org-whitespace-newline {
  /* whitespace-newline */
  color: #969896;
}
.org-whitespace-space {
  /* whitespace-space */
  color: #969896;
  background-color: #282a2e;
}
.org-whitespace-space-after-tab {
  /* whitespace-space-after-tab */
  color: #cc6666;
  background-color: #f0c674;
}
.org-whitespace-space-before-tab {
  /* whitespace-space-before-tab */
  color: #cc6666;
  background-color: #de935f;
}
.org-whitespace-tab {
  /* whitespace-tab */
  color: #969896;
  background-color: #373b41;
}
.org-whitespace-trailing {
  /* whitespace-trailing */
  color: #f0c674;
  background-color: #cc6666;
}
.org-widget-button-pressed {
  /* widget-button-pressed */
  color: #ff0000;
}
.org-widget-documentation {
  /* widget-documentation */
  color: #32cd32;
}
.org-widget-inactive {
  /* widget-inactive */
  color: #969896;
}
.org-widget-single-line-field {
  /* widget-single-line-field */
  background-color: #696969;
}
.org-yaml-tab {
  /* yaml-tab-face */
  color: #ff0000;
  background-color: #ff0000;
  font-weight: bold;
}
.org-nxml-attribute-local-name {
    /* nxml-attribute-local-name */
    color: #e78c45;
}
.org-nxml-attribute-value {
    /* nxml-attribute-value */
    color: #b9ca4a;
}
.org-nxml-attribute-value-delimiter {
    /* nxml-attribute-value-delimiter */
    color: #b9ca4a;
}
.org-nxml-element-local-name {
    /* nxml-element-local-name */
    color: #7aa6da;
}
.org-nxml-entity-ref-delimiter {
    /* nxml-entity-ref-delimiter */
    color: #70c0b1;
}
.org-nxml-entity-ref-name {
    /* nxml-entity-ref-name */
    color: #70c0b1;
}
.org-nxml-markup-declaration-delimiter {
}
.org-nxml-processing-instruction-content {
    /* nxml-processing-instruction-content */
    color: #969896;
}
.org-nxml-processing-instruction-delimiter {
}
.org-nxml-processing-instruction-target {
    /* nxml-processing-instruction-target */
    color: #c397d8;
}
.org-nxml-prolog-keyword {
    /* nxml-prolog-keyword */
    color: #c397d8;
}
.org-nxml-prolog-literal-content {
    /* nxml-prolog-literal-content */
    color: #969896;
}
.org-nxml-prolog-literal-delimiter {
    /* nxml-prolog-literal-delimiter */
    color: #969896;
}
.org-nxml-tag-delimiter {
}
.org-nxml-tag-slash {
}
.org-nxml-text {
}
/*]]>*/-->
</style>
<link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono' rel='stylesheet'>
<link href='https://edwardtufte.github.io/tufte-css/tufte.min.css' rel='stylesheet' type='text/css' />
</head>
<body>
<div id="content" class="content">
<h1 class="title">Literate <code>.emacs.d</code></h1>
<p class="subtitle">Kris Molendyke</p>

<div class="epigraph" id="org33873fe">
<blockquote>
<p>
<a href="http://www.literateprogramming.com/">Literate programming</a> is a methodology that combines a programming language
with a documentation language, thereby making programs more robust, more
portable, more easily maintained, and arguably more fun to write than programs
that are written only in a high-level language. The main idea is to treat a
program as a piece of literature, addressed to human beings rather than to a
computer. The program is also viewed as a hypertext document, rather like the
World Wide Web. (Indeed, I used the word WEB for this purpose long before CERN
grabbed it!)
</p>
</blockquote>

</div>

<p>
All configuration described here is performed in an <a href="https://github.com/krismolendyke/.emacs.d/blob/0d5a5434ff79d48ab613fc433d0ae2443c552665/init.el#L88"><code>after-init-hook</code></a>
function.
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#build-emacs">Build Emacs</a>
<ul>
<li><a href="#org30b2b24">Emacs Source Directory</a></li>
</ul>
</li>
<li><a href="#how-this-works">How this works</a>
<ul>
<li><a href="#org921f45d">HTML Export <code>post-commit</code> Hook</a></li>
</ul>
</li>
<li><a href="#org4d9a86b">use-package</a></li>
<li><a href="#org03d8d65">Performance Tuning</a>
<ul>
<li><a href="#org6068559">GC</a></li>
<li><a href="#org8591687">Process Output</a></li>
</ul>
</li>
<li><a href="#orgee9103a">Global GNU Emacs Key Bindings</a>
<ul>
<li><a href="#orgdeea437">Unset</a></li>
<li><a href="#org2dba926">Set</a></li>
</ul>
</li>
<li><a href="#org80945fd">k20e Defaults</a>
<ul>
<li><a href="#org187c283">Apropos</a></li>
<li><a href="#orgdb65656">Backup Files</a></li>
<li><a href="#org525ed1b">Enabled Commands</a></li>
<li><a href="#org07bfa29">Inferior Shell</a></li>
<li><a href="#org295e805"><span class="todo TODO">TODO</span> Defaults for Review</a></li>
</ul>
</li>
<li><a href="#org369e895">k20e Custom Functions</a>
<ul>
<li><a href="#org5767867">Editing</a></li>
<li><a href="#org89ee386">Buffers</a></li>
<li><a href="#org8f48f09">Windows</a></li>
<li><a href="#org4f4e5d0">Networking</a></li>
<li><a href="#orgbc902c9">Lunar 🌙</a></li>
</ul>
</li>
<li><a href="#org347b0ed">auto-fill</a></li>
<li><a href="#orgc9d88dc">auto-package-update</a></li>
<li><a href="#org7024c90">auto-save</a></li>
<li><a href="#orgce15e71">avy</a></li>
<li><a href="#org760813e">buffer-move</a></li>
<li><a href="#orgd2dcf10">C</a></li>
<li><a href="#org608eb06">clock-face</a></li>
<li><a href="#org9cd0892">compilation-mode</a></li>
<li><a href="#counsel">Counsel</a></li>
<li><a href="#orgde0e9ef">dired</a></li>
<li><a href="#org0cc64a5">electric-pair-mode</a></li>
<li><a href="#orga49a5a4">emacs-lisp-mode</a></li>
<li><a href="#org712dd92">expand-region</a></li>
<li><a href="#orgef914db">find-file-in-project</a></li>
<li><a href="#flycheck">flycheck</a></li>
<li><a href="#orga8e29b3">flyspell</a>
<ul>
<li><a href="#install-aspell">Install <code>aspell</code></a></li>
</ul>
</li>
<li><a href="#orge60e6d8">Fonts</a>
<ul>
<li><a href="#org349ca9e">Unicode</a></li>
</ul>
</li>
<li><a href="#org24d5c73">font-awesome</a></li>
<li><a href="#orgbf420c8">geiser</a></li>
<li><a href="#org9e9a01c">git</a>
<ul>
<li><a href="#org4519eaa">GitHub <code>.gitignore</code></a></li>
</ul>
</li>
<li><a href="#org0a64abe">go-mode</a>
<ul>
<li><a href="#org8c0f80b"><code>[0/3]</code> <code>TODO</code></a></li>
</ul>
</li>
<li><a href="#orgb7c2285">highlight-indent-guides</a></li>
<li><a href="#orgd436a82">highlight-parentheses</a></li>
<li><a href="#orgf7a571c">htmlize</a></li>
<li><a href="#org3d7d9d0">hyperspec</a></li>
<li><a href="#ibuffer">ibuffer</a></li>
<li><a href="#org8effa36">IELM</a></li>
<li><a href="#orgb7df9e6">imenu</a></li>
<li><a href="#org3f4edf6">I'm Feeling Lucky</a></li>
<li><a href="#org0069518">Ivy</a></li>
<li><a href="#org19bfcb0">js</a></li>
<li><a href="#org652a2bc">LaTeX</a></li>
<li><a href="#org27c99ff">ligature-pragmatapro</a></li>
<li><a href="#orga6570a4">lockfiles</a></li>
<li><a href="#org80a5756">lsp-mode</a></li>
<li><a href="#orgf935bf3">lua-mode</a></li>
<li><a href="#org5587241">man</a></li>
<li><a href="#orgb39a313">markdown-mode</a></li>
<li><a href="#org3471776">Minibuffer</a>
<ul>
<li><a href="#orga402924">Eval expression minibuffer</a></li>
</ul>
</li>
<li><a href="#org426b4b8">Mouse</a></li>
<li><a href="#org60ddb62">multiple-cursors</a></li>
<li><a href="#orga272c16">Open Source Licenses</a></li>
<li><a href="#orgbb515d9">org-mode</a>
<ul>
<li><a href="#org23c011a">UPGRAYEDD</a></li>
<li><a href="#orgbac86ca">Inline Images</a></li>
<li><a href="#orgfaa5f0d">Key Bindings</a></li>
<li><a href="#orgd015e87">Export</a></li>
<li><a href="#org8fde16a">Publish</a></li>
<li><a href="#orgf5efacd">Babel</a></li>
<li><a href="#orgf3a5bd8"><span class="todo TODO">TODO</span> Items</a></li>
<li><a href="#org8ebc867">Agenda</a></li>
<li><a href="#org5a0a05d">Habit</a></li>
<li><a href="#org5e6b5ed">Logging &amp; Drawers</a></li>
<li><a href="#org51a4c8b">Clock</a></li>
</ul>
</li>
<li><a href="#org358bc95">paredit-mode</a></li>
<li><a href="#org0fb6e75">prettify-symbols-mode</a></li>
<li><a href="#org5b9b7e5">python</a></li>
<li><a href="#orgbb98a75">re-builder</a></li>
<li><a href="#orgc1fda56">recentf</a></li>
<li><a href="#orge9c2ee6">ripgrep</a></li>
<li><a href="#orga66481b">rust</a></li>
<li><a href="#orgd6c7f7f">savehist</a></li>
<li><a href="#org9b408e2"><code>*scratch*</code></a>
<ul>
<li><a href="#orga8943b1">Quickly create new scratch buffers</a></li>
</ul>
</li>
<li><a href="#org32bc302">sh-mode</a></li>
<li><a href="#org29d5ef8">server</a></li>
<li><a href="#orgfa7f900">smex</a></li>
<li><a href="#org9c270f5">sql-mode</a></li>
<li><a href="#orga9de2ac">Swiper</a></li>
<li><a href="#org920593c">Theme</a></li>
<li><a href="#org48ddfb6">terraform-mode</a></li>
<li><a href="#orga5a85ee">text-mode</a></li>
<li><a href="#org0a9afbd">toml-mode</a></li>
<li><a href="#org240e447">tramp</a>
<ul>
<li><a href="#orgf159171"><code>ControlPath</code></a></li>
<li><a href="#org5309f59">Inline Copying</a></li>
<li><a href="#org0f7d039">File Backup</a></li>
<li><a href="#org145ca39">Debugging</a></li>
</ul>
</li>
<li><a href="#org1ad6acd">uniquify</a></li>
<li><a href="#orgefcef9a">windmove</a></li>
<li><a href="#org3c7968e">web-mode</a></li>
<li><a href="#org296a93a">winner-mode</a></li>
<li><a href="#orgd8d937c">whitespace</a></li>
<li><a href="#org93ed463">yaml-mode</a></li>
<li><a href="#org9180e6d">zig-mode</a></li>
</ul>
</div>
</div>

<div id="outline-container-build-emacs" class="outline-2">
<h2 id="build-emacs">Build Emacs</h2>
<div class="outline-text-2" id="text-build-emacs">
<p>
I primarily use Emacs locally on Apple hardware.  Most, if not all,
of the remote editing that I do is done via <code>tramp</code>.  I keep an eye
on the <a href="http://git.savannah.gnu.org/cgit/emacs.git/log/">log</a> at the official Emacs <a href="http://git-scm.com/">git</a> <a href="http://git.savannah.gnu.org/cgit/emacs.git/">repository</a>.  When something
interesting lands there I will build a fresh Emacs installation via
<a href="http://brew.sh/">Homebrew</a> and try it out.
</p>

<div class="org-src-container">
<pre class="src src-sh">brew info emacs
</pre>
</div>

<p>
I install Emacs with the following options.  The standard Homebrew
installation has lost a lot of MacOS customization flags over the
years so I've switched to the <a href="https://github.com/d12frosted/homebrew-emacs-plus">Emacs Plus</a> formula instead.  First,
tap that keg:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew tap d12frosted/emacs-plus
</pre>
</div>

<p>
And then install:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install emacs-plus@29
</pre>
</div>
</div>

<div id="outline-container-org30b2b24" class="outline-3">
<h3 id="org30b2b24">Emacs Source Directory</h3>
<div class="outline-text-3" id="text-org30b2b24">
<p>
<code>source-directory</code> is helpful to have set properly when exploring built-in
<i>C functions</i> via <code>find-function</code>.
</p>

<p>
Finding the source code directory via Homebrew can be done with the
following command:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">echo</span> $(<span class="org-sh-quoted-exec">brew --cache</span>)/emacs*
</pre>
</div>

<pre class="example">
/Library/Caches/Homebrew/emacs--git
</pre>


<p>
<i>Note</i>: <code>source-directory</code> must be set during Emacs initialization time to
persist.  See <a href="https://github.com/krismolendyke/.emacs.d/blob/1241a848cee7dadfa0c719643925fa0a7b86f476/init.el#L84-L86"><code>init.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-how-this-works" class="outline-2">
<h2 id="how-this-works">How this works</h2>
<div class="outline-text-2" id="text-how-this-works">
<p>
The <a href="https://github.com/krismolendyke/.emacs.d/blob/master/init.el"><code>init.el</code></a> file bootstraps the entire process.  It is found by
Emacs automatically if it is located in one of several well-defined
locations.
</p>

<blockquote>
<p>
When Emacs is started, it normally tries to load a Lisp program from
an "initialization file", or "init file" for short.  This file, if
it exists, specifies how to initialize Emacs for you.  Emacs looks
for your init file using the filenames `~/.emacs', `~/.emacs.el', or
`~/.emacs.d/init.el'; you can choose to use any one of these three
names (*note Find Init::).  Here, `~/' stands for your home
directory.
</p>
</blockquote>

<p>
Once it's found, <code>init.el</code> sets "global" variables and defines
several functions to be executed <i>during</i> initialization and one
that should be executed <i>after</i> initialization has completed.
<code>k20e/after-init-hook</code> is a hook run after initialization.  The most
interesting bit of this function is the call to
<code>org-babel-load-file</code>:
</p>

<blockquote>
<p>
(org-babel-load-file FILE &amp;optional COMPILE)
</p>

<p>
Load Emacs Lisp source code blocks in the Org-mode FILE. This
function exports the source code using `org-babel-tangle' and then
loads the resulting file using `load-file'.  With prefix arg
(noninteractively: 2nd arg) COMPILE the tangled Emacs Lisp file to
byte-code before it is loaded.
</p>
</blockquote>

<p>
This function invocation exports all <a href="http://orgmode.org/manual/Working-With-Source-Code.html#Working-With-Source-Code"><code>org-mode</code> source blocks</a> in any
<code>org-mode</code> files in the <code>.emacs.d</code> directory to a single Emacs Lisp
file and then instructs Emacs to load that file.  <a href="https://github.com/krismolendyke/.emacs.d/blob/master/custom.org"><code>custom.org</code></a> is
the biggest of those <code>org-mode</code> files and … <i>this</i> is that file!
</p>
</div>

<div id="outline-container-org921f45d" class="outline-3">
<h3 id="org921f45d">HTML Export <code>post-commit</code> Hook</h3>
<div class="outline-text-3" id="text-org921f45d">
<p>
This <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git <code>post-commit</code> hook</a> is located at <code>.git/hooks/post-commit</code>
and automatically generates the HTML content of this <a href="https://pages.github.com/">GitHub Pages</a>
site.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/</span><span class="org-keyword">sh</span>

emacs --batch <span class="org-sh-escaped-newline">\</span>
      --directory <span class="org-string">'~/.emacs.d/site-lisp/org-mode/lisp'</span> <span class="org-sh-escaped-newline">\</span>
      --load <span class="org-string">'~/.emacs.d/elisp/k20e-org-html-export.el'</span> <span class="org-sh-escaped-newline">\</span>
      --visit <span class="org-string">'~/.emacs.d/custom.org'</span> <span class="org-sh-escaped-newline">\</span>
      --execute <span class="org-string">'(org-html-export-to-html)'</span> 2&gt;&amp;1
rm -f *~
git checkout gh-pages
mv custom.html index.html
git add index.html
git commit --message <span class="org-string">"post-commit hook regeneration."</span>
git checkout master
</pre>
</div>

<p>
All of the interesting customization of the exported document is
performed in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el"><code>elisp/k20e-org-html-export.el</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-org4d9a86b" class="outline-2">
<h2 id="org4d9a86b">use-package</h2>
<div class="outline-text-2" id="text-org4d9a86b">
<p>
Before <code>use-package</code> I had 70 packages installed and
<code>emacs-init-time</code> was <code>"8.678111 seconds"</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">eval-when-compile</span> (<span class="org-keyword">require</span> '<span class="org-constant">use-package</span>))

(<span class="org-keyword">use-package</span> <span class="org-constant">package</span>
  <span class="org-builtin">:config</span>
  (add-to-list 'package-archives '(<span class="org-string">"melpa"</span> . <span class="org-string">"https://melpa.org/packages/"</span>) t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org03d8d65" class="outline-2">
<h2 id="org03d8d65">Performance Tuning</h2>
<div class="outline-text-2" id="text-org03d8d65">
<p>
Mucking with these solely based on output from <code>lsp-doctor</code> and its
recommendations since I use this all day writing Go programs.
</p>
</div>

<div id="outline-container-org6068559" class="outline-3">
<h3 id="org6068559">GC</h3>
<div class="outline-text-3" id="text-org6068559">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">eval-when-compile</span>
  (<span class="org-keyword">let</span> ((mib (expt 2 20)))
    (<span class="org-keyword">setq</span> gc-cons-threshold (* 500 mib))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8591687" class="outline-3">
<h3 id="org8591687">Process Output</h3>
<div class="outline-text-3" id="text-org8591687">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">eval-when-compile</span>
  (<span class="org-keyword">let</span> ((mib (expt 2 20)))
    (<span class="org-keyword">setq</span> read-process-output-max (* 1 mib))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgee9103a" class="outline-2">
<h2 id="orgee9103a">Global GNU Emacs Key Bindings</h2>
<div class="outline-text-2" id="text-orgee9103a">
<p>
These global key bindings override <i>built-in</i> functions only.
Package-specific or custom function defunition key bindings are made in
their own dedicated sections where other specific settings are made.
</p>
</div>

<div id="outline-container-orgdeea437" class="outline-3">
<h3 id="orgdeea437">Unset</h3>
<div class="outline-text-3" id="text-orgdeea437">
<p>
OS X annoyance &#x2013; <code>C-M-d</code> is a "hot key" bound to dictionary lookup
and masks the key binding in Emacs.  <a href="http://apple.stackexchange.com/questions/22785/how-do-i-disable-the-command-control-d-word-definition-keyboard-shortcut-in-os-x/114269#114269">Disabling it</a> can currently
only be done by editing a default <i>and restarting</i>.
</p>

<div class="org-src-container">
<pre class="src src-sh">defaults write com.apple.symbolichotkeys AppleSymbolicHotKeys <span class="org-sh-escaped-newline">\</span>
         -dict-add 70 <span class="org-string">'&lt;dict&gt;&lt;key&gt;enabled&lt;/key&gt;&lt;false/&gt;&lt;/dict&gt;'</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-unset-key (kbd <span class="org-string">"&lt;f1&gt; h"</span>))
(global-unset-key (kbd <span class="org-string">"&lt;f11&gt;"</span>))
(global-unset-key (kbd <span class="org-string">"C-h"</span>))
(global-unset-key (kbd <span class="org-string">"C-q"</span>))
(global-unset-key (kbd <span class="org-string">"M-`"</span>))
(global-unset-key (kbd <span class="org-string">"M-c"</span>))
(global-unset-key (kbd <span class="org-string">"M-h"</span>))
(global-unset-key (kbd <span class="org-string">"M-u"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2dba926" class="outline-3">
<h3 id="org2dba926">Set</h3>
<div class="outline-text-3" id="text-org2dba926">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"&lt;f1&gt; F"</span>) 'find-function)
(global-set-key (kbd <span class="org-string">"&lt;f1&gt; V"</span>) 'find-variable)
(global-set-key (kbd <span class="org-string">"&lt;f6&gt;"</span>) 'k20e/font-toggle-proportional)
(global-set-key (kbd <span class="org-string">"&lt;f7&gt;"</span>) 'previous-error) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9664;&#9664;</span>
(global-set-key (kbd <span class="org-string">"&lt;f9&gt;"</span>) 'next-error) <span class="org-comment-delimiter">;; </span><span class="org-comment">&#9654;&#9654;</span>
(global-set-key (kbd <span class="org-string">"C-M-;"</span>) 'comment-line)
(global-set-key (kbd <span class="org-string">"C-S-h"</span>) 'kill-whole-line)
(global-set-key (kbd <span class="org-string">"C-c DEL"</span>) 'join-line)
(global-set-key (kbd <span class="org-string">"C-h"</span>) 'delete-backward-char)
(global-set-key (kbd <span class="org-string">"C-j"</span>) 'join-line)
(global-set-key (kbd <span class="org-string">"C-x C-t"</span>) 'transpose-lines)
(global-set-key (kbd <span class="org-string">"H-h H-f"</span>) 'find-function)
(global-set-key (kbd <span class="org-string">"H-h H-v"</span>) 'find-variable)
(global-set-key (kbd <span class="org-string">"H-t"</span>) 'toggle-frame-fullscreen)
(global-set-key (kbd <span class="org-string">"M-+"</span>) 'text-scale-adjust)
(global-set-key (kbd <span class="org-string">"M-."</span>) 'imenu)
(global-set-key (kbd <span class="org-string">"M-/"</span>) 'hippie-expand)
(global-set-key (kbd <span class="org-string">"M-`"</span>) 'other-window)
(global-set-key (kbd <span class="org-string">"M-h"</span>) 'backward-kill-word)
(global-set-key (kbd <span class="org-string">"M-t"</span>) 'transpose-words)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org80945fd" class="outline-2">
<h2 id="org80945fd">k20e Defaults</h2>
<div class="outline-text-2" id="text-org80945fd">
</div>
<div id="outline-container-org187c283" class="outline-3">
<h3 id="org187c283">Apropos</h3>
<div class="outline-text-3" id="text-org187c283">
<p>
Sort by relevancy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> apropos-sort-by-scores t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdb65656" class="outline-3">
<h3 id="orgdb65656">Backup Files</h3>
<div class="outline-text-3" id="text-orgdb65656">
<p>
Back up files to a single location.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/backup-dir</span> (expand-file-name <span class="org-string">"backup"</span> user-emacs-directory)
  <span class="org-doc">"A single directory for storing backup files within."</span>)

(<span class="org-keyword">unless</span> (file-exists-p k20e/backup-dir) (make-directory k20e/backup-dir))

(<span class="org-keyword">setq</span> backup-by-copying t
      backup-directory-alist `((<span class="org-string">"."</span> . ,k20e/backup-dir))
      delete-old-versions t
      version-control t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org525ed1b" class="outline-3">
<h3 id="org525ed1b">Enabled Commands</h3>
<div class="outline-text-3" id="text-org525ed1b">
<p>
Commands disabled by default prompt at first use.  Enabling
commands disables the prompt.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/enabled-commands</span>
  '(downcase-region
    upcase-region
    narrow-to-region
    narrow-to-page
    scroll-left
    scroll-right)
  <span class="org-doc">"Normally disabled commands."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/enable-commands</span> ()
  <span class="org-doc">"Enabled normally disabled commands."</span>
  (<span class="org-keyword">dolist</span> (command k20e/enabled-commands)
    (put command 'disabled nil)))

(k20e/enable-commands)
</pre>
</div>
</div>
</div>

<div id="outline-container-org07bfa29" class="outline-3">
<h3 id="org07bfa29">Inferior Shell</h3>
<div class="outline-text-3" id="text-org07bfa29">
<p>
Defaulting to <code>sh</code> seems to work well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> shell-file-name <span class="org-string">"/bin/sh"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org295e805" class="outline-3">
<h3 id="org295e805"><span class="todo TODO">TODO</span> Defaults for Review</h3>
<div class="outline-text-3" id="text-org295e805">
<p>
This is a bunch of stuff that I just dumped here and need to go through yet.
</p>

<p>
Show the active region and delete it when selected if a character
is inserted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(transient-mark-mode t)
(delete-selection-mode 1)
</pre>
</div>

<p>
"Electric" indentation is generally what I consider to be sensible.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(electric-indent-mode)
</pre>
</div>

<p>
Cycle through the mark ring faster.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> set-mark-command-repeat-pop t)
</pre>
</div>

<p>
Splitting windows horizontally makes more sense on all of the wide
screen monitors I work on.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> split-width-threshold 81)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">What's going on here?</span>
(<span class="org-keyword">setq</span> echo-keystrokes 0.1)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Automatically reload buffers when files change on disk.</span>
(global-auto-revert-mode 1)

<span class="org-comment-delimiter">;; </span><span class="org-comment">y is the new yes.  n is the new no.</span>
(<span class="org-keyword">defalias</span> '<span class="org-function-name">yes-or-no-p</span> 'y-or-n-p)
</pre>
</div>

<p>
Stuff in review from <a href="https://www.masteringemacs.org/article/whats-new-in-emacs-28-1">https://www.masteringemacs.org/article/whats-new-in-emacs-28-1</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span>
 completions-detailed t
 describe-bindings-outline t
 mode-line-compact t
 next-error-message-highlight t
 frame-title-format '(multiple-frames <span class="org-string">"%b"</span> (<span class="org-string">"%b\t%f"</span>)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org369e895" class="outline-2">
<h2 id="org369e895">k20e Custom Functions</h2>
<div class="outline-text-2" id="text-org369e895">
<p>
I have found these to be useful enough to keep around permanently.
</p>
</div>

<div id="outline-container-org5767867" class="outline-3">
<h3 id="org5767867">Editing</h3>
<div class="outline-text-3" id="text-org5767867">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-current-line</span> (arg)
  <span class="org-doc">"Mark the current line.</span>
<span class="org-doc">If the mark is already set simply move the point forward a single</span>
<span class="org-doc">line.  If it is not set, set it at the beginning of the current</span>
<span class="org-doc">line and then move the point forward a single line."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"p"</span>)
  (<span class="org-keyword">unless</span> mark-active
    (beginning-of-line)
    (set-mark (point)))
  (forward-line arg))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/open-line-below</span> (arg)
  <span class="org-doc">"Insert a new line below the current line."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"p"</span>)
  (end-of-line)
  (newline arg)
  (indent-for-tab-command))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/open-line-above</span> (arg)
  <span class="org-doc">"Insert a new line above the current line."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"p"</span>)
  (beginning-of-line)
  (newline arg)
  (forward-line (- 0 arg))
  (indent-for-tab-command))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Inspired by http://whattheemacsd.com/key-bindings.el-01.html</span>
(<span class="org-keyword">use-package</span> <span class="org-constant">display-line-numbers</span> <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/goto-line</span> ()
  <span class="org-doc">"Show line numbers and prompt for a line number to go to.</span>
<span class="org-doc">Restore previous state of displaying line numbers."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> display-line-numbers-mode
    (call-interactively 'goto-line)
    (<span class="org-keyword">unwind-protect</span>
        (<span class="org-keyword">progn</span>
          (<span class="org-keyword">setq</span> display-line-numbers t)
          (call-interactively 'goto-line))
      (<span class="org-keyword">setq</span> display-line-numbers nil))))

</pre>
</div>

<p>
This one is stolen from <a href="https://github.com/magnars/.emacs.d/blob/e56e71ce0f0791c7237192a049f29c2de686409a/defuns/lisp-defuns.el">magnars</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/eval-and-replace</span> ()
  <span class="org-doc">"Replace the preceding sexp with its value."</span>
  (<span class="org-keyword">interactive</span>)
  (backward-kill-sexp)
  (<span class="org-keyword">condition-case</span> nil
      (prin1 (eval (read (current-kill 0)))
             (current-buffer))
    (<span class="org-warning">error</span> (message <span class="org-string">"Invalid expression"</span>)
           (insert (current-kill 0)))))
</pre>
</div>

<p>
Bind editing functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"M-l"</span>) 'k20e/mark-current-line)
(global-set-key (kbd <span class="org-string">"&lt;M-return&gt;"</span>) 'k20e/open-line-below)
(global-set-key (kbd <span class="org-string">"&lt;M-S-return&gt;"</span>) 'k20e/open-line-above)
(global-set-key [remap goto-line] 'k20e/goto-line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org89ee386" class="outline-3">
<h3 id="org89ee386">Buffers</h3>
<div class="outline-text-3" id="text-org89ee386">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/display-buffer-file-name</span> ()
  <span class="org-doc">"Message the full path to the currently visited file."</span>
  (<span class="org-keyword">interactive</span>)
  (message <span class="org-string">"%s"</span> (buffer-file-name)))
</pre>
</div>
</div>

<div id="outline-container-orgb43b650" class="outline-4">
<h4 id="orgb43b650">Toggle Source/Test Buffer</h4>
<div class="outline-text-4" id="text-orgb43b650">
<p>
If this gets any smarter it should be refactored into its own
package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/test-buffer-p</span> ()
  <span class="org-doc">"Is the current buffer a test buffer?</span>
<span class="org-doc">This function na&#239;vely assumes that the file name suffix '</span><span class="org-doc"><span class="org-constant">_test</span></span><span class="org-doc">'</span>
<span class="org-doc">is indicative of a test file."</span>
  (string-suffix-p
   <span class="org-string">"_test"</span>
   (file-name-sans-extension (buffer-file-name))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/switch-to-test-buffer</span> ()
  <span class="org-doc">"Switch to the test buffer associated with the current source buffer.</span>
<span class="org-doc">FIX: when &gt;1 buffer w/ same name this is wrong because the buffer</span>
<span class="org-doc">name is prepended w/ dir name or whatever"</span>
  (<span class="org-keyword">let</span> ((d (file-name-directory (buffer-file-name)))
        (f (format <span class="org-string">"%s_test.%s"</span>
                    (file-name-sans-extension (buffer-name))
                    (file-name-extension (buffer-file-name)))))
    (find-file (expand-file-name f d))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/switch-to-source-buffer</span> ()
  <span class="org-doc">"Switch to the source buffer associated with the current test buffer."</span>
  (<span class="org-keyword">let</span> ((e (file-name-extension (buffer-file-name)))
        (f (car (split-string (file-name-sans-extension (buffer-file-name))
                              <span class="org-string">"_test"</span>))))
    (find-file (format <span class="org-string">"%s.%s"</span> f e))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/toggle-test-buffer</span> ()
  <span class="org-doc">"Toggle between a source and test buffer.</span>
<span class="org-doc">This function na&#239;vely assumes that the file name suffix '</span><span class="org-doc"><span class="org-constant">_test</span></span><span class="org-doc">'</span>
<span class="org-doc">is indicative of a test file.  Therefore it should only be useful</span>
<span class="org-doc">in major modes where that convention is expected."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> (k20e/test-buffer-p)
      (k20e/switch-to-source-buffer)
    (k20e/switch-to-test-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf552fc7" class="outline-4">
<h4 id="orgf552fc7">Widescreen</h4>
<div class="outline-text-4" id="text-orgf552fc7">
<p>
When working on a widescreen monitor it can be useful to have
windows arranged a bit differently than they would on smaller
monitors.  In particular, a function like <code>fit-window-to-buffer</code>
which adjusts the window's width is helpful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/get-longest-line-length</span> ()
  <span class="org-doc">"Get the length of the longest line in the selected window."</span>
  (<span class="org-keyword">save-excursion</span>
    (goto-char (point-min))
    (<span class="org-keyword">let</span> ((max-length 0)
          (last-line (count-lines (point-min) (point-max))))
      (<span class="org-keyword">while</span> (&lt;= (line-number-at-pos) last-line)
        (<span class="org-keyword">setq</span> max-length (max max-length (- (line-end-position) (line-beginning-position))))
        (forward-line))
      (1+ max-length))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/fit-window-to-buffer-horizontally</span> ()
  <span class="org-doc">"Fit the selected window to the width of its longest line.</span>
<span class="org-doc">Return the window width delta."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let*</span> ((current-width (window-width))
         (longest-line (k20e/get-longest-line-length))
         (delta (* -1 (- current-width longest-line))))
    (<span class="org-keyword">if</span> (zerop (window-resizable (selected-window) delta t)) nil
      (window-resize (selected-window) delta t))
    delta))

(global-set-key (kbd <span class="org-string">"C-x w"</span>) 'k20e/fit-window-to-buffer-horizontally)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8f48f09" class="outline-3">
<h3 id="org8f48f09">Windows</h3>
<div class="outline-text-3" id="text-org8f48f09">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">ivy</span> <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">defun</span> <span class="org-function-name">split-window-right-and-balance-and-go-there-and-switch-buffer</span> (<span class="org-type">&amp;optional</span> arg)
  <span class="org-doc">"Optional argument ARG Prefix argument will switch buffer using ivy."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
  (split-window-right)
  (balance-windows-area)
  (windmove-right)
  (<span class="org-keyword">if</span> arg
      (ivy-switch-buffer)
    (switch-to-buffer nil)))

(<span class="org-keyword">defun</span> <span class="org-function-name">delete-window-and-balance</span> ()
  <span class="org-doc">"Balance windows after deleting."</span>
  (<span class="org-keyword">interactive</span>)
  (delete-window)
  (balance-windows-area))
</pre>
</div>

<p>
Bind window functions:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"C-x 0"</span>) 'delete-window-and-balance)
(global-set-key (kbd <span class="org-string">"C-x 3"</span>) 'split-window-right-and-balance-and-go-there-and-switch-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f4e5d0" class="outline-3">
<h3 id="org4f4e5d0">Networking</h3>
<div class="outline-text-3" id="text-org4f4e5d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">net-utils</span> <span class="org-builtin">:ensure</span> t)
(<span class="org-keyword">use-package</span> <span class="org-constant">tramp</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:commands</span> tramp-parse-shosts)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/known-hosts</span> ()
  <span class="org-doc">"Get a host name from ~./ssh/known_hosts file."</span>
  (completing-read <span class="org-string">"host: "</span>
                   (<span class="org-keyword">let</span> ((value))
                     (<span class="org-keyword">dolist</span> (elt (tramp-parse-shosts <span class="org-string">"~/.ssh/known_hosts"</span>) value)
                       (<span class="org-keyword">if</span> elt (<span class="org-keyword">setq</span> value (cons (cadr elt) value)))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/host-ip</span> ()
  <span class="org-doc">"Insert the current IP of a host using `</span><span class="org-doc"><span class="org-constant">dns-lookup-program</span></span><span class="org-doc">'.</span>
<span class="org-doc">Similar to but simpler than `</span><span class="org-doc"><span class="org-constant">dns-lookup-host</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((host (k20e/known-hosts)))
    (insert (car (last (split-string (shell-command-to-string
                                      (concat dns-lookup-program <span class="org-string">" "</span> host))))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc902c9" class="outline-3">
<h3 id="orgbc902c9">Lunar 🌙</h3>
<div class="outline-text-3" id="text-orgbc902c9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">calendar</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">lunar</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/full-moons-info</span> ()
  <span class="org-doc">"Get a list of upcoming full moons info beginning with the current month.</span>
<span class="org-doc">See `</span><span class="org-doc"><span class="org-constant">lunar-phase-list</span></span><span class="org-doc">' and `</span><span class="org-doc"><span class="org-constant">lunar-phase-name</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">let*</span> ((current-date (calendar-current-date))
         (current-month (car current-date))
         (current-year (car (last current-date)))
         (full-moon-phase-index 2)
         (k20e/full-moons-info '()))
    (<span class="org-keyword">dolist</span> (phase (lunar-phase-list current-month current-year))
      (<span class="org-keyword">if</span> (= (car (last phase)) full-moon-phase-index)
          (<span class="org-keyword">setq</span> k20e/full-moons-info (cons phase k20e/full-moons-info))))
    (reverse k20e/full-moons-info)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/full-moons</span> ()
  <span class="org-doc">"Display upcoming full moons beginning with the current month."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">with-output-to-temp-buffer</span> <span class="org-string">"*full-moons*"</span>
    (princ
     (mapconcat
      #'(<span class="org-keyword">lambda</span> (x)
          (format <span class="org-string">"%s %s"</span> (calendar-date-string (car x)) (car (cdr x))))
      (k20e/full-moons-info)
      <span class="org-string">"\n"</span>))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org347b0ed" class="outline-2">
<h2 id="org347b0ed">auto-fill</h2>
<div class="outline-text-2" id="text-org347b0ed">
<p>
When to turn on auto-fill and set fill-column to a reasonable value.  This
would probably be better dealt with by a data structure that maps mode hooks
to fill-column values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> fill-column 118))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9d88dc" class="outline-2">
<h2 id="orgc9d88dc">auto-package-update</h2>
<div class="outline-text-2" id="text-orgc9d88dc">
<ul class="org-ul">
<li><a href="https://github.com/rranelli/auto-package-update.el">https://github.com/rranelli/auto-package-update.el</a></li>
<li><a href="https://github.com/jwiegley/use-package#package-installation">https://github.com/jwiegley/use-package#package-installation</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">auto-package-update</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> auto-package-update-delete-old-versions t
                auto-package-update-interval 7
                auto-package-update-prompt-before-update t
                auto-package-update-show-preview t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7024c90" class="outline-2">
<h2 id="org7024c90">auto-save</h2>
<div class="outline-text-2" id="text-org7024c90">
<p>
Disable <code>auto-save</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> auto-save-default nil
        auto-save-timeout 0))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce15e71" class="outline-2">
<h2 id="orgce15e71">avy</h2>
<div class="outline-text-2" id="text-orgce15e71">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">avy</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"s-g"</span> . avy-goto-char-timer))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span>
   avy-keys '(?a ?o ?e ?u ?i ?d ?h ?t ?n)
   avy-all-windows nil
   avy-style 'at-full))
</pre>
</div>
</div>
</div>

<div id="outline-container-org760813e" class="outline-2">
<h2 id="org760813e">buffer-move</h2>
<div class="outline-text-2" id="text-org760813e">
<p>
Move the current buffer up/down/left/right easily.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">buffer-move</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-S-&lt;up&gt;"</span> . buf-move-up)
     (<span class="org-string">"M-S-&lt;down&gt;"</span> . buf-move-down)
     (<span class="org-string">"M-S-&lt;left&gt;"</span> . buf-move-left)
     (<span class="org-string">"M-S-&lt;right&gt;"</span> . buf-move-right)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2dcf10" class="outline-2">
<h2 id="orgd2dcf10">C</h2>
<div class="outline-text-2" id="text-orgd2dcf10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">cc-mode</span>
  <span class="org-builtin">:after</span> (flycheck)
  <span class="org-builtin">:custom</span>
  (flycheck-gcc-pedantic-errors t)
  <span class="org-builtin">:hook</span> ((c-mode . flycheck-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org608eb06" class="outline-2">
<h2 id="org608eb06">clock-face</h2>
<div class="outline-text-2" id="text-org608eb06">
<p>
This is a <a href="https://github.com/krismolendyke/clock-face.el">ridiculous package</a> that I wrote to insert a Unicode clock
face character for the nearest current half-hour.  🕙
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">clock-face</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:load-path</span> <span class="org-string">"site-lisp/clock-face.el"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9cd0892" class="outline-2">
<h2 id="org9cd0892">compilation-mode</h2>
<div class="outline-text-2" id="text-org9cd0892">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">compile</span>
  <span class="org-builtin">:custom-face</span> (compilation-error ((t (<span class="org-builtin">:foreground</span> <span class="org-string">"tomato1"</span>)))))
</pre>
</div>

<p>
Functions to execute after compilation has finished:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">hl-line</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">subr-x</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/compilation-finish-function-delay-delete</span> (buf result)
  <span class="org-doc">"Delete and bury BUF after short delay.</span>
<span class="org-doc">Do so only if compilation is successful."</span>
  (<span class="org-keyword">if</span> (string= (string-trim result) <span class="org-string">"finished"</span>)
      (run-with-timer
       1.0 nil
       (<span class="org-keyword">lambda</span> (buf)
         (<span class="org-keyword">with-current-buffer</span> buf
           (delete-window)
           (bury-buffer)))
       buf)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/compilation-finish-function-select-window</span> (buf result)
  <span class="org-doc">"Switch to the compilation buffer BUF.</span>
<span class="org-doc">When compilation completes, regardless of result."</span>
  (<span class="org-keyword">let</span> ((win (get-buffer-window buf)))
    (select-window (get-buffer-window buf))
    (goto-char (point-max))
    (forward-line -1)
    (hl-line-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-counsel" class="outline-2">
<h2 id="counsel">Counsel</h2>
<div class="outline-text-2" id="text-counsel">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">counsel</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-x"</span> . counsel-M-x)
     (<span class="org-string">"C-x C-f"</span> . counsel-find-file)
     (<span class="org-string">"&lt;f1&gt; f"</span> . counsel-describe-function)
     (<span class="org-string">"&lt;f1&gt; v"</span> . counsel-describe-variable)
     (<span class="org-string">"&lt;f1&gt; l"</span> . counsel-find-library)
     (<span class="org-string">"&lt;f1&gt; s"</span> . counsel-info-lookup-symbol)
     (<span class="org-string">"C-x 8 RET"</span> . counsel-unicode-char)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde0e9ef" class="outline-2">
<h2 id="orgde0e9ef">dired</h2>
<div class="outline-text-2" id="text-orgde0e9ef">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">dired</span>
  <span class="org-builtin">:custom-face</span> (dired-flagged ((t (<span class="org-builtin">:foreground</span> <span class="org-string">"tomato1"</span> <span class="org-builtin">:strike-through</span> t))))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">use-package</span> <span class="org-constant">autorevert</span>
    <span class="org-builtin">:config</span>
    (<span class="org-keyword">setq</span> auto-revert-verbose nil))
  (<span class="org-keyword">use-package</span> <span class="org-constant">dired-x</span>
    <span class="org-builtin">:config</span>
    (load <span class="org-string">"dired-x.el"</span>))
  <span class="org-builtin">:hook</span> ((dired-mode . auto-revert-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0cc64a5" class="outline-2">
<h2 id="org0cc64a5">electric-pair-mode</h2>
<div class="outline-text-2" id="text-org0cc64a5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">elec-pair</span>
  <span class="org-builtin">:hook</span> ((prog-mode . electric-pair-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga49a5a4" class="outline-2">
<h2 id="orga49a5a4">emacs-lisp-mode</h2>
<div class="outline-text-2" id="text-orga49a5a4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">elisp-mode</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/ert</span> ()
    <span class="org-doc">"Run all the tests in the universe!"</span>
    (<span class="org-keyword">interactive</span>)
    (ert t))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> emacs-lisp-mode-map (<span class="org-string">"H-t"</span> . k20e/ert))
  <span class="org-builtin">:hook</span> ((emacs-lisp-mode . eldoc-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org712dd92" class="outline-2">
<h2 id="org712dd92">expand-region</h2>
<div class="outline-text-2" id="text-org712dd92">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">expand-region</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-M-SPC"</span> . er/expand-region)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef914db" class="outline-2">
<h2 id="orgef914db">find-file-in-project</h2>
<div class="outline-text-2" id="text-orgef914db">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">find-file-in-project</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-x o"</span> . find-file-in-project))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> ffip-limit 8192
        ffip-find-options <span class="org-string">"-not -regex \".*/build.*\""</span> <span class="org-comment-delimiter">; </span><span class="org-comment">TODO ignore .tox</span>
        ffip-full-paths t
        ffip-patterns (list <span class="org-string">"*.el"</span>
                <span class="org-string">"*.html"</span>
                <span class="org-string">"*.js"</span>
                <span class="org-string">"*.json"</span>
                <span class="org-string">"*.go"</span>
                <span class="org-string">"*.md"</span>
                <span class="org-string">"*.org"</span>
                <span class="org-string">"*.py"</span>
                <span class="org-string">"*.sh"</span>
                <span class="org-string">"*.txt"</span>
                <span class="org-string">"*.yaml"</span>
                <span class="org-string">"*.yml"</span>
                <span class="org-string">"Dockerfile"</span>
                <span class="org-string">"Makefile"</span>)
        ffip-prune-patterns (list <span class="org-string">".git"</span> <span class="org-string">"build"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-flycheck" class="outline-2">
<h2 id="flycheck">flycheck</h2>
<div class="outline-text-2" id="text-flycheck">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">flycheck</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> flycheck-pylintrc <span class="org-string">"pylintrc"</span>
                flycheck-check-syntax-automatically '(mode-enabled save)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8e29b3" class="outline-2">
<h2 id="orga8e29b3">flyspell</h2>
<div class="outline-text-2" id="text-orga8e29b3">
<p>
Setup <code>ispell</code> to use <a href="#install-aspell"><code>aspell</code></a>, then setup <code>flyspell</code> itself.  It requires <code>ispell</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">flyspell</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq-default</span> ispell-program-name <span class="org-string">"aspell"</span>
                ispell-extra-args (list <span class="org-string">"--sug-mode=ultra"</span>))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> flyspell-issue-message-flag nil
        flyspell-issue-welcome-flag nil)
  <span class="org-builtin">:hook</span> ((text-mode . flyspell-mode)))
</pre>
</div>
</div>

<div id="outline-container-install-aspell" class="outline-3">
<h3 id="install-aspell">Install <a href="http://hunspell.sourceforge.net/"><code>aspell</code></a></h3>
<div class="outline-text-3" id="text-install-aspell">
<p>
Install <code>aspell</code> via Homebrew:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install aspell --with-lang-en
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge60e6d8" class="outline-2">
<h2 id="orge60e6d8">Fonts</h2>
<div class="outline-text-2" id="text-orge60e6d8">
<ul class="org-ul">
<li><a href="https://protesilaos.com/codelog/2020-09-05-emacs-note-mixed-font-heights/">Setting default, variable &amp; fixed pitch heights</a></li>
<li>Fonts
<ul class="org-ul">
<li><a href="https://www.fsd.it/shop/fonts/pragmatapro/">PragmataPro</a> (<a href="https://github.com/fabrizioschiavi/pragmatapro">GitHub</a>)</li>
<li><a href="https://edwardtufte.github.io/et-book/">ET Book</a> (<a href="https://github.com/edwardtufte/et-book">GitHub</a>, <a href="https://aur.archlinux.org/packages/otf-et-book">AUR</a>)</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-prettify-symbols-mode 1)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/font-list</span> '((<span class="org-string">"PragmataPro-Mono-Liga"</span> . 16)
                         (<span class="org-string">"PragmataPro-Liga"</span> . 16))
  <span class="org-doc">"Ordered list of preferred fonts and sizes."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font--set</span> (font-alist)
  <span class="org-doc">"Set the font family and size to the given font alist of the</span>
<span class="org-doc">format (family . point)."</span>
  (<span class="org-keyword">let</span> ((font (replace-regexp-in-string <span class="org-string">"-"</span> <span class="org-string">" "</span> (car font-alist)))
        (height (* 10 (cdr font-alist))))
    (set-frame-font font)
    (set-face-attribute 'default nil <span class="org-builtin">:height</span> height)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font-set-from-list</span> (l)
  <span class="org-doc">"Set the font to first available font alist in the given list."</span>
  (<span class="org-keyword">if</span> (null l) nil
    (k20e/font--set (car l))
    (<span class="org-keyword">if</span> (string= (replace-regexp-in-string <span class="org-string">"-"</span> <span class="org-string">" "</span>(caar l))
                 (face-attribute 'default <span class="org-builtin">:family</span> (selected-frame)))
        (caar l)
      (k20e/font-set-from-list (cdr l)))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/font-set</span> ()
  <span class="org-doc">"Set a font from the `</span><span class="org-doc"><span class="org-constant">k20e/font-list</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((ignore-case completion-ignore-case))
    (<span class="org-keyword">unwind-protect</span>
        (<span class="org-keyword">progn</span>
          (<span class="org-keyword">setq</span> completion-ignore-case t)
          (<span class="org-keyword">let</span> ((font (completing-read <span class="org-string">"Font: "</span> k20e/font-list)))
            (k20e/font--set (assoc font k20e/font-list))))
      (<span class="org-keyword">setq</span> completion-ignore-case ignore-case))))

(k20e/font-set-from-list k20e/font-list)
</pre>
</div>
</div>

<div id="outline-container-org349ca9e" class="outline-3">
<h3 id="org349ca9e">Unicode</h3>
<div class="outline-text-3" id="text-org349ca9e">
<p>
<a href="http://users.teilar.gr/~g1951d/">Symbola</a> is a nice font for displaying Unicode characters 🍺👍.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">when</span> (member <span class="org-string">"Symbola"</span> (font-family-list))
  (set-fontset-font t 'unicode <span class="org-string">"Noto Color Emoji"</span> nil 'prepend))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org24d5c73" class="outline-2">
<h2 id="org24d5c73">font-awesome</h2>
<div class="outline-text-2" id="text-org24d5c73">
<p>
This is a <a href="https://github.com/krismolendyke/font-awesome.el">naïve package</a> that I wrote to help insert <a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a>
icons into buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">font-awesome</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:load-path</span> <span class="org-string">"site-lisp/font-awesome.el"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf420c8" class="outline-2">
<h2 id="orgbf420c8">geiser</h2>
<div class="outline-text-2" id="text-orgbf420c8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">geiser</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> geiser-active-implementations '(racket chicken)
                geiser-default-implementation 'racket))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e9a01c" class="outline-2">
<h2 id="org9e9a01c">git</h2>
<div class="outline-text-2" id="text-org9e9a01c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">counsel</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c g"</span> . counsel-git)
         (<span class="org-string">"C-c j"</span> . counsel-git-grep)))
</pre>
</div>
</div>

<div id="outline-container-org4519eaa" class="outline-3">
<h3 id="org4519eaa">GitHub <code>.gitignore</code></h3>
<div class="outline-text-3" id="text-org4519eaa">
<p>
A simple function to insert starter <code>.gitignore</code> file contents from
the <a href="https://github.com/github/gitignore">github/gitignore</a> repository.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">url</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh--gitignore-url</span> (language)
  <span class="org-doc">"Get GitHub .gitignore URL for LANGUAGE."</span>
  (format <span class="org-string">"https://raw.githubusercontent.com/github/gitignore/master/%s.gitignore"</span>
          (capitalize language)))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh--gitignore-get-region</span> (response-buffer)
  <span class="org-doc">"Get GitHub .gitignore response body bounds.</span>
<span class="org-doc">Argument RESPONSE-BUFFER HTTP GET response."</span>
  (<span class="org-keyword">with-current-buffer</span> response-buffer
    (goto-char (point-min))
    (<span class="org-keyword">let</span> ((start (1+ (search-forward-regexp <span class="org-string">"^$"</span>)))
          (end (point-max)))
      (list start end))))

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/gh-gitignore-insert</span> (language)
  <span class="org-doc">"Insert Github .gitignore for LANGUAGE."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"sLanguage: "</span>)
  (<span class="org-keyword">let*</span> ((response-buffer (url-retrieve-synchronously
                           (k20e/gh--gitignore-url language) t))
         (gitignore-region (k20e/gh--gitignore-get-region response-buffer)))
    (insert-buffer-substring-no-properties
     response-buffer (car gitignore-region) (cadr gitignore-region))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0a64abe" class="outline-2">
<h2 id="org0a64abe">go-mode</h2>
<div class="outline-text-2" id="text-org0a64abe">
<p>
Install commands:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">pushd</span> <span class="org-string">"${TMPDIR}"</span> &amp;&amp; <span class="org-sh-escaped-newline">\</span>
    go install golang.org/x/tools/gopls@latest; <span class="org-sh-escaped-newline">\</span>
    go install honnef.co/go/tools/cmd/staticcheck@latest; <span class="org-sh-escaped-newline">\</span>
    <span class="org-builtin">popd</span>
</pre>
</div>

<p>
Switched from <code>staticcheck</code> to <code>golangci-lint</code> but its install
doesn't recommend <code>go get -u</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">company</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-builtin">:map</span> company-active-map
        (<span class="org-string">"C-n"</span> . 'company-select-next)
        (<span class="org-string">"C-p"</span> . 'company-select-previous)
        (<span class="org-string">"C-h"</span> . 'delete-backward-char))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> company-idle-delay nil
        company-show-quick-access t
        company-tooltip-align-annotations t))

(<span class="org-keyword">use-package</span> <span class="org-constant">dash</span>
  <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">use-package</span> <span class="org-constant">flycheck</span>
  <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">use-package</span> <span class="org-constant">go-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-builtin">:map</span> go-mode-map
        (<span class="org-string">"C-c C-t"</span> . 'k20e/toggle-test-buffer)
        (<span class="org-string">"C-."</span> . 'company-indent-or-complete-common))
  <span class="org-builtin">:custom-face</span> (button ((t (<span class="org-builtin">:box</span> nil))))
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/go-mode-hook</span> ()
    (message <span class="org-string">"k20e/go-mode-hook"</span>))
  <span class="org-builtin">:hook</span>
  ((before-save . (<span class="org-keyword">lambda</span> () (<span class="org-keyword">when</span> (eq major-mode 'go-mode)
                          (lsp-format-buffer)
                          (lsp-organize-imports))))
   (go-mode . lsp-deferred)
   (go-mode . k20e/go-mode-hook)
   (go-mode . (<span class="org-keyword">lambda</span> ()
                (<span class="org-keyword">let</span> ((gopath (string-trim (shell-command-to-string (string-join `(,(executable-find <span class="org-string">"go"</span>) <span class="org-string">"env"</span> <span class="org-string">"GOPATH"</span>) <span class="org-string">" "</span>))))
                      (goroot (string-trim (shell-command-to-string (string-join `(,(executable-find <span class="org-string">"go"</span>) <span class="org-string">"env"</span> <span class="org-string">"GOROOT"</span>) <span class="org-string">" "</span>)))))
                  (setenv <span class="org-string">"GOPATH"</span> gopath)
                  (setenv <span class="org-string">"GOROOT"</span> goroot))
                (<span class="org-keyword">setq-local</span> compile-command <span class="org-string">"go run main.go"</span>))))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> indent-tabs-mode t
                tab-width 4)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">lsp (currently gopls)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/golang/tools/blob/master/gopls/doc/emacs.md#configuring-lsp-mode</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Officially supported settings get first class vars, experimental</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">settings are "custom" strings set via</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">lsp-register-custom-settings.</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Officially supported settings</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/golang/tools/blob/master/gopls/doc/settings.md#officially-supported</span>
  (<span class="org-keyword">setq-default</span> lsp-go-directory-filters [<span class="org-string">"-**/testdata"</span>]
                lsp-go-link-target <span class="org-string">"pkg.go.dev"</span>
                lsp-go-use-placeholders t)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Experimental settings</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">https://github.com/golang/tools/blob/master/gopls/doc/settings.md</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">anything marked as, "This setting is experimental and may be</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">deleted."</span>
  (lsp-register-custom-settings '((<span class="org-string">"gopls.staticcheck"</span> t t)
                                  (<span class="org-string">"go.inlayHints.assignVariableTypes"</span> t t)
                                  (<span class="org-string">"go.inlayHints.compositeLiteralFields"</span> t t)
                                  (<span class="org-string">"go.inlayHints.compositeLiteralTypes"</span> t t )
                                  (<span class="org-string">"go.inlayHints.constantValues"</span> t t)
                                  (<span class="org-string">"go.inlayHints.functionTypeParameters"</span> t t)
                                  (<span class="org-string">"go.inlayHints.parameterNames"</span> t t)
                                  (<span class="org-string">"go.inlayHints.rangeVariableTypes"</span> t t))))
</pre>
</div>
</div>

<div id="outline-container-org8c0f80b" class="outline-3">
<h3 id="org8c0f80b"><code>[0/3]</code> <code>TODO</code></h3>
<div class="outline-text-3" id="text-org8c0f80b">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Steal some of these <a href="https://github.com/dominikh/yasnippet-go">https://github.com/dominikh/yasnippet-go</a></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://github.com/nlamirault/gotest.el">https://github.com/nlamirault/gotest.el</a></li>
<li class="off"><code>[&#xa0;]</code> <a href="https://github.com/alecthomas/gometalinter">https://github.com/alecthomas/gometalinter</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb7c2285" class="outline-2">
<h2 id="orgb7c2285">highlight-indent-guides</h2>
<div class="outline-text-2" id="text-orgb7c2285">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">highlight-indent-guides</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> highlight-indent-guides-method 'character
        highlight-indent-guides-responsive 'stack))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd436a82" class="outline-2">
<h2 id="orgd436a82">highlight-parentheses</h2>
<div class="outline-text-2" id="text-orgd436a82">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">highlight-parentheses</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((emacs-lisp-mode . highlight-parentheses-mode)
         (lisp-mode-hook . highlight-parentheses-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7a571c" class="outline-2">
<h2 id="orgf7a571c">htmlize</h2>
<div class="outline-text-2" id="text-orgf7a571c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">htmlize</span>
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3d7d9d0" class="outline-2">
<h2 id="org3d7d9d0">hyperspec</h2>
<div class="outline-text-2" id="text-org3d7d9d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Set HyperSpec root in Google Drive.</span>
(<span class="org-keyword">defvar</span> <span class="org-variable-name">common-lisp-hyperspec-root</span>
  (format <span class="org-string">"file://%s/"</span>
          (expand-file-name <span class="org-string">"Documents/HyperSpec"</span> k20e/google-drive-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-ibuffer" class="outline-2">
<h2 id="ibuffer">ibuffer</h2>
<div class="outline-text-2" id="text-ibuffer">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">face-remap</span>)

(<span class="org-keyword">defalias</span> '<span class="org-function-name">list-buffers</span> 'ibuffer)

(<span class="org-keyword">use-package</span> <span class="org-constant">ibuffer</span>
  <span class="org-builtin">:custom</span>
  (ibuffer-formats '((mark <span class="org-string">" "</span>
                           (modified)
                           <span class="org-string">" "</span>
                           (name 40 40 <span class="org-builtin">:right</span> <span class="org-builtin">:elide</span>)
                           <span class="org-string">" "</span>
                           (filename-and-process))
                     (mark <span class="org-string">" "</span>
                           (filename-and-process 70 70 <span class="org-builtin">:left</span> <span class="org-builtin">:elide</span>)
                           <span class="org-string">" "</span>
                           name))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8effa36" class="outline-2">
<h2 id="org8effa36">IELM</h2>
<div class="outline-text-2" id="text-org8effa36">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">ielm</span>
  <span class="org-builtin">:hook</span> ((ielm-mode . eldoc-mode)
         (ielm-mode . paredit-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7df9e6" class="outline-2">
<h2 id="orgb7df9e6">imenu</h2>
<div class="outline-text-2" id="text-orgb7df9e6">
<p>
Re-scan the buffer for new menu items automatically.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">imenu</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> imenu-auto-rescan t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f4edf6" class="outline-2">
<h2 id="org3f4edf6">I'm Feeling Lucky</h2>
<div class="outline-text-2" id="text-org3f4edf6">
<p>
This is <a href="https://github.com/krismolendyke/im-feeling-lucky.el">my Google search</a> module.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">im-feeling-lucky</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:load-path</span> <span class="org-string">"site-lisp/im-feeling-lucky.el"</span>
  <span class="org-builtin">:bind</span> ((<span class="org-string">"H-l"</span> . ifl-region-or-query)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0069518" class="outline-2">
<h2 id="org0069518">Ivy</h2>
<div class="outline-text-2" id="text-org0069518">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">ivy</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> ivy-extra-directories nil
        ivy-use-virtual-buffers t
        ivy-wrap t)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c C-r"</span> . ivy-resume)
         (<span class="org-string">"C-x b"</span> . ivy-switch-buffer)))

(ivy-mode 1)
</pre>
</div>

<blockquote>
<p>
<code>M-j</code> (<code>ivy-yank-word</code>)
</p>

<p>
Inserts the sub-word at point into the minibuffer.
</p>

<p>
This is similar to <code>C-s C-w</code> with <code>isearch</code>. Ivy reserves <code>C-w</code>
for <code>kill-region</code>. &#x2013; <a href="http://oremacs.com/swiper/#minibuffer-key-bindings">Ivy minibuffer key bindings</a>
</p>
</blockquote>

<p>
<code>isearch-forward-word</code> was mapped to <code>w</code> and my muscle memory
requires this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd <span class="org-string">"C-w"</span>) 'ivy-yank-word)
</pre>
</div>

<blockquote>
<p>
<code>C-j</code> (<code>ivy-alt-done</code>)
</p>

<p>
When completing file names, selects the current directory
candidate and starts a new completion session there. Otherwise, it
is the same as <code>ivy-done</code>.
</p>
</blockquote>

<p>
Having to type <code>C-j</code> to go into a directory when finding files is
maddening and I almost never used <code>dired</code>.  Swap <code>RET</code> to go into
directories and <code>C-j</code> to open current directory in <code>dired</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(define-key ivy-minibuffer-map (kbd <span class="org-string">"RET"</span>) 'ivy-alt-done)
(define-key ivy-minibuffer-map (kbd <span class="org-string">"C-j"</span>) 'ivy-done)
</pre>
</div>
</div>
</div>

<div id="outline-container-org19bfcb0" class="outline-2">
<h2 id="org19bfcb0">js</h2>
<div class="outline-text-2" id="text-org19bfcb0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">js</span>
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.json\\'"</span> . js-mode)
  <span class="org-builtin">:hook</span> ((js-mode . flycheck-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org652a2bc" class="outline-2">
<h2 id="org652a2bc">LaTeX</h2>
<div class="outline-text-2" id="text-org652a2bc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">tex-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> latex-mode-map (<span class="org-string">"C-j"</span> . join-line)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org27c99ff" class="outline-2">
<h2 id="org27c99ff">ligature-pragmatapro</h2>
<div class="outline-text-2" id="text-org27c99ff">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">ligature-pragmatapro</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (ligature-pragmatapro-setup)
  (global-ligature-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga6570a4" class="outline-2">
<h2 id="orga6570a4">lockfiles</h2>
<div class="outline-text-2" id="text-orga6570a4">
<p>
<a href="http://stackoverflow.com/questions/5738170/why-does-emacs-create-temporary-symbolic-links-for-modified-files">Avoid creating temporary symbolic links</a> and disturbing working
directory state at the expense of avoiding editing collisions that I
do not ever anticipate.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> create-lockfiles nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org80a5756" class="outline-2">
<h2 id="org80a5756">lsp-mode</h2>
<div class="outline-text-2" id="text-org80a5756">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">lsp-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span>
   lsp-eldoc-render-all nil
   lsp-enable-snippet nil
   lsp-signature-doc-lines 20           <span class="org-comment-delimiter">; </span><span class="org-comment">limit lines shown in docs</span>
   lsp-enable-links nil                 <span class="org-comment-delimiter">; </span><span class="org-comment">disable clickable links in files</span>
   )
  (set-face-attribute 'lsp-face-highlight-textual nil <span class="org-builtin">:underline</span> t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf935bf3" class="outline-2">
<h2 id="orgf935bf3">lua-mode</h2>
<div class="outline-text-2" id="text-orgf935bf3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">lua-mode</span>
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5587241" class="outline-2">
<h2 id="org5587241">man</h2>
<div class="outline-text-2" id="text-org5587241">
<p>
Setting a width avoids a possibly (likely) poorly chosen automatic
width.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> Man-width 80)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb39a313" class="outline-2">
<h2 id="orgb39a313">markdown-mode</h2>
<div class="outline-text-2" id="text-orgb39a313">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">markdown-mode</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/markdown-mode-hook</span> ()
  (prettify-symbols-mode 1)
  (<span class="org-keyword">setq</span> markdown-open-command <span class="org-string">"open"</span>))

(add-hook 'markdown-mode-hook 'k20e/markdown-mode-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3471776" class="outline-2">
<h2 id="org3471776">Minibuffer</h2>
<div class="outline-text-2" id="text-org3471776">
<p>
Scale up the minibuffer text size and limit how tall it can get.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/minibuffer-setup-hook</span> ()
  <span class="org-doc">"Bump up minibuffer text size and height."</span>
  (text-scale-set 3)
  (<span class="org-keyword">setq</span> max-mini-window-height 20))

(add-hook 'minibuffer-setup-hook 'k20e/minibuffer-setup-hook)
</pre>
</div>

<p>
Set <code>enable-recursive-minibufers</code> to <code>t</code> to allow minibuffers
<i>within</i> minibuffers.  A good use-case of this feature is described
in <a href="http://www.masteringemacs.org/articles/2011/10/19/executing-shell-commands-emacs/">Executing Shell Commands in Emacs</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> enable-recursive-minibuffers t)
</pre>
</div>
</div>

<div id="outline-container-orga402924" class="outline-3">
<h3 id="orga402924">Eval expression minibuffer</h3>
<div class="outline-text-3" id="text-orga402924">
<p>
Enable <code>eldoc</code> in the modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">eldoc</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/eval-expression-minibuffer-setup-hook</span> ()
  (eldoc-mode 1))

(add-hook 'eval-expression-minibuffer-setup-hook
          'k20e/eval-expression-minibuffer-setup-hook)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org426b4b8" class="outline-2">
<h2 id="org426b4b8">Mouse</h2>
<div class="outline-text-2" id="text-org426b4b8">
<p>
Scroll one line at a time in the "natural" direction:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> mouse-wheel-scroll-amount '(-1 ((shift) . 1) ((meta)) ((control) . text-scale)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org60ddb62" class="outline-2">
<h2 id="org60ddb62">multiple-cursors</h2>
<div class="outline-text-2" id="text-org60ddb62">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">multiple-cursors</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-L"</span> . mc/edit-lines)
         (<span class="org-string">"C-M-."</span> . k20e/mark-next)
         (<span class="org-string">"C-M-,"</span> . k20e/mark-previous)
         (<span class="org-string">"C-M-&lt;return&gt;"</span> . mc/mark-all-like-this))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-next</span> (extended)
    <span class="org-doc">"Wrap multiple-cursors mark-more/next.</span>
<span class="org-doc">Call `</span><span class="org-doc"><span class="org-constant">mc/mark-next-like-this</span></span><span class="org-doc">' without a prefix argument.</span>
<span class="org-doc">Argument EXTENDED Prefix argument to call function</span>
<span class="org-doc">`</span><span class="org-doc"><span class="org-constant">mc/mark-more-like-this-extended</span></span><span class="org-doc">'."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
    (<span class="org-keyword">if</span> extended
        (call-interactively 'mc/mark-more-like-this-extended)
      (call-interactively 'mc/mark-next-like-this)))

  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/mark-previous</span> (extended)
    <span class="org-doc">"Wrap multiple-cursors mark-more/previous.</span>
<span class="org-doc">Call `</span><span class="org-doc"><span class="org-constant">mc/mark-previous-like-this</span></span><span class="org-doc">' without a prefix argument.</span>
<span class="org-doc">Argument EXTENDED Prefix argument to call function</span>
<span class="org-doc">`</span><span class="org-doc"><span class="org-constant">mc/mark-more-like-this-extended</span></span><span class="org-doc">'."</span>
    (<span class="org-keyword">interactive</span> <span class="org-string">"P"</span>)
    (<span class="org-keyword">if</span> extended
        (call-interactively 'mc/mark-more-like-this-extended)
      (call-interactively 'mc/mark-previous-like-this))))
</pre>
</div>

<p>
Keep preferences sync'd across machines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> mc/list-file (expand-file-name <span class="org-string">".mc-lists.el"</span> k20e/google-drive-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga272c16" class="outline-2">
<h2 id="orga272c16">Open Source Licenses</h2>
<div class="outline-text-2" id="text-orga272c16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/insert-mit-license</span> ()
  <span class="org-doc">"Insert MIT license file contents.</span>
<span class="org-doc">Populate the current year and user name."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">with-current-buffer</span> (get-buffer-create <span class="org-string">"LICENSE.txt"</span>)
    (insert (format <span class="org-string">"The MIT License (MIT)</span>

<span class="org-string">Copyright (c) %s %s</span>

<span class="org-string">Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="org-string">of this software and associated documentation files (the \"Software\"), to deal</span>
<span class="org-string">in the Software without restriction, including without limitation the rights</span>
<span class="org-string">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="org-string">copies of the Software, and to permit persons to whom the Software is</span>
<span class="org-string">furnished to do so, subject to the following conditions:</span>

<span class="org-string">The above copyright notice and this permission notice shall be included in</span>
<span class="org-string">all copies or substantial portions of the Software.</span>

<span class="org-string">THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="org-string">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="org-string">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="org-string">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="org-string">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="org-string">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="org-string">THE SOFTWARE.</span>
<span class="org-string">"</span> (format-time-string <span class="org-string">"%Y"</span>) (user-full-name)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb515d9" class="outline-2">
<h2 id="orgbb515d9">org-mode</h2>
<div class="outline-text-2" id="text-orgbb515d9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">org</span>
  <span class="org-builtin">:custom-face</span>
  (variable-pitch ((t (<span class="org-builtin">:family</span> <span class="org-string">"ETBembo"</span> <span class="org-builtin">:height</span> 1.3))))
  (fixed-pitch ((t (<span class="org-builtin">:family</span> <span class="org-string">"PragmataPro Mono Liga"</span> <span class="org-builtin">:height</span> 0.9))))
  (org-block ((t (<span class="org-builtin">:inherit</span> fixed-pitch))))
  (org-block-begin-line ((t (<span class="org-builtin">:inherit</span> fixed-pitch))))
  (org-block-end-line ((t (<span class="org-builtin">:inherit</span> fixed-pitch))))
  (org-code ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-date ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-document-info-keyword ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-done ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-drawer ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-ellipsis ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch))))) <span class="org-comment-delimiter">; </span><span class="org-comment">"CANCELED" for some reason is this</span>
  (org-indent ((t (<span class="org-builtin">:inherit</span> (org-hide fixed-pitch)))))
  (org-meta-line ((t (<span class="org-builtin">:inherit</span> (font-lock-comment-face fixed-pitch)))))
  (org-property-value ((t (<span class="org-builtin">:inherit</span> fixed-pitch))))
  (org-quote ((t (<span class="org-builtin">:inherit</span> (shadow)))))
  (org-special-keyword ((t (<span class="org-builtin">:inherit</span> (font-lock-comment-face fixed-pitch)))))
  (org-table ((t (<span class="org-builtin">:inherit</span> fixed-pitch))))
  (org-tag ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-todo ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  (org-verbatim ((t (<span class="org-builtin">:inherit</span> (shadow fixed-pitch)))))
  <span class="org-builtin">:hook</span>
  ((org-mode . auto-fill-mode)
   (org-mode . prettify-symbols-mode)
   (org-mode . variable-pitch-mode)
   (org-mode . (<span class="org-keyword">lambda</span> ()
                 (visual-line-mode 0)   <span class="org-comment-delimiter">; </span><span class="org-comment">TODO how to do this w/ :hook?</span>

                 <span class="org-comment-delimiter">;; </span><span class="org-comment">Replace '</span><span class="org-comment"><span class="org-constant">-</span></span><span class="org-comment">' w/ fancy dot for bulleted lists</span>
                 (font-lock-add-keywords
                  'org-mode
                  '((<span class="org-string">"^ *</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">[-]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string"> "</span>
                     (0 (<span class="org-keyword">prog1</span> () (compose-region (match-beginning 1) (match-end 1) <span class="org-string">"&#8226;"</span>))))))

                 )))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-default-notes-file (expand-file-name <span class="org-string">"notes.org"</span> org-directory)
        org-directory (expand-file-name <span class="org-string">"org"</span> k20e/google-drive-directory)
        org-ellipsis <span class="org-string">"&#8230;"</span>
        org-fontify-quote-and-verse-blocks t
        org-fontify-whole-heading-line t
        org-hide-emphasis-markers t
        org-log-redeadline 'time
        org-log-reschedule 'time
        org-outline-path-complete-in-steps nil
        org-pretty-entities t
        org-special-ctrl-a/e t
        org-use-speed-commands t
        truncate-lines nil)
  (<span class="org-keyword">setq-default</span> org-adapt-indentation t
                org-goto-interface 'outline-path-completion
                org-startup-folded t)
  (<span class="org-keyword">setq-local</span> global-hl-line-mode nil)
  <span class="org-builtin">:functions</span>
  company-indent-or-complete-common
  company-select-next
  company-select-previous
  lsp-format-buffer
  lsp-organize-imports
  lsp-register-custom-settings)
</pre>
</div>
</div>

<div id="outline-container-org23c011a" class="outline-3">
<h3 id="org23c011a">UPGRAYEDD</h3>
<div class="outline-text-3" id="text-org23c011a">
<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">cd</span> ~/.emacs.d/site-lisp/org-mode
g fetch origin --tags
g co -b release_9.1.2 release_9.1.2
make clean
make
<span class="org-builtin">cd</span> ~/.emacs.d
g add site-lisp/org-mode
g commit -m <span class="org-string">"UPGRAYEDD org-mode"</span>
</pre>
</div>

<p>
<a href="https://list.orgmode.org/87wnzfy60h.fsf@bzg.fr/"><code>contrib/</code></a> was split out into a separate repo so that needs to be updated separately.
</p>
</div>
</div>

<div id="outline-container-orgbac86ca" class="outline-3">
<h3 id="orgbac86ca">Inline Images</h3>
<div class="outline-text-3" id="text-orgbac86ca">
<p>
Try to get the width of images displayed inline from a <code>#+ATTR.*</code>
keyword, e.g., <code>#+ATTR_HTML: :width 800px</code>, fall back to original
image width if no attribute keyword is found:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-image-actual-width nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfaa5f0d" class="outline-3">
<h3 id="orgfaa5f0d">Key Bindings</h3>
<div class="outline-text-3" id="text-orgfaa5f0d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ivy</span>)

(global-set-key (kbd <span class="org-string">"&lt;f12&gt;"</span>) 'org-agenda-list)
(global-set-key (kbd <span class="org-string">"C-c a"</span>) 'org-agenda)
(global-set-key (kbd <span class="org-string">"C-c l"</span>) 'org-store-link)
(global-set-key (kbd <span class="org-string">"C-x c"</span>) 'org-switchb)

(define-key org-mode-map (kbd <span class="org-string">"&lt;return&gt;"</span>) 'org-return-indent)
(define-key org-mode-map (kbd <span class="org-string">"M-&lt;return&gt;"</span>) 'org-meta-return)
(define-key org-mode-map (kbd <span class="org-string">"C-c C-r"</span>) 'ivy-resume)
(define-key org-mode-map (kbd <span class="org-string">"C-j"</span>) 'join-line)
(define-key org-mode-map (kbd <span class="org-string">"C-m"</span>) 'org-return-indent)
(define-key org-mode-map (kbd <span class="org-string">"H-&lt;tab&gt;"</span>) 'pcomplete)
(define-key org-mode-map (kbd <span class="org-string">"M-h"</span>) 'backward-kill-word)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd015e87" class="outline-3">
<h3 id="orgd015e87">Export</h3>
<div class="outline-text-3" id="text-orgd015e87">
<ul class="org-ul">
<li><a href="https://github.com/Zilong-Li/org-tufte">https://github.com/Zilong-Li/org-tufte</a></li>
<li><a href="https://github.com/dakrone/ox-tufte">https://github.com/dakrone/ox-tufte</a></li>
</ul>

<p>
Most non-interactive export settings are defined in <a href="https://github.com/krismolendyke/.emacs.d/blob/master/elisp/k20e-org-html-export.el">a file loaded
during initialization</a>.  Those settings are defined during
initialization time to support a fast batch process for exporting
<i>this</i> document to HTML in a Git <code>post-commit</code> hook.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">k20e-org-html-export</span>)
</pre>
</div>

<p>
Interactive customization can be done here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-publish</span>)

(<span class="org-keyword">setq</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable "expert" export interface.</span>
 org-export-dispatch-use-expert-ui t

 <span class="org-comment-delimiter">;; </span><span class="org-comment">Continue export when links are broken, but mark them</span>
 org-export-with-broken-links `mark)
</pre>
</div>
</div>

<div id="outline-container-orgdd0386e" class="outline-4">
<h4 id="orgdd0386e">Options</h4>
<div class="outline-text-4" id="text-orgdd0386e">
<p>
A message in <code>*Messages*</code> like:
</p>

<pre class="example" id="org6d61edd">
user-error: Unable to resolve link: nil
</pre>

<p>
indicates that a link somewhere is malformed.  Adding the option:
</p>

<div class="org-src-container">
<pre class="src src-org"><span class="org-org-meta-line">#+OPTIONS: broken-links:mark</span>
</pre>
</div>

<p>
and exporting will insert <code>BROKEN LINK</code> into the HTML document.  Searching for that token makes finding the
offending broken link much easier.  Keeping this option set all the time would let broken links slip through the
export process undetected.
</p>
</div>
</div>

<div id="outline-container-org7866237" class="outline-4">
<h4 id="org7866237">Backends</h4>
<div class="outline-text-4" id="text-org7866237">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-md</span>)

(add-to-list 'org-export-backends 'md)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">ox-tufte</span> <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8fde16a" class="outline-3">
<h3 id="org8fde16a">Publish</h3>
<div class="outline-text-3" id="text-org8fde16a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-publish-project-alist
      `((<span class="org-string">"k20e.com-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"source"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:exclude</span> <span class="org-string">"ga.org</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">level-0.org</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">todo.org</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">.DS_Store"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"k20e.com-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"source"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:base-extension</span> <span class="org-string">"jpg</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">png</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">ico"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"k20e.com"</span> k20e/google-drive-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"k20e.com"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"k20e.com-org-files"</span> <span class="org-string">"k20e.com-static-files"</span>))
        (<span class="org-string">"work-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"work"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"work"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"work-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"work"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"pdf</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">csv</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">sql</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">png"</span>
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"work"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"work"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"work-org-files"</span> <span class="org-string">"work-static-files"</span>))
        (<span class="org-string">"house-org-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"house"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"house"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:with-planning</span> t)
        (<span class="org-string">"house-static-files"</span>
         <span class="org-builtin">:base-directory</span> ,(expand-file-name <span class="org-string">"house"</span> org-directory)
         <span class="org-builtin">:base-extension</span> <span class="org-string">"pdf</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">csv</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">png</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">xls</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">doc"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-directory</span> ,(expand-file-name <span class="org-string">"published"</span> (expand-file-name <span class="org-string">"house"</span> org-directory))
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
        (<span class="org-string">"house"</span>
         <span class="org-builtin">:components</span> (<span class="org-string">"house-org-files"</span> <span class="org-string">"house-static-files"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5efacd" class="outline-3">
<h3 id="orgf5efacd">Babel</h3>
<div class="outline-text-3" id="text-orgf5efacd">
<p>
Define <a href="https://orgmode.org/worg/org-contrib/babel/languages/index.html">which languages</a> <code>org-babel</code> should support.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">k20e/org-babel-load-languages</span>
  '((ditaa . t)
    (emacs-lisp . t)
    (js . t)
    (org . t)
    (python . t)
    (scheme . t)
    (shell . t)
    (sql . t))
  <span class="org-doc">"Languages to evaluate in `</span><span class="org-doc"><span class="org-constant">org-mode</span></span><span class="org-doc">'."</span>)

(org-babel-do-load-languages 'org-babel-load-languages
                             k20e/org-babel-load-languages)
</pre>
</div>

<p>
Disable interactive prompt for executing code blocks.  This is
dangerous but I never execute any org files that I didn't author.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-confirm-babel-evaluate nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3a5bd8" class="outline-3">
<h3 id="orgf3a5bd8"><span class="todo TODO">TODO</span> Items</h3>
<div class="outline-text-3" id="text-orgf3a5bd8">
<p>
Automatically insert a timestamp when a task is marked <code>DONE</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-log-done t)
</pre>
</div>

<p>
Custom keywords and faces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-todo-keywords '((sequence
                           <span class="org-string">"TODO(t)"</span>
                           <span class="org-string">"STARTED(s!)"</span>
                           <span class="org-string">"|"</span>
                           <span class="org-string">"DONE(d!)"</span>
                           <span class="org-string">"CANCELED(c@)"</span>))
      org-todo-keyword-faces '((<span class="org-string">"TODO"</span> . org-todo)
                               (<span class="org-string">"STARTED"</span> . org-code)
                               (<span class="org-string">"CANCELED"</span> . org-ellipsis)
                               (<span class="org-string">"DONE"</span> . org-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ebc867" class="outline-3">
<h3 id="org8ebc867">Agenda</h3>
<div class="outline-text-3" id="text-org8ebc867">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">face-remap</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">org</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">org-agenda</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">winner</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/org-agenda-mode-hook</span> ()
  (define-key org-agenda-mode-map (kbd <span class="org-string">"q"</span>)
    (<span class="org-keyword">lambda</span> (x)
      (<span class="org-keyword">interactive</span> <span class="org-string">"p"</span>)
      (winner-undo)
      (kill-buffer <span class="org-string">"*Org Agenda*"</span>)))
  (delete-other-windows)
  (text-scale-set 2))

(add-hook 'org-agenda-mode-hook 'k20e/org-agenda-mode-hook)
</pre>
</div>
</div>

<div id="outline-container-org32f5b99" class="outline-4">
<h4 id="org32f5b99">Files</h4>
<div class="outline-text-4" id="text-org32f5b99">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-files (list (expand-file-name <span class="org-string">"work"</span> org-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b54f61" class="outline-4">
<h4 id="org9b54f61">Deadlines</h4>
<div class="outline-text-4" id="text-org9b54f61">
<p>
Non-nil means skip scheduling line if same entry shows because of deadline.
</p>

<p>
In the agenda of today, an entry can show up multiple times because it is
both scheduled and has a nearby deadline, and maybe a plain time stamp as
well.
</p>

<p>
When set to t, then only the deadline is shown and the fact that the entry
is scheduled today or was scheduled previously is not shown.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-skip-scheduled-if-deadline-is-shown nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf5ff7a" class="outline-4">
<h4 id="orgbf5ff7a">List</h4>
<div class="outline-text-4" id="text-orgbf5ff7a">
<p>
Default to showing only today in the agenda list.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-span 'day)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a0a05d" class="outline-3">
<h3 id="org5a0a05d">Habit</h3>
<div class="outline-text-3" id="text-org5a0a05d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">org-habit</span>)

(<span class="org-keyword">setq</span> org-habit-completed-glyph ?&#10003;
      org-habit-today-glyph ?|)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e6b5ed" class="outline-3">
<h3 id="org5e6b5ed">Logging &amp; Drawers</h3>
<div class="outline-text-3" id="text-org5e6b5ed">
<p>
Insert state change notes and time stamps into a drawer rather than simply
"loose" after a headline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-log-into-drawer t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org51a4c8b" class="outline-3">
<h3 id="org51a4c8b">Clock</h3>
<div class="outline-text-3" id="text-org51a4c8b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">org-clock-idle-time</span> 5)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org358bc95" class="outline-2">
<h2 id="org358bc95">paredit-mode</h2>
<div class="outline-text-2" id="text-org358bc95">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">paredit</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> paredit-mode-map
              ([?\)] . paredit-close-parenthesis)
              ([(meta ?\))] . paredit-close-parenthesis-and-newline)
              (<span class="org-string">"C-h"</span> . paredit-backward-delete)
              (<span class="org-string">"C-j"</span> . join-line))
  <span class="org-builtin">:hook</span> ((emacs-lisp-mode . paredit-mode)
         (geiser-mode . paredit-mode)
         (geiser-repl-mode . paredit-mode)
         (lisp-mode . paredit-mode)
         (scheme-mode . paredit-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0fb6e75" class="outline-2">
<h2 id="org0fb6e75">prettify-symbols-mode</h2>
<div class="outline-text-2" id="text-org0fb6e75">
<p>
Specific configuration for <a href="https://fsd.it/shop/fonts/pragmatapro/">PragmataPro</a> from
<a href="https://github.com/fabrizioschiavi/pragmatapro/tree/master/emacs_snippets">https://github.com/fabrizioschiavi/pragmatapro/tree/master/emacs_snippets</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">prog-mode</span>
  <span class="org-builtin">:config</span>
  (load (expand-file-name <span class="org-string">"pragmatapro-prettify-symbols-v0.829.el"</span> k20e/elisp-directory))
  <span class="org-builtin">:hook</span> ((prog-mode . prettify-hook)))
</pre>
</div>

<ul class="org-ul">
<li><a href="https://blog.jft.rocks/emacs/unicode-for-orgmode-checkboxes.html">https://blog.jft.rocks/emacs/unicode-for-orgmode-checkboxes.html</a></li>
<li><a href="http://www.modernemacs.com/post/prettify-mode/">http://www.modernemacs.com/post/prettify-mode/</a></li>
<li><a href="https://www.emacswiki.org/emacs/DontReadItsName">https://www.emacswiki.org/emacs/DontReadItsName</a></li>
<li><a href="http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html">http://endlessparentheses.com/using-prettify-symbols-in-clojure-and-elisp-without-breaking-indentation.html</a></li>
<li><a href="https://pixelambacht.nl/2015/sans-bullshit-sans/">https://pixelambacht.nl/2015/sans-bullshit-sans/</a></li>
<li><a href="https://github.com/ekaschalk/.spacemacs.d/blob/master/layers/display/local/pretty-fonts/pretty-fonts.el">https://github.com/ekaschalk/.spacemacs.d/blob/master/layers/display/local/pretty-fonts/pretty-fonts.el</a></li>
<li><a href="https://unix.stackexchange.com/questions/247108/how-to-find-out-which-unicode-codepoints-are-defined-in-a-ttf-file">https://unix.stackexchange.com/questions/247108/how-to-find-out-which-unicode-codepoints-are-defined-in-a-ttf-file</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5b9b7e5" class="outline-2">
<h2 id="org5b9b7e5">python</h2>
<div class="outline-text-2" id="text-org5b9b7e5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">blacken</span> <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">use-package</span> <span class="org-constant">python</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> (flycheck lsp-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span>
   lsp-pylsp-plugins-black-enabled t)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> python-mode-map
              (<span class="org-string">"M-a"</span> . python-nav-beginning-of-statement)
              (<span class="org-string">"M-e"</span> . python-nav-end-of-statement)
              (<span class="org-string">"M-n"</span> . python-nav-forward-statement)
              (<span class="org-string">"M-p"</span> . python-nav-backward-statement)
              (<span class="org-string">"M-q"</span> . blacken-buffer)
              (<span class="org-string">"C-M-f"</span> . python-nav-forward-sexp)
              (<span class="org-string">"C-M-b"</span> . python-nav-backward-sexp)
              (<span class="org-string">"C-M-n"</span> . python-nav-forward-block)
              (<span class="org-string">"C-M-p"</span> . python-nav-backward-block))
  <span class="org-builtin">:hook</span> ((before-save . (<span class="org-keyword">lambda</span> ()
                          (<span class="org-keyword">when</span> (eq major-mode 'python-mode)
                            (lsp-organize-imports)
                            (lsp-format-buffer))))
         (python-mode . blacken-mode)
         (python-mode . electric-pair-mode)
         (python-mode . flycheck-mode)
         (python-mode . lsp-deferred)
         (python-mode . prettify-symbols-mode)
         (python-mode . superword-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb98a75" class="outline-2">
<h2 id="orgbb98a75">re-builder</h2>
<div class="outline-text-2" id="text-orgbb98a75">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">re-builder</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> reb-re-syntax 'string))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1fda56" class="outline-2">
<h2 id="orgc1fda56">recentf</h2>
<div class="outline-text-2" id="text-orgc1fda56">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">counsel</span>)
(<span class="org-keyword">require</span> '<span class="org-constant">recentf</span>)

(<span class="org-keyword">setq</span> recentf-save-file (expand-file-name <span class="org-string">".recentf"</span> k20e/google-drive-directory)
      recentf-max-saved-items 250)

(recentf-mode 1)

(global-set-key (kbd <span class="org-string">"C-x C-r"</span>) 'counsel-recentf)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge9c2ee6" class="outline-2">
<h2 id="orge9c2ee6">ripgrep</h2>
<div class="outline-text-2" id="text-orge9c2ee6">
<p>
<a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> via <a href="#counsel">Counsel</a>, defaulting to the thing at point in the nearest
<code>git</code> repository ancestor.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">counsel</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/counsel-rg-project</span> (initial-input)
  <span class="org-doc">"Search using `</span><span class="org-doc"><span class="org-constant">counsel-rg</span></span><span class="org-doc">' from the project root for INITIAL-INPUT."</span>
  (<span class="org-keyword">interactive</span> (list (thing-at-point 'symbol)))
  (counsel-rg initial-input (<span class="org-keyword">condition-case</span> err
                                (vc-root-dir)
                              (<span class="org-warning">error</span> default-directory))))

(global-set-key (kbd <span class="org-string">"C-x C-a"</span>) 'k20e/counsel-rg-project)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga66481b" class="outline-2">
<h2 id="orga66481b">rust</h2>
<div class="outline-text-2" id="text-orga66481b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">flycheck</span> <span class="org-builtin">:ensure</span> t)
(<span class="org-keyword">use-package</span> <span class="org-constant">flycheck-rust</span> <span class="org-builtin">:ensure</span> t)
(<span class="org-keyword">use-package</span> <span class="org-constant">rust-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/rust-mode-hook</span> ()
    (<span class="org-keyword">setq</span> flycheck-checker 'rust
          rust-format-on-save t)
    (flycheck-mode 1)
    (flycheck-rust-setup))
  <span class="org-builtin">:hook</span> ((rust-mode . k20e/rust-mode-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6c7f7f" class="outline-2">
<h2 id="orgd6c7f7f">savehist</h2>
<div class="outline-text-2" id="text-orgd6c7f7f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">savehist</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> savehist-file (expand-file-name <span class="org-string">".savehist"</span> k20e/google-drive-directory)))

(savehist-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b408e2" class="outline-2">
<h2 id="org9b408e2"><code>*scratch*</code></h2>
<div class="outline-text-2" id="text-org9b408e2">
<p>
Begin with an empty <code>*scratch*</code> file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> initial-scratch-message nil)
</pre>
</div>

<p>
Set it to Emacs Lisp mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">with-current-buffer</span> (get-buffer-create <span class="org-string">"*scratch*"</span>)
  (emacs-lisp-mode))
</pre>
</div>
</div>

<div id="outline-container-orga8943b1" class="outline-3">
<h3 id="orga8943b1">Quickly create new scratch buffers</h3>
<div class="outline-text-3" id="text-orga8943b1">
<p>
With a preset list of major modes that I find often need scratch
pads for.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defconst</span> <span class="org-variable-name">k20e/scratch-buffer-modes</span>
  '(fundamental-mode
    emacs-lisp-mode
    python-mode
    javascript-mode
    org-mode
    sql-mode
    text-mode
    yaml-mode)
  <span class="org-doc">"Common major modes to create scratch buffers for."</span>)

(<span class="org-keyword">defun</span> <span class="org-function-name">k20e/scratch-buffer</span> ()
  <span class="org-doc">"Generate a new scratch buffer.</span>
<span class="org-doc">Choose from `</span><span class="org-doc"><span class="org-constant">k20e/scratch-buffer-modes</span></span><span class="org-doc">' list of major modes to</span>
<span class="org-doc">enable in the newly created scratch buffer and switch to it."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((mode (read (ivy-completing-read <span class="org-string">"New *scratch* buffer with mode: "</span>
                                         (mapcar (<span class="org-keyword">lambda</span> (el) (format <span class="org-string">"%s"</span> el))
                                                 k20e/scratch-buffer-modes)))))
    (switch-to-buffer (generate-new-buffer (format <span class="org-string">"*scratch-%s*"</span> mode)))
    (funcall mode)))
</pre>
</div>

<p>
Bind it globally.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span class="org-string">"&lt;f10&gt;"</span>) 'k20e/scratch-buffer)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org32bc302" class="outline-2">
<h2 id="org32bc302">sh-mode</h2>
<div class="outline-text-2" id="text-org32bc302">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">sh-script</span>
  <span class="org-builtin">:after</span> (flycheck)
  <span class="org-builtin">:functions</span> flycheck-select-checker
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/sh-script-hook</span> ()
    (flycheck-select-checker 'sh-shellcheck))
  <span class="org-builtin">:hook</span> ((sh-mode . k20e/sh-script-hook)
         (sh-mode . flycheck-mode)
         (sh-mode . prettify-symbols-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org29d5ef8" class="outline-2">
<h2 id="org29d5ef8">server</h2>
<div class="outline-text-2" id="text-org29d5ef8">
<p>
Start the Emacs server if it not already running.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">server</span>)

(<span class="org-keyword">unless</span> (server-running-p)
  (server-start))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa7f900" class="outline-2">
<h2 id="orgfa7f900">smex</h2>
<div class="outline-text-2" id="text-orgfa7f900">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">smex</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (smex-initialize)
  (<span class="org-keyword">setq-default</span> smex-save-file (expand-file-name <span class="org-string">".smex-items"</span> k20e/google-drive-directory)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9c270f5" class="outline-2">
<h2 id="org9c270f5">sql-mode</h2>
<div class="outline-text-2" id="text-org9c270f5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">sql</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> sql-product 'mysql
        tab-width 4))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9de2ac" class="outline-2">
<h2 id="orga9de2ac">Swiper</h2>
<div class="outline-text-2" id="text-orga9de2ac">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">swiper</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-s"</span> . swiper)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org920593c" class="outline-2">
<h2 id="org920593c">Theme</h2>
<div class="outline-text-2" id="text-org920593c">
<p>
Always highlight the current line:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">hl-line</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (global-hl-line-mode t))
</pre>
</div>

<p>
Simple stuff:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">simple</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (line-number-mode)
  (column-number-mode)
  (size-indication-mode))

</pre>
</div>

<p>
Highlight matching parentheses:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">paren</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (show-paren-mode))
</pre>
</div>

<p>
Blink the cursor:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">frame</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> blink-cursor-mode t))
</pre>
</div>

<p>
Truncate lines and enable fringes to indicate truncated lines:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">fringe</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span>
   truncate-lines t
   truncate-partial-width-windows nil)
  (fringe-mode))


</pre>
</div>

<p>
No bell:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> ring-bell-function 'ignore))
</pre>
</div>

<p>
Make sure syntax highlighting is enabled:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">font-core</span>)
(<span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:config</span>
  (global-font-lock-mode))
</pre>
</div>

<p>
Set theme automatically on MacOS thanks to
<a href="https://github.com/d12frosted/homebrew-emacs-plus#system-appearance-change">https://github.com/d12frosted/homebrew-emacs-plus#system-appearance-change</a>.  Just set it to dark on Linux for now.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">color-theme-sanityinc-tomorrow</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">cond</span> ((eq system-type 'darwin)
         (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/load-theme</span> (mode)
           <span class="org-doc">"Load light or dark theme depending on which mode the system is currently in."</span>
           (<span class="org-keyword">pcase</span> mode
             ('light (load-theme 'sanityinc-tomorrow-day t))
             ('dark (load-theme 'sanityinc-tomorrow-bright t))))
         (add-hook 'ns-system-appearance-change-functions 'k20e/load-theme))
        ((string-equal system-type <span class="org-string">"gnu/linux"</span>)
         (load-theme 'sanityinc-tomorrow-bright t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org48ddfb6" class="outline-2">
<h2 id="org48ddfb6">terraform-mode</h2>
<div class="outline-text-2" id="text-org48ddfb6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">terraform-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((terraform-mode . terraform-format-on-save-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga5a85ee" class="outline-2">
<h2 id="orga5a85ee">text-mode</h2>
<div class="outline-text-2" id="text-orga5a85ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">simple</span>
  <span class="org-builtin">:hook</span> ((text-mode . auto-fill-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a9afbd" class="outline-2">
<h2 id="org0a9afbd">toml-mode</h2>
<div class="outline-text-2" id="text-org0a9afbd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">toml-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> (<span class="org-string">"Pipfile\\'"</span> . toml-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org240e447" class="outline-2">
<h2 id="org240e447">tramp</h2>
<div class="outline-text-2" id="text-org240e447">
</div>
<div id="outline-container-orgf159171" class="outline-3">
<h3 id="orgf159171"><code>ControlPath</code></h3>
<div class="outline-text-3" id="text-orgf159171">
<p>
Fix <code>ControlPath too long</code> errors due to OS X pitching a <a href="https://lists.macosforge.org/pipermail/macports-tickets/2011-June/084295.html">long temporary directory</a> to <code>ssh</code>.
</p>

<p>
Unfortunately, setting this is blowing up the <code>server-start</code> which
can no longer find the socket stored in the original <code>TMPDIR</code>
value.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(setenv "TMPDIR" "/tmp")</span>
</pre>
</div>

<p>
Eureka!  It appears that the <code>ControlMaster</code> option for <code>ssh</code>
should be set to <code>yes</code> instead of <code>auto</code> to avoid the <code>ControlPath
   too long</code> error.  Here is the interesting section of <code>man 5
   ssh_config</code>:
</p>

<pre class="example" id="orgde934c3">
ControlMaster
             Enables the sharing of multiple sessions over a single network connection.  When set to
             ``yes'', ssh(1) will listen for connections on a control socket specified using the
             ControlPath argument.  Additional sessions can connect to this socket using the same
             ControlPath with ControlMaster set to ``no'' (the default).  These sessions will try to reuse
             the master instance's network connection rather than initiating new ones, but will fall back
             to connecting normally if the control socket does not exist, or is not listening.

             Setting this to ``ask'' will cause ssh to listen for control connections, but require confir-
             mation using the SSH_ASKPASS program before they are accepted (see ssh-add(1) for details).
             If the ControlPath cannot be opened, ssh will continue without connecting to a master
             instance.

             X11 and ssh-agent(1) forwarding is supported over these multiplexed connections, however the
             display and agent forwarded will be the one belonging to the master connection i.e. it is not
             possible to forward multiple displays or agents.

             Two additional options allow for opportunistic multiplexing: try to use a master connection
             but fall back to creating a new one if one does not already exist.  These options are:
             ``auto'' and ``autoask''.  The latter requires confirmation like the ``ask'' option.
</pre>

<p>
The <code>tramp-ssh-controlmaster-options</code> variable is responsible for
the <code>ControlMaster</code> value as well as a few other options which have
not been changed from their default values.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">tramp</span>
  <span class="org-builtin">:defines</span> tramp-ssh-controlmaster-options
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> tramp-ssh-controlmaster-options <span class="org-string">"-o ControlPath=%t.%%r@%%h:%%p -o ControlMaster=yes -o ControlPersist=no"</span>))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5309f59" class="outline-3">
<h3 id="org5309f59">Inline Copying</h3>
<div class="outline-text-3" id="text-org5309f59">
<p>
Do not inline copy files.  This is to avoid <code>File exists, but
   cannot be read</code> errors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> tramp-copy-size-limit -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f7d039" class="outline-3">
<h3 id="org0f7d039">File Backup</h3>
<div class="outline-text-3" id="text-org0f7d039">
<p>
Do not backup files edited by <code>tramp</code> to <a href="http://www.gnu.org/software/emacs/manual/html_node/tramp/Auto_002dsave-and-Backup.html">avoid possibly sharing
copies of privileged files with non-privileged users</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'backup-directory-alist (list tramp-file-name-regexp))
</pre>
</div>
</div>
</div>

<div id="outline-container-org145ca39" class="outline-3">
<h3 id="org145ca39">Debugging</h3>
<div class="outline-text-3" id="text-org145ca39">
<p>
Level <code>3</code> by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(setq tramp-verbose 6)</span>
</pre>
</div>

<p>
Will create a detailed log buffer.
</p>
</div>
</div>
</div>

<div id="outline-container-org1ad6acd" class="outline-2">
<h2 id="org1ad6acd">uniquify</h2>
<div class="outline-text-2" id="text-org1ad6acd">
<p>
Name multiple identical buffer names in a sensible manner.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">uniquify</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> uniquify-buffer-name-style 'forward))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgefcef9a" class="outline-2">
<h2 id="orgefcef9a">windmove</h2>
<div class="outline-text-2" id="text-orgefcef9a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">windmove</span>
  <span class="org-builtin">:config</span>
  (windmove-default-keybindings 'super)
  (<span class="org-keyword">setq</span> windmove-wrap-around t)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"M-SPC"</span> . windmove-right)
         (<span class="org-string">"M-S-SPC"</span> . windmove-left)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c7968e" class="outline-2">
<h2 id="org3c7968e">web-mode</h2>
<div class="outline-text-2" id="text-org3c7968e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">elec-pair</span>
  <span class="org-builtin">:functions</span> electric-pair-default-inhibit)

(<span class="org-keyword">use-package</span> <span class="org-constant">web-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:functions</span> flycheck-add-mode
  <span class="org-builtin">:after</span> (elec-pair flycheck)
  <span class="org-builtin">:mode</span>
  (<span class="org-string">"\\.html?\\'"</span> . web-mode)
  (<span class="org-string">"\\.jsx?\\'"</span> . web-mode)
  (<span class="org-string">"\\.tsx?\\'"</span> . web-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/web-mode-hook</span> ()
    (set-default 'web-mode-engines-alist '((<span class="org-string">"django"</span> . <span class="org-string">"\\.html?\\'"</span>)))
    (<span class="org-keyword">setq</span> web-mode-markup-indent-offset 2
          web-mode-enable-auto-quoting nil)

    (flycheck-add-mode 'typescript-tslint 'web-mode)

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable pairing { to avoid {{ }}}} from web-mode block templates</span>
    (<span class="org-keyword">setq-local</span> electric-pair-inhibit-predicate
                (<span class="org-keyword">lambda</span> (c)
                  (<span class="org-keyword">if</span> (char-equal c ?{) t (electric-pair-default-inhibit c)))))
  <span class="org-builtin">:hook</span> ((web-mode . k20e/web-mode-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org296a93a" class="outline-2">
<h2 id="org296a93a">winner-mode</h2>
<div class="outline-text-2" id="text-org296a93a">
<p>
Remember window configurations.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">winner</span>
  <span class="org-builtin">:config</span>
  (winner-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8d937c" class="outline-2">
<h2 id="orgd8d937c">whitespace</h2>
<div class="outline-text-2" id="text-orgd8d937c">
<p>
Take care of some whitespace issues.
</p>

<ul class="org-ul">
<li>Kill trailing whitespace on save</li>
<li>Insert a new line at the end of file on save</li>
<li>Prefer <code>space</code> over <code>tab</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">whitespace</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> require-final-newline t
                mode-require-final-newline t
                indent-tabs-mode nil)
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/before-save-hook</span> ()
    (whitespace-cleanup)
    (delete-trailing-whitespace 0 nil))
  <span class="org-builtin">:hook</span> ((before-save . k20e/before-save-hook)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org93ed463" class="outline-2">
<h2 id="org93ed463">yaml-mode</h2>
<div class="outline-text-2" id="text-org93ed463">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">flycheck-yamllint</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> (flycheck))

(<span class="org-keyword">use-package</span> <span class="org-constant">highlight-indent-guides</span>
  <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">use-package</span> <span class="org-constant">yaml-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> (flycheck-yamllint flyspell highlight-indent-guides)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> yaml-mode-map (<span class="org-string">"C-m"</span> . newline-and-indent))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">k20e/yaml-mode-hook</span> ()
    (flycheck-select-checker 'yaml-yamllint)
    (flycheck-yamllint-setup)
    (flyspell-mode-off))
  <span class="org-builtin">:hook</span> ((yaml-mode . k20e/yaml-mode-hook)
         (yaml-mode . flycheck-mode)
         (yaml-mode . highlight-indent-guides-mode)
         (yaml-mode . prettify-symbols-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9180e6d" class="outline-2">
<h2 id="org9180e6d">zig-mode</h2>
<div class="outline-text-2" id="text-org9180e6d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">zig-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-builtin">:map</span> zig-mode-map (<span class="org-string">"C-."</span> . 'company-indent-or-complete-common))
  <span class="org-builtin">:functions</span>
  lsp-register-client
  make-lsp-client
  <span class="org-builtin">:hook</span>
  ((before-save . (<span class="org-keyword">lambda</span> () (<span class="org-keyword">when</span> (eq major-mode 'zig-mode)
                          (lsp-format-buffer))))
   (zig-mode . company-mode)
   (zig-mode . lsp-deferred))
  <span class="org-builtin">:custom</span> (zig-format-on-save nil)
  <span class="org-builtin">:config</span>
  (lsp-register-client
   (make-lsp-client
    <span class="org-builtin">:major-modes</span> '(zig-mode)
    <span class="org-builtin">:server-id</span> 'zls)))
</pre>
</div>

<p>
<code>zig config</code> then modified a bit to arrive at:
</p>

<div class="org-src-container">
<pre class="src src-js">{
  <span class="org-string">"enable_semantic_tokens"</span>: <span class="org-constant">true</span>,
  <span class="org-string">"enable_snippets"</span>: <span class="org-constant">true</span>,
  <span class="org-string">"include_at_in_builtins"</span>: <span class="org-constant">false</span>,
  <span class="org-string">"include_at_in_builtins"</span>: <span class="org-constant">true</span>,
  <span class="org-string">"max_detail_length"</span>: 1048576,
  <span class="org-string">"operator_completions"</span>: <span class="org-constant">true</span>,
  <span class="org-string">"warn_style"</span>: <span class="org-constant">true</span>,
  <span class="org-string">"zig_exe_path"</span>: <span class="org-string">"/bin/zig"</span>,
  <span class="org-string">"zig_lib_path"</span>: <span class="org-string">"/usr/lib/zig"</span>
}
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Kris Molendyke</p>
<p class="date">2023-11-05 Sun 07:48</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.1 (<a href="https://orgmode.org">Org</a> mode 9.6.11)</p>
</div>
</body>
</html>
